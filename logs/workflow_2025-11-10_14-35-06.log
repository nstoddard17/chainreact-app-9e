=== Log Session Started: 2025-11-10T20:35:06.342Z ===
Node Version: v23.7.0
Platform: darwin
Working Directory: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e
================================================================================

[2025-11-10T20:35:06.342Z] [INFO   ] File logging initialized
[2025-11-10T20:35:06.342Z] [INFO   ] Log file: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-11-10_14-35-06.log
[2025-11-10T20:35:06.344Z] [INFO   ] üìÅ File logging enabled
[2025-11-10T20:35:06.344Z] [INFO   ] üìù Logs will be written to: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-11-10_14-35-06.log
[2025-11-10T20:35:06.344Z] [INFO   ] üí° To view logs in real-time: tail -f /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-11-10_14-35-06.log
[2025-11-10T20:35:06.344Z] [INFO   ] üí° To view all logs: cat /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-11-10_14-35-06.log
[2025-11-10T20:35:06.344Z] [INFO   ] üí° To share logs: Copy the file at /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-11-10_14-35-06.log
[2025-11-10T20:35:06.344Z] [INFO   ] --------------------------------------------------------------------------------
[2025-11-10T20:35:06.344Z] [DEBUG  ] üìÅ File logging system initialized
[2025-11-10T20:35:06.366Z] [INFO   ]  [32m[1m‚úì[22m[39m Ready in 3.8s
[2025-11-10T20:35:06.381Z] [WARN   ]  [33m[1m‚ö†[22m[39m ./lib/workflows/actions/registry.ts
Attempted import error: 'findGoogleSheetsRow' is not exported from './googleSheets' (imported as 'findGoogleSheetsRow').

Import trace for requested module:
./lib/workflows/actions/registry.ts
./lib/workflows/executeNode.ts
./lib/execution/advancedExecutionEngine.ts
./lib/integrations/discordGateway.ts
[2025-11-10T20:35:07.024Z] [WARN   ]  [33m[1m‚ö†[22m[39m ./lib/workflows/actions/registry.ts
Attempted import error: 'findGoogleSheetsRow' is not exported from './googleSheets' (imported as 'findGoogleSheetsRow').

Import trace for requested module:
./lib/workflows/actions/registry.ts
./lib/workflows/executeNode.ts
./lib/execution/advancedExecutionEngine.ts
./lib/integrations/discordGateway.ts
[2025-11-10T20:35:07.355Z] [INFO   ] 2025-11-10T20:35:07.355Z [DEBUG] ü§ñ Discord bot configured, initializing gateway connection in background...
[2025-11-10T20:35:09.667Z] [INFO   ] 2025-11-10T20:35:09.667Z [DEBUG] Initializing Discord Gateway connection (singleton)...
[2025-11-10T20:35:09.667Z] [INFO   ] 2025-11-10T20:35:09.667Z [DEBUG] üîë Discord bot token loaded
[2025-11-10T20:35:10.443Z] [INFO   ] 2025-11-10T20:35:10.443Z [DEBUG] Discord Gateway initialization complete
[2025-11-10T20:35:10.443Z] [INFO   ] 2025-11-10T20:35:10.443Z [DEBUG] ‚úÖ Discord bot gateway connection initialized
[2025-11-10T20:35:10.688Z] [INFO   ] 2025-11-10T20:35:10.687Z [DEBUG] Discord Gateway WebSocket connection established
[2025-11-10T20:35:10.688Z] [INFO   ] 2025-11-10T20:35:10.688Z [DEBUG] üîë Sending identify with intents: {"GUILDS":true,"GUILD_MEMBERS":true,"GUILD_INVITES":true,"GUILD_MESSAGES":true,"MESSAGE_CONTENT":true,"intentsValue":33347}
[2025-11-10T20:35:10.899Z] [INFO   ] 2025-11-10T20:35:10.899Z [DEBUG] üéâ Discord bot ready! {"sessionId":"ea1a84d826138f149f5803c8ca8d9256","username":"ChainReact-Bot","userId":"1378595955212812308","guildCount":2}
[2025-11-10T20:35:10.899Z] [INFO   ] 2025-11-10T20:35:10.899Z [DEBUG] üìã Initializing invite cache...
[2025-11-10T20:35:10.905Z] [INFO   ] 2025-11-10T20:35:10.905Z [DEBUG] üì° Discord event received: GUILD_CREATE
[2025-11-10T20:35:10.949Z] [INFO   ] 2025-11-10T20:35:10.949Z [DEBUG] üì° Discord event received: GUILD_CREATE
[2025-11-10T20:35:11.070Z] [INFO   ] 2025-11-10T20:35:11.070Z [DEBUG] ‚úÖ Cached 3 invites for guild 1378950884045623406
[2025-11-10T20:38:11.172Z] [WARN   ]  [33m[1m‚ö†[22m[39m ./lib/workflows/actions/registry.ts
Attempted import error: 'findGoogleSheetsRow' is not exported from './googleSheets' (imported as 'findGoogleSheetsRow').

Import trace for requested module:
./lib/workflows/actions/registry.ts
./lib/workflows/executeNode.ts
./lib/execution/advancedExecutionEngine.ts
./lib/integrations/discordGateway.ts
[2025-11-10T20:38:17.207Z] [WARN   ]  [33m[1m‚ö†[22m[39m ./lib/workflows/actions/registry.ts
Attempted import error: 'findGoogleSheetsRow' is not exported from './googleSheets' (imported as 'findGoogleSheetsRow').

Import trace for requested module:
./lib/workflows/actions/registry.ts
./lib/workflows/executeNode.ts
./lib/execution/advancedExecutionEngine.ts
./lib/integrations/discordGateway.ts
[2025-11-10T20:38:17.864Z] [INFO   ] 2025-11-10T20:38:17.864Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-11-10T20:38:17.864Z"}
[2025-11-10T20:38:17.875Z] [INFO   ] 2025-11-10T20:38:17.875Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-11-10T20:38:17.875Z"}
[2025-11-10T20:38:17.875Z] [INFO   ] 2025-11-10T20:38:17.875Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-11-10T20:38:17.875Z"}
[2025-11-10T20:38:18.457Z] [WARN   ]  [33m[1m‚ö†[22m[39m ./lib/workflows/actions/registry.ts
Attempted import error: 'findGoogleSheetsRow' is not exported from './googleSheets' (imported as 'findGoogleSheetsRow').

Import trace for requested module:
./lib/workflows/actions/registry.ts
./lib/workflows/executeNode.ts
./lib/execution/advancedExecutionEngine.ts
./lib/integrations/discordGateway.ts
[2025-11-10T20:38:18.994Z] [WARN   ]  [33m[1m‚ö†[22m[39m ./lib/workflows/actions/registry.ts
Attempted import error: 'findGoogleSheetsRow' is not exported from './googleSheets' (imported as 'findGoogleSheetsRow').

Import trace for requested module:
./lib/workflows/actions/registry.ts
./lib/workflows/executeNode.ts
./lib/execution/advancedExecutionEngine.ts
./lib/integrations/discordGateway.ts
[2025-11-10T20:38:20.747Z] [WARN   ]  [33m[1m‚ö†[22m[39m ./lib/workflows/actions/registry.ts
Attempted import error: 'findGoogleSheetsRow' is not exported from './googleSheets' (imported as 'findGoogleSheetsRow').

Import trace for requested module:
./lib/workflows/actions/registry.ts
./lib/workflows/executeNode.ts
./lib/execution/advancedExecutionEngine.ts
./lib/integrations/discordGateway.ts
[2025-11-10T20:38:21.069Z] [WARN   ]  [33m[1m‚ö†[22m[39m ./lib/workflows/actions/registry.ts
Attempted import error: 'findGoogleSheetsRow' is not exported from './googleSheets' (imported as 'findGoogleSheetsRow').

Import trace for requested module:
./lib/workflows/actions/registry.ts
./lib/workflows/executeNode.ts
./lib/execution/advancedExecutionEngine.ts
./lib/integrations/discordGateway.ts
[2025-11-10T20:38:21.597Z] [WARN   ]  [33m[1m‚ö†[22m[39m ./lib/workflows/actions/registry.ts
Attempted import error: 'findGoogleSheetsRow' is not exported from './googleSheets' (imported as 'findGoogleSheetsRow').

Import trace for requested module:
./lib/workflows/actions/registry.ts
./lib/workflows/executeNode.ts
./lib/execution/advancedExecutionEngine.ts
./lib/integrations/discordGateway.ts
[2025-11-10T20:38:21.701Z] [INFO   ] 2025-11-10T20:38:21.701Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-10T20:38:21.701Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-10T20:38:21.800Z] [INFO   ] 2025-11-10T20:38:21.800Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-10T20:38:21.800Z] [INFO   ] 2025-11-10T20:38:21.800Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-10T20:38:21.936Z] [INFO   ] 2025-11-10T20:38:21.936Z [DEBUG] üìä [API /api/integrations] Parallel query results {"workspaceType":"personal","workspaceId":null,"integrationsCount":1,"permissionsCount":1,"integrationsError":null,"permissionsError":null}
[2025-11-10T20:38:22.030Z] [INFO   ] 2025-11-10T20:38:22.030Z [DEBUG] ‚è∞ [API /api/integrations] Updated 1 expired integrations
[2025-11-10T20:38:22.031Z] [INFO   ] 2025-11-10T20:38:22.031Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","provider":"google-sheets","permission":"admin"}
[2025-11-10T20:38:22.031Z] [INFO   ] 2025-11-10T20:38:22.031Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":1,"workspaceType":"personal"}
[2025-11-10T20:41:02.711Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 1963ms (5308 modules)
[2025-11-10T20:43:19.687Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/presence/count ...
[2025-11-10T20:43:19.723Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/presence/count in 633ms (4261 modules)
[2025-11-10T20:43:29.174Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 617ms (5431 modules)
[2025-11-10T20:43:29.410Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
[2025-11-10T20:43:29.726Z] [INFO   ] 2025-11-10T20:43:29.726Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-11-10T20:43:29.726Z"}
[2025-11-10T20:43:29.738Z] [INFO   ] 2025-11-10T20:43:29.738Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-11-10T20:43:29.738Z"}
[2025-11-10T20:43:29.738Z] [INFO   ] 2025-11-10T20:43:29.738Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-11-10T20:43:29.738Z"}
[2025-11-10T20:43:31.351Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 303ms (4263 modules)
[2025-11-10T20:43:32.007Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (4270 modules)
[2025-11-10T20:43:32.173Z] [INFO   ] 2025-11-10T20:43:32.173Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-10T20:43:32.173Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-10T20:43:32.472Z] [INFO   ] 2025-11-10T20:43:32.472Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-10T20:43:32.472Z] [INFO   ] 2025-11-10T20:43:32.472Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-10T20:43:32.670Z] [INFO   ] 2025-11-10T20:43:32.670Z [DEBUG] üìä [API /api/integrations] Parallel query results {"workspaceType":"personal","workspaceId":null,"integrationsCount":1,"permissionsCount":1,"integrationsError":null,"permissionsError":null}
[2025-11-10T20:43:32.671Z] [INFO   ] 2025-11-10T20:43:32.671Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","provider":"google-sheets","permission":"admin"}
[2025-11-10T20:43:32.671Z] [INFO   ] 2025-11-10T20:43:32.671Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":1,"workspaceType":"personal"}
[2025-11-10T20:44:11.033Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 904ms (5440 modules)
[2025-11-10T20:44:20.531Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 614ms (5440 modules)
[2025-11-10T20:44:27.621Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 591ms (5440 modules)
[2025-11-10T20:44:56.936Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 619ms (5324 modules)
[2025-11-10T20:48:32.672Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/presence/count ...
[2025-11-10T20:48:32.709Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/presence/count in 627ms (4261 modules)
[2025-11-10T20:50:34.549Z] [INFO   ] 2025-11-10T20:50:34.549Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-11-10T20:50:34.549Z"}
[2025-11-10T20:50:34.564Z] [INFO   ] 2025-11-10T20:50:34.564Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-11-10T20:50:34.564Z"}
[2025-11-10T20:50:34.565Z] [INFO   ] 2025-11-10T20:50:34.565Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-11-10T20:50:34.565Z"}
[2025-11-10T20:50:35.975Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations ...
[2025-11-10T20:50:36.035Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 746ms (4154 modules)
[2025-11-10T20:50:36.442Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (4270 modules)
[2025-11-10T20:50:36.614Z] [INFO   ] 2025-11-10T20:50:36.614Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-10T20:50:36.614Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-10T20:50:36.815Z] [INFO   ] 2025-11-10T20:50:36.815Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-10T20:50:36.816Z] [INFO   ] 2025-11-10T20:50:36.816Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-10T20:50:36.986Z] [INFO   ] 2025-11-10T20:50:36.986Z [DEBUG] üìä [API /api/integrations] Parallel query results {"workspaceType":"personal","workspaceId":null,"integrationsCount":2,"permissionsCount":2,"integrationsError":null,"permissionsError":null}
[2025-11-10T20:50:36.987Z] [INFO   ] 2025-11-10T20:50:36.987Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","provider":"google-sheets","permission":"admin"}
[2025-11-10T20:50:36.987Z] [INFO   ] 2025-11-10T20:50:36.987Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","permission":"admin"}
[2025-11-10T20:50:36.987Z] [INFO   ] 2025-11-10T20:50:36.987Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":2,"workspaceType":"personal"}
[2025-11-10T20:50:38.970Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/auth/generate-url ...
[2025-11-10T20:50:39.395Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/auth/generate-url in 928ms (5430 modules)
[2025-11-10T20:50:42.194Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/google-sheets/callback ...
[2025-11-10T20:50:42.338Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/google-sheets/callback in 658ms (5438 modules)
[2025-11-10T20:50:42.405Z] [INFO   ] 2025-11-10T20:50:42.405Z [DEBUG] üîç google-sheets callback called: {"url":"http://localhost:3000/api/integrations/google-sheets/callback?state=eyJ1c2VySWQiOiJhM2UzYTUxYS0xNzVjLTRiNTktYWQwMy0yMjdiYTEyYTE4YjAiLCJwcm92aWRlciI6Imdvb2dsZS1zaGVldHMiLCJyZWNvbm5lY3QiOmZhbHNlLCJ0aW1lc3RhbXAiOjE3NjI4MDc4Mzk3MzIsIndvcmtzcGFjZVR5cGUiOiJwZXJzb25hbCJ9&code=4%2F0Ab32j90VC-DGoaXOmHnnhl93nQQuaSXMSDvAkFXtp1ht3THTH0-wVxm_Pze3P8FWprZpzA&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcalendar+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fdrive+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fdrive.readonly+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fanalytics.edit+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fgmail.settings.sharing+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fspreadsheets+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fgmail.modify+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fdocuments+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fgmail.settings.basic+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcontacts.readonly+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fanalytics.readonly&authuser=0&prompt=none","hasCode":true,"hasState":true,"error":null,"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
[2025-11-10T20:50:42.405Z] [INFO   ] 2025-11-10T20:50:42.405Z [DEBUG] google-sheets OAuth callback state: {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"google-sheets","reconnect":false,"workspaceType":"personal"}
[2025-11-10T20:50:42.799Z] [INFO   ] 2025-11-10T20:50:42.799Z [DEBUG] ‚úÖ Google Sheets user info fetched: {"email":"stoddard.nathaniel900@gmail.com","name":"nathaniel stoddard"}
[2025-11-10T20:50:42.996Z] [INFO   ] 2025-11-10T20:50:42.995Z [DEBUG] ‚úÖ Updated existing integration by email: dc6cd712-ac50-45b5-86b6-4ff9963c7aa8
[2025-11-10T20:50:42.997Z] [INFO   ] 2025-11-10T20:50:42.997Z [DEBUG] Granting permissions for workspace context: {"type":"personal"}
[2025-11-10T20:50:43.144Z] [ERROR  ] 2025-11-10T20:50:43.143Z [ERROR] Error granting permission: {"code":"23505","details":null,"hint":null,"message":"duplicate key value violates unique constraint \"integration_permissions_integration_id_user_id_key\""}
[2025-11-10T20:50:43.145Z] [INFO   ] 2025-11-10T20:50:43.145Z [INFO] Personal integration dc6cd712-ac50-45b5-86b6-4ff9963c7aa8 - granted admin to a3e3a51a-175c-4b59-ad03-227ba12a18b0
[2025-11-10T20:50:43.145Z] [INFO   ] 2025-11-10T20:50:43.145Z [DEBUG] ‚úÖ Permissions granted successfully
[2025-11-10T20:50:43.146Z] [INFO   ] 2025-11-10T20:50:43.145Z [DEBUG] ‚úÖ google-sheets integration successfully saved
[2025-11-10T20:50:43.147Z] [INFO   ] 2025-11-10T20:50:43.147Z [DEBUG] üîÑ Creating popup response: type=success, provider=google-sheets, displayName=Google Sheets, message=google-sheets connected successfully!
[2025-11-10T20:50:49.084Z] [INFO   ] 2025-11-10T20:50:49.084Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-11-10T20:50:49.084Z"}
[2025-11-10T20:50:49.096Z] [INFO   ] 2025-11-10T20:50:49.096Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-11-10T20:50:49.096Z"}
[2025-11-10T20:50:49.096Z] [INFO   ] 2025-11-10T20:50:49.096Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-11-10T20:50:49.096Z"}
[2025-11-10T20:50:49.982Z] [INFO   ] 2025-11-10T20:50:49.982Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-10T20:50:49.982Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-10T20:50:50.108Z] [INFO   ] 2025-11-10T20:50:50.108Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-10T20:50:50.108Z] [INFO   ] 2025-11-10T20:50:50.108Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-10T20:50:50.230Z] [INFO   ] 2025-11-10T20:50:50.230Z [DEBUG] üìä [API /api/integrations] Parallel query results {"workspaceType":"personal","workspaceId":null,"integrationsCount":2,"permissionsCount":2,"integrationsError":null,"permissionsError":null}
[2025-11-10T20:50:50.230Z] [INFO   ] 2025-11-10T20:50:50.230Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","provider":"google-sheets","permission":"admin"}
[2025-11-10T20:50:50.231Z] [INFO   ] 2025-11-10T20:50:50.231Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","permission":"admin"}
[2025-11-10T20:50:50.231Z] [INFO   ] 2025-11-10T20:50:50.231Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":2,"workspaceType":"personal"}
[2025-11-10T20:52:05.265Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/fetch-user-data ...
[2025-11-10T20:52:05.836Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/fetch-user-data in 1071ms (5401 modules)
[2025-11-10T20:52:06.051Z] [INFO   ] 2025-11-10T20:52:06.051Z [DEBUG] üöÄ [SERVER] fetch-user-data API route called
[2025-11-10T20:52:06.051Z] [INFO   ] 2025-11-10T20:52:06.051Z [DEBUG] üîç [SERVER] fetch-user-data request parsed: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{}}
[2025-11-10T20:52:06.224Z] [INFO   ] 2025-11-10T20:52:06.224Z [DEBUG] üîÑ [SERVER] Routing Google request to dedicated API: google-sheets_spreadsheets (provider: google-sheets)
[2025-11-10T20:52:06.792Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/google/data ...
[2025-11-10T20:52:06.918Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/google/data in 653ms (5437 modules)
[2025-11-10T20:52:07.004Z] [INFO   ] 2025-11-10T20:52:07.004Z [DEBUG] üöÄ [Google Data API] POST handler invoked
[2025-11-10T20:52:07.004Z] [INFO   ] 2025-11-10T20:52:07.004Z [DEBUG] üîç [Google Data API] Request received: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{},"fullRequestBody":{"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{}}}
[2025-11-10T20:52:07.114Z] [INFO   ] 2025-11-10T20:52:07.114Z [DEBUG] üìä [Google API] Integration provider check: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","actualProvider":"google-sheets","dataType":"google-sheets_spreadsheets","providerLowerCase":"google-sheets"}
[2025-11-10T20:52:07.114Z] [INFO   ] 2025-11-10T20:52:07.114Z [DEBUG] üîç [Google API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","provider":"google-sheets","status":"connected","hasToken":true}
[2025-11-10T20:52:07.115Z] [INFO   ] 2025-11-10T20:52:07.115Z [DEBUG] üìä [Google Sheets] Fetching spreadsheets
[2025-11-10T20:52:07.631Z] [INFO   ] 2025-11-10T20:52:07.631Z [DEBUG] ‚úÖ [Google Sheets] Retrieved 21 spreadsheets
[2025-11-10T20:52:07.631Z] [INFO   ] 2025-11-10T20:52:07.631Z [DEBUG] ‚úÖ [Google API] Successfully processed google-sheets_spreadsheets: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":21}
[2025-11-10T20:52:07.635Z] [INFO   ] 2025-11-10T20:52:07.635Z [DEBUG] ‚úÖ [SERVER] Google API completed for google-sheets_spreadsheets, result length: 21
[2025-11-10T20:55:50.574Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/presence/count ...
[2025-11-10T20:55:50.605Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/presence/count in 706ms (4261 modules)
[2025-11-10T20:56:24.980Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1575ms (5431 modules)
[2025-11-10T20:56:45.247Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/fetch-user-data in 279ms (4265 modules)
[2025-11-10T20:56:45.320Z] [INFO   ] 2025-11-10T20:56:45.319Z [DEBUG] üöÄ [SERVER] fetch-user-data API route called
[2025-11-10T20:56:45.320Z] [INFO   ] 2025-11-10T20:56:45.320Z [DEBUG] üîç [SERVER] fetch-user-data request parsed: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"}}
[2025-11-10T20:56:45.490Z] [INFO   ] 2025-11-10T20:56:45.489Z [DEBUG] üîÑ [SERVER] Routing Google request to dedicated API: google-sheets_sheets (provider: google-sheets)
[2025-11-10T20:56:45.816Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/google/data in 288ms (4301 modules)
[2025-11-10T20:56:45.887Z] [INFO   ] 2025-11-10T20:56:45.887Z [DEBUG] üöÄ [Google Data API] POST handler invoked
[2025-11-10T20:56:45.888Z] [INFO   ] 2025-11-10T20:56:45.888Z [DEBUG] üîç [Google Data API] Request received: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"},"fullRequestBody":{"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"}}}
[2025-11-10T20:56:46.006Z] [INFO   ] 2025-11-10T20:56:46.006Z [DEBUG] üìä [Google API] Integration provider check: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","actualProvider":"google-sheets","dataType":"google-sheets_sheets","providerLowerCase":"google-sheets"}
[2025-11-10T20:56:46.007Z] [INFO   ] 2025-11-10T20:56:46.007Z [DEBUG] üîç [Google API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","provider":"google-sheets","status":"connected","hasToken":true}
[2025-11-10T20:56:46.007Z] [INFO   ] 2025-11-10T20:56:46.007Z [DEBUG] üìä [Google Sheets] Fetching sheets for spreadsheet: 13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI
[2025-11-10T20:56:46.793Z] [INFO   ] 2025-11-10T20:56:46.793Z [DEBUG] ‚úÖ [Google Sheets] Retrieved 4 sheets
[2025-11-10T20:56:46.794Z] [INFO   ] 2025-11-10T20:56:46.794Z [DEBUG] ‚úÖ [Google API] Successfully processed google-sheets_sheets: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":4}
[2025-11-10T20:56:46.801Z] [INFO   ] 2025-11-10T20:56:46.800Z [DEBUG] ‚úÖ [SERVER] Google API completed for google-sheets_sheets, result length: 4
[2025-11-10T20:56:48.723Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/google-sheets/data ...
[2025-11-10T20:56:52.156Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/google-sheets/data in 3.9s (6467 modules)
[2025-11-10T20:56:54.449Z] [INFO   ] 2025-11-10T20:56:54.448Z [DEBUG] üîç [Google Sheets API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_records","status":"connected","hasToken":true}
[2025-11-10T20:56:54.450Z] [INFO   ] 2025-11-10T20:56:54.450Z [DEBUG] üîç Google Sheets records fetcher called with: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI","sheetName":"Monthly Budget","maxRows":100,"includeHeaders":true,"hasToken":true}
[2025-11-10T20:56:54.453Z] [INFO   ] 2025-11-10T20:56:54.453Z [DEBUG] üîç Fetching Google Sheets data...
[2025-11-10T20:56:54.472Z] [INFO   ] 2025-11-10T20:56:54.472Z [DEBUG] üîç [Google Sheets API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_records","status":"connected","hasToken":true}
[2025-11-10T20:56:54.473Z] [INFO   ] 2025-11-10T20:56:54.473Z [DEBUG] üîç Google Sheets records fetcher called with: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI","sheetName":"Monthly Budget","maxRows":100,"includeHeaders":true,"hasToken":true}
[2025-11-10T20:56:54.474Z] [INFO   ] 2025-11-10T20:56:54.474Z [DEBUG] üîç Fetching Google Sheets data...
[2025-11-10T20:56:54.763Z] [INFO   ] 2025-11-10T20:56:54.763Z [DEBUG] üìä Fetched 22 rows. First row: ["","1st Paycheck","Categories"]
[2025-11-10T20:56:54.764Z] [INFO   ] 2025-11-10T20:56:54.764Z [DEBUG] ‚úÖ Converted to 21 records. Headers: ["Column A","1st Paycheck","Categories","15th Paycheck","Categories","Credit Cards","Payment","Due Date","Interest Rate"]
[2025-11-10T20:56:54.764Z] [INFO   ] 2025-11-10T20:56:54.764Z [DEBUG] üìã First record: {"id":"row_2","rowNumber":2,"fields":{"Column A":"FEDVIP","1st Paycheck":"$15.43","Categories":"Military Star Card","15th Paycheck":"$28.08","Credit Cards":"$0.00","Payment":"$93.65","Due Date":"12Sep","Interest Rate":"15.49%"},"label":"FEDVIP","value":"row_2"}
[2025-11-10T20:56:54.764Z] [INFO   ] 2025-11-10T20:56:54.764Z [DEBUG] ‚úÖ Google Sheets records fetched successfully: 21 records
[2025-11-10T20:56:54.764Z] [INFO   ] 2025-11-10T20:56:54.764Z [DEBUG] ‚úÖ [Google Sheets API] Successfully processed google-sheets_records: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":21}
[2025-11-10T20:56:54.879Z] [INFO   ] 2025-11-10T20:56:54.879Z [DEBUG] üìä Fetched 22 rows. First row: ["","1st Paycheck","Categories"]
[2025-11-10T20:56:54.880Z] [INFO   ] 2025-11-10T20:56:54.880Z [DEBUG] ‚úÖ Converted to 21 records. Headers: ["Column A","1st Paycheck","Categories","15th Paycheck","Categories","Credit Cards","Payment","Due Date","Interest Rate"]
[2025-11-10T20:56:54.880Z] [INFO   ] 2025-11-10T20:56:54.880Z [DEBUG] üìã First record: {"id":"row_2","rowNumber":2,"fields":{"Column A":"FEDVIP","1st Paycheck":"$15.43","Categories":"Military Star Card","15th Paycheck":"$28.08","Credit Cards":"$0.00","Payment":"$93.65","Due Date":"12Sep","Interest Rate":"15.49%"},"label":"FEDVIP","value":"row_2"}
[2025-11-10T20:56:54.880Z] [INFO   ] 2025-11-10T20:56:54.880Z [DEBUG] ‚úÖ Google Sheets records fetched successfully: 21 records
[2025-11-10T20:56:54.880Z] [INFO   ] 2025-11-10T20:56:54.880Z [DEBUG] ‚úÖ [Google Sheets API] Successfully processed google-sheets_records: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":21}
[2025-11-10T20:57:23.586Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1993ms (6461 modules)
[2025-11-10T20:57:28.576Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 804ms (6461 modules)
[2025-11-10T20:57:28.763Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
[2025-11-10T20:57:28.988Z] [INFO   ] 2025-11-10T20:57:28.988Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-11-10T20:57:28.988Z"}
[2025-11-10T20:57:29.000Z] [INFO   ] 2025-11-10T20:57:29.000Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-11-10T20:57:29.000Z"}
[2025-11-10T20:57:29.000Z] [INFO   ] 2025-11-10T20:57:29.000Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-11-10T20:57:29.000Z"}
[2025-11-10T20:57:31.573Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations ...
[2025-11-10T20:57:31.645Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 680ms (5293 modules)
[2025-11-10T20:57:32.496Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (5319 modules)
[2025-11-10T20:57:32.707Z] [INFO   ] 2025-11-10T20:57:32.707Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-10T20:57:32.707Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-10T20:57:33.056Z] [INFO   ] 2025-11-10T20:57:33.056Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-10T20:57:33.057Z] [INFO   ] 2025-11-10T20:57:33.057Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-10T20:57:33.250Z] [INFO   ] 2025-11-10T20:57:33.250Z [DEBUG] üìä [API /api/integrations] Parallel query results {"workspaceType":"personal","workspaceId":null,"integrationsCount":2,"permissionsCount":2,"integrationsError":null,"permissionsError":null}
[2025-11-10T20:57:33.251Z] [INFO   ] 2025-11-10T20:57:33.251Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","provider":"google-sheets","permission":"admin"}
[2025-11-10T20:57:33.251Z] [INFO   ] 2025-11-10T20:57:33.251Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","permission":"admin"}
[2025-11-10T20:57:33.251Z] [INFO   ] 2025-11-10T20:57:33.251Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":2,"workspaceType":"personal"}
[2025-11-10T20:57:40.942Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 679ms (6489 modules)
[2025-11-10T20:59:57.347Z] [INFO   ] 2025-11-10T20:59:57.347Z [DEBUG] üöÄ [SERVER] fetch-user-data API route called
[2025-11-10T20:59:57.348Z] [INFO   ] 2025-11-10T20:59:57.348Z [DEBUG] üîç [SERVER] fetch-user-data request parsed: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{}}
[2025-11-10T20:59:57.565Z] [INFO   ] 2025-11-10T20:59:57.565Z [DEBUG] üîÑ [SERVER] Routing Google request to dedicated API: google-sheets_spreadsheets (provider: google-sheets)
[2025-11-10T20:59:57.655Z] [INFO   ] 2025-11-10T20:59:57.655Z [DEBUG] üöÄ [Google Data API] POST handler invoked
[2025-11-10T20:59:57.656Z] [INFO   ] 2025-11-10T20:59:57.656Z [DEBUG] üîç [Google Data API] Request received: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{},"fullRequestBody":{"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{}}}
[2025-11-10T20:59:57.772Z] [INFO   ] 2025-11-10T20:59:57.772Z [DEBUG] üìä [Google API] Integration provider check: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","actualProvider":"google-sheets","dataType":"google-sheets_spreadsheets","providerLowerCase":"google-sheets"}
[2025-11-10T20:59:57.773Z] [INFO   ] 2025-11-10T20:59:57.773Z [DEBUG] üîç [Google API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","provider":"google-sheets","status":"connected","hasToken":true}
[2025-11-10T20:59:57.773Z] [INFO   ] 2025-11-10T20:59:57.773Z [DEBUG] üìä [Google Sheets] Fetching spreadsheets
[2025-11-10T20:59:58.211Z] [INFO   ] 2025-11-10T20:59:58.211Z [DEBUG] ‚úÖ [Google Sheets] Retrieved 21 spreadsheets
[2025-11-10T20:59:58.212Z] [INFO   ] 2025-11-10T20:59:58.212Z [DEBUG] ‚úÖ [Google API] Successfully processed google-sheets_spreadsheets: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":21}
[2025-11-10T20:59:58.219Z] [INFO   ] 2025-11-10T20:59:58.219Z [DEBUG] ‚úÖ [SERVER] Google API completed for google-sheets_spreadsheets, result length: 21
[2025-11-10T21:01:17.960Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
[2025-11-10T21:01:18.194Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 2.5s (5308 modules)
[2025-11-10T21:01:18.589Z] [INFO   ] 2025-11-10T21:01:18.589Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-11-10T21:01:18.589Z"}
[2025-11-10T21:01:18.601Z] [INFO   ] 2025-11-10T21:01:18.601Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-11-10T21:01:18.601Z"}
[2025-11-10T21:01:18.601Z] [INFO   ] 2025-11-10T21:01:18.601Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-11-10T21:01:18.601Z"}
[2025-11-10T21:01:19.643Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 334ms (4154 modules)
[2025-11-10T21:01:20.057Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (4270 modules)
[2025-11-10T21:01:20.228Z] [INFO   ] 2025-11-10T21:01:20.228Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-10T21:01:20.228Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-10T21:01:20.520Z] [INFO   ] 2025-11-10T21:01:20.520Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-10T21:01:20.520Z] [INFO   ] 2025-11-10T21:01:20.520Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-10T21:01:20.744Z] [INFO   ] 2025-11-10T21:01:20.744Z [DEBUG] üìä [API /api/integrations] Parallel query results {"workspaceType":"personal","workspaceId":null,"integrationsCount":2,"permissionsCount":2,"integrationsError":null,"permissionsError":null}
[2025-11-10T21:01:20.745Z] [INFO   ] 2025-11-10T21:01:20.744Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","provider":"google-sheets","permission":"admin"}
[2025-11-10T21:01:20.745Z] [INFO   ] 2025-11-10T21:01:20.745Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","permission":"admin"}
[2025-11-10T21:01:20.745Z] [INFO   ] 2025-11-10T21:01:20.745Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":2,"workspaceType":"personal"}
[2025-11-10T21:01:21.434Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/gumroad/data ...
[2025-11-10T21:01:22.063Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/gumroad/data in 1214ms (5432 modules)
[2025-11-10T21:01:22.343Z] [INFO   ] 2025-11-10T21:01:22.343Z [DEBUG] üîç [Gumroad API] Processing request: {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","dataType":"gumroad_products","status":"connected","hasToken":true}
[2025-11-10T21:01:22.344Z] [INFO   ] 2025-11-10T21:01:22.344Z [DEBUG] üîç Gumroad products fetcher called with integration: {"id":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","hasToken":true,"tokenLength":129}
[2025-11-10T21:01:22.344Z] [INFO   ] 2025-11-10T21:01:22.344Z [DEBUG] üîç Validating Gumroad token...
[2025-11-10T21:01:22.344Z] [INFO   ] 2025-11-10T21:01:22.344Z [DEBUG] üîç Fetching Gumroad products...
[2025-11-10T21:01:22.589Z] [INFO   ] 2025-11-10T21:01:22.589Z [DEBUG] ‚úÖ Gumroad products fetched successfully: 1 products
[2025-11-10T21:01:22.590Z] [INFO   ] 2025-11-10T21:01:22.590Z [DEBUG] ‚úÖ [Gumroad API] Successfully processed gumroad_products: {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","resultCount":1}
[2025-11-10T21:02:29.316Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/fetch-user-data ...
[2025-11-10T21:02:29.826Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/fetch-user-data in 1086ms (4245 modules)
[2025-11-10T21:02:29.957Z] [INFO   ] 2025-11-10T21:02:29.957Z [DEBUG] üöÄ [SERVER] fetch-user-data API route called
[2025-11-10T21:02:29.958Z] [INFO   ] 2025-11-10T21:02:29.958Z [DEBUG] üîç [SERVER] fetch-user-data request parsed: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{}}
[2025-11-10T21:02:30.255Z] [INFO   ] 2025-11-10T21:02:30.255Z [DEBUG] üîÑ [SERVER] Routing Google request to dedicated API: google-sheets_spreadsheets (provider: google-sheets)
[2025-11-10T21:02:30.781Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/google/data in 484ms (4281 modules)
[2025-11-10T21:02:30.936Z] [INFO   ] 2025-11-10T21:02:30.936Z [DEBUG] üöÄ [Google Data API] POST handler invoked
[2025-11-10T21:02:30.936Z] [INFO   ] 2025-11-10T21:02:30.936Z [DEBUG] üîç [Google Data API] Request received: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{},"fullRequestBody":{"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{}}}
[2025-11-10T21:02:31.045Z] [INFO   ] 2025-11-10T21:02:31.045Z [DEBUG] üìä [Google API] Integration provider check: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","actualProvider":"google-sheets","dataType":"google-sheets_spreadsheets","providerLowerCase":"google-sheets"}
[2025-11-10T21:02:31.046Z] [INFO   ] 2025-11-10T21:02:31.046Z [DEBUG] üîç [Google API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","provider":"google-sheets","status":"connected","hasToken":true}
[2025-11-10T21:02:31.046Z] [INFO   ] 2025-11-10T21:02:31.046Z [DEBUG] üìä [Google Sheets] Fetching spreadsheets
[2025-11-10T21:02:31.549Z] [INFO   ] 2025-11-10T21:02:31.549Z [DEBUG] ‚úÖ [Google Sheets] Retrieved 21 spreadsheets
[2025-11-10T21:02:31.551Z] [INFO   ] 2025-11-10T21:02:31.550Z [DEBUG] ‚úÖ [Google API] Successfully processed google-sheets_spreadsheets: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":21}
[2025-11-10T21:02:31.560Z] [INFO   ] 2025-11-10T21:02:31.559Z [DEBUG] ‚úÖ [SERVER] Google API completed for google-sheets_spreadsheets, result length: 21
[2025-11-10T21:02:32.676Z] [INFO   ] 2025-11-10T21:02:32.676Z [DEBUG] üöÄ [SERVER] fetch-user-data API route called
[2025-11-10T21:02:32.677Z] [INFO   ] 2025-11-10T21:02:32.677Z [DEBUG] üîç [SERVER] fetch-user-data request parsed: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"}}
[2025-11-10T21:02:32.757Z] [INFO   ] 2025-11-10T21:02:32.757Z [DEBUG] üîÑ [SERVER] Routing Google request to dedicated API: google-sheets_sheets (provider: google-sheets)
[2025-11-10T21:02:32.827Z] [INFO   ] 2025-11-10T21:02:32.827Z [DEBUG] üöÄ [Google Data API] POST handler invoked
[2025-11-10T21:02:32.827Z] [INFO   ] 2025-11-10T21:02:32.827Z [DEBUG] üîç [Google Data API] Request received: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"},"fullRequestBody":{"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"}}}
[2025-11-10T21:02:32.911Z] [INFO   ] 2025-11-10T21:02:32.911Z [DEBUG] üìä [Google API] Integration provider check: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","actualProvider":"google-sheets","dataType":"google-sheets_sheets","providerLowerCase":"google-sheets"}
[2025-11-10T21:02:32.911Z] [INFO   ] 2025-11-10T21:02:32.911Z [DEBUG] üîç [Google API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","provider":"google-sheets","status":"connected","hasToken":true}
[2025-11-10T21:02:32.912Z] [INFO   ] 2025-11-10T21:02:32.912Z [DEBUG] üìä [Google Sheets] Fetching sheets for spreadsheet: 13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI
[2025-11-10T21:02:33.423Z] [INFO   ] 2025-11-10T21:02:33.423Z [DEBUG] ‚úÖ [Google Sheets] Retrieved 4 sheets
[2025-11-10T21:02:33.424Z] [INFO   ] 2025-11-10T21:02:33.424Z [DEBUG] ‚úÖ [Google API] Successfully processed google-sheets_sheets: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":4}
[2025-11-10T21:02:33.427Z] [INFO   ] 2025-11-10T21:02:33.427Z [DEBUG] ‚úÖ [SERVER] Google API completed for google-sheets_sheets, result length: 4
[2025-11-10T21:02:52.880Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
[2025-11-10T21:02:54.006Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1980ms (5451 modules)
[2025-11-10T21:02:54.616Z] [INFO   ] 2025-11-10T21:02:54.616Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-11-10T21:02:54.616Z"}
[2025-11-10T21:02:54.628Z] [INFO   ] 2025-11-10T21:02:54.627Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-11-10T21:02:54.627Z"}
[2025-11-10T21:02:54.628Z] [INFO   ] 2025-11-10T21:02:54.628Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-11-10T21:02:54.628Z"}
[2025-11-10T21:02:55.745Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations ...
[2025-11-10T21:02:55.774Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 603ms (4283 modules)
[2025-11-10T21:02:57.087Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (4309 modules)
[2025-11-10T21:02:57.353Z] [INFO   ] 2025-11-10T21:02:57.353Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-10T21:02:57.353Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-10T21:02:57.539Z] [INFO   ] 2025-11-10T21:02:57.539Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-10T21:02:57.539Z] [INFO   ] 2025-11-10T21:02:57.539Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-10T21:02:57.697Z] [INFO   ] 2025-11-10T21:02:57.697Z [DEBUG] üìä [API /api/integrations] Parallel query results {"workspaceType":"personal","workspaceId":null,"integrationsCount":2,"permissionsCount":2,"integrationsError":null,"permissionsError":null}
[2025-11-10T21:02:57.698Z] [INFO   ] 2025-11-10T21:02:57.698Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","provider":"google-sheets","permission":"admin"}
[2025-11-10T21:02:57.698Z] [INFO   ] 2025-11-10T21:02:57.698Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","permission":"admin"}
[2025-11-10T21:02:57.698Z] [INFO   ] 2025-11-10T21:02:57.698Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":2,"workspaceType":"personal"}
[2025-11-10T21:03:22.140Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
[2025-11-10T21:03:22.481Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 809ms (5479 modules)
[2025-11-10T21:03:23.154Z] [INFO   ] 2025-11-10T21:03:23.154Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-11-10T21:03:23.154Z"}
[2025-11-10T21:03:23.167Z] [INFO   ] 2025-11-10T21:03:23.167Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-11-10T21:03:23.167Z"}
[2025-11-10T21:03:23.167Z] [INFO   ] 2025-11-10T21:03:23.167Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-11-10T21:03:23.167Z"}
[2025-11-10T21:03:24.503Z] [INFO   ] 2025-11-10T21:03:24.503Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-10T21:03:24.503Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-10T21:03:24.657Z] [INFO   ] 2025-11-10T21:03:24.657Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-10T21:03:24.657Z] [INFO   ] 2025-11-10T21:03:24.657Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-10T21:03:24.848Z] [INFO   ] 2025-11-10T21:03:24.848Z [DEBUG] üìä [API /api/integrations] Parallel query results {"workspaceType":"personal","workspaceId":null,"integrationsCount":2,"permissionsCount":2,"integrationsError":null,"permissionsError":null}
[2025-11-10T21:03:24.849Z] [INFO   ] 2025-11-10T21:03:24.849Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","provider":"google-sheets","permission":"admin"}
[2025-11-10T21:03:24.849Z] [INFO   ] 2025-11-10T21:03:24.849Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","permission":"admin"}
[2025-11-10T21:03:24.849Z] [INFO   ] 2025-11-10T21:03:24.849Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":2,"workspaceType":"personal"}
[2025-11-10T21:05:11.390Z] [INFO   ] 2025-11-10T21:05:11.390Z [DEBUG] üöÄ [SERVER] fetch-user-data API route called
[2025-11-10T21:05:11.391Z] [INFO   ] 2025-11-10T21:05:11.391Z [DEBUG] üîç [SERVER] fetch-user-data request parsed: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{}}
[2025-11-10T21:05:11.616Z] [INFO   ] 2025-11-10T21:05:11.616Z [DEBUG] üîÑ [SERVER] Routing Google request to dedicated API: google-sheets_spreadsheets (provider: google-sheets)
[2025-11-10T21:05:11.723Z] [INFO   ] 2025-11-10T21:05:11.723Z [DEBUG] üöÄ [Google Data API] POST handler invoked
[2025-11-10T21:05:11.724Z] [INFO   ] 2025-11-10T21:05:11.724Z [DEBUG] üîç [Google Data API] Request received: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{},"fullRequestBody":{"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{}}}
[2025-11-10T21:05:11.832Z] [INFO   ] 2025-11-10T21:05:11.832Z [DEBUG] üìä [Google API] Integration provider check: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","actualProvider":"google-sheets","dataType":"google-sheets_spreadsheets","providerLowerCase":"google-sheets"}
[2025-11-10T21:05:11.832Z] [INFO   ] 2025-11-10T21:05:11.832Z [DEBUG] üîç [Google API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","provider":"google-sheets","status":"connected","hasToken":true}
[2025-11-10T21:05:11.833Z] [INFO   ] 2025-11-10T21:05:11.833Z [DEBUG] üìä [Google Sheets] Fetching spreadsheets
[2025-11-10T21:05:12.348Z] [INFO   ] 2025-11-10T21:05:12.347Z [DEBUG] ‚úÖ [Google Sheets] Retrieved 21 spreadsheets
[2025-11-10T21:05:12.348Z] [INFO   ] 2025-11-10T21:05:12.348Z [DEBUG] ‚úÖ [Google API] Successfully processed google-sheets_spreadsheets: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":21}
[2025-11-10T21:05:12.354Z] [INFO   ] 2025-11-10T21:05:12.354Z [DEBUG] ‚úÖ [SERVER] Google API completed for google-sheets_spreadsheets, result length: 21
[2025-11-10T21:05:18.340Z] [INFO   ] 2025-11-10T21:05:18.340Z [DEBUG] üöÄ [SERVER] fetch-user-data API route called
[2025-11-10T21:05:18.340Z] [INFO   ] 2025-11-10T21:05:18.340Z [DEBUG] üîç [SERVER] fetch-user-data request parsed: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"}}
[2025-11-10T21:05:18.528Z] [INFO   ] 2025-11-10T21:05:18.527Z [DEBUG] üîÑ [SERVER] Routing Google request to dedicated API: google-sheets_sheets (provider: google-sheets)
[2025-11-10T21:05:18.609Z] [INFO   ] 2025-11-10T21:05:18.609Z [DEBUG] üöÄ [Google Data API] POST handler invoked
[2025-11-10T21:05:18.609Z] [INFO   ] 2025-11-10T21:05:18.609Z [DEBUG] üîç [Google Data API] Request received: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"},"fullRequestBody":{"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"}}}
[2025-11-10T21:05:18.693Z] [INFO   ] 2025-11-10T21:05:18.693Z [DEBUG] üìä [Google API] Integration provider check: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","actualProvider":"google-sheets","dataType":"google-sheets_sheets","providerLowerCase":"google-sheets"}
[2025-11-10T21:05:18.693Z] [INFO   ] 2025-11-10T21:05:18.693Z [DEBUG] üîç [Google API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","provider":"google-sheets","status":"connected","hasToken":true}
[2025-11-10T21:05:18.693Z] [INFO   ] 2025-11-10T21:05:18.693Z [DEBUG] üìä [Google Sheets] Fetching sheets for spreadsheet: 13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI
[2025-11-10T21:05:19.029Z] [INFO   ] 2025-11-10T21:05:19.029Z [DEBUG] ‚úÖ [Google Sheets] Retrieved 4 sheets
[2025-11-10T21:05:19.030Z] [INFO   ] 2025-11-10T21:05:19.030Z [DEBUG] ‚úÖ [Google API] Successfully processed google-sheets_sheets: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":4}
[2025-11-10T21:05:19.036Z] [INFO   ] 2025-11-10T21:05:19.036Z [DEBUG] ‚úÖ [SERVER] Google API completed for google-sheets_sheets, result length: 4
[2025-11-10T21:05:23.405Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/google-sheets/data ...
[2025-11-10T21:05:25.929Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/google-sheets/data in 3.5s (5291 modules)
[2025-11-10T21:05:28.334Z] [INFO   ] 2025-11-10T21:05:28.334Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-11-10T21:05:28.334Z"}
[2025-11-10T21:05:28.346Z] [INFO   ] 2025-11-10T21:05:28.346Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-11-10T21:05:28.346Z"}
[2025-11-10T21:05:28.346Z] [INFO   ] 2025-11-10T21:05:28.346Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-11-10T21:05:28.346Z"}
[2025-11-10T21:05:28.579Z] [INFO   ] 2025-11-10T21:05:28.579Z [DEBUG] üîç [Google Sheets API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_records","status":"connected","hasToken":true}
[2025-11-10T21:05:28.580Z] [INFO   ] 2025-11-10T21:05:28.580Z [DEBUG] üîç Google Sheets records fetcher called with: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI","sheetName":"Monthly Budget","maxRows":100,"includeHeaders":true,"hasToken":true}
[2025-11-10T21:05:28.581Z] [INFO   ] 2025-11-10T21:05:28.581Z [DEBUG] üîç Fetching Google Sheets data...
[2025-11-10T21:05:28.597Z] [INFO   ] 2025-11-10T21:05:28.597Z [DEBUG] üîç [Google Sheets API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_records","status":"connected","hasToken":true}
[2025-11-10T21:05:28.597Z] [INFO   ] 2025-11-10T21:05:28.597Z [DEBUG] üîç Google Sheets records fetcher called with: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI","sheetName":"Monthly Budget","maxRows":100,"includeHeaders":true,"hasToken":true}
[2025-11-10T21:05:28.598Z] [INFO   ] 2025-11-10T21:05:28.598Z [DEBUG] üîç Fetching Google Sheets data...
[2025-11-10T21:05:28.838Z] [INFO   ] 2025-11-10T21:05:28.838Z [DEBUG] üìä Fetched 22 rows. First row: ["","1st Paycheck","Categories"]
[2025-11-10T21:05:28.838Z] [INFO   ] 2025-11-10T21:05:28.838Z [DEBUG] ‚úÖ Converted to 21 records. Headers: ["Column A","1st Paycheck","Categories","15th Paycheck","Categories","Credit Cards","Payment","Due Date","Interest Rate"]
[2025-11-10T21:05:28.839Z] [INFO   ] 2025-11-10T21:05:28.838Z [DEBUG] üìã First record: {"id":"row_2","rowNumber":2,"fields":{"Column A":"FEDVIP","1st Paycheck":"$15.43","Categories":"Military Star Card","15th Paycheck":"$28.08","Credit Cards":"$0.00","Payment":"$93.65","Due Date":"12Sep","Interest Rate":"15.49%"},"label":"FEDVIP","value":"row_2"}
[2025-11-10T21:05:28.839Z] [INFO   ] 2025-11-10T21:05:28.839Z [DEBUG] ‚úÖ Google Sheets records fetched successfully: 21 records
[2025-11-10T21:05:28.839Z] [INFO   ] 2025-11-10T21:05:28.839Z [DEBUG] ‚úÖ [Google Sheets API] Successfully processed google-sheets_records: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":21}
[2025-11-10T21:05:28.840Z] [INFO   ] 2025-11-10T21:05:28.840Z [DEBUG] üìä Fetched 22 rows. First row: ["","1st Paycheck","Categories"]
[2025-11-10T21:05:28.841Z] [INFO   ] 2025-11-10T21:05:28.840Z [DEBUG] ‚úÖ Converted to 21 records. Headers: ["Column A","1st Paycheck","Categories","15th Paycheck","Categories","Credit Cards","Payment","Due Date","Interest Rate"]
[2025-11-10T21:05:28.841Z] [INFO   ] 2025-11-10T21:05:28.841Z [DEBUG] üìã First record: {"id":"row_2","rowNumber":2,"fields":{"Column A":"FEDVIP","1st Paycheck":"$15.43","Categories":"Military Star Card","15th Paycheck":"$28.08","Credit Cards":"$0.00","Payment":"$93.65","Due Date":"12Sep","Interest Rate":"15.49%"},"label":"FEDVIP","value":"row_2"}
[2025-11-10T21:05:28.841Z] [INFO   ] 2025-11-10T21:05:28.841Z [DEBUG] ‚úÖ Google Sheets records fetched successfully: 21 records
[2025-11-10T21:05:28.841Z] [INFO   ] 2025-11-10T21:05:28.841Z [DEBUG] ‚úÖ [Google Sheets API] Successfully processed google-sheets_records: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":21}
[2025-11-10T21:05:29.845Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations ...
[2025-11-10T21:05:29.906Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 660ms (5293 modules)
[2025-11-10T21:05:30.308Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (5319 modules)
[2025-11-10T21:05:30.486Z] [INFO   ] 2025-11-10T21:05:30.486Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-10T21:05:30.486Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-10T21:05:30.650Z] [INFO   ] 2025-11-10T21:05:30.650Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-10T21:05:30.650Z] [INFO   ] 2025-11-10T21:05:30.650Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-10T21:05:30.815Z] [INFO   ] 2025-11-10T21:05:30.815Z [DEBUG] üìä [API /api/integrations] Parallel query results {"workspaceType":"personal","workspaceId":null,"integrationsCount":2,"permissionsCount":2,"integrationsError":null,"permissionsError":null}
[2025-11-10T21:05:30.815Z] [INFO   ] 2025-11-10T21:05:30.815Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","provider":"google-sheets","permission":"admin"}
[2025-11-10T21:05:30.816Z] [INFO   ] 2025-11-10T21:05:30.815Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","permission":"admin"}
[2025-11-10T21:05:30.816Z] [INFO   ] 2025-11-10T21:05:30.816Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":2,"workspaceType":"personal"}
[2025-11-10T21:05:30.893Z] [INFO   ] 2025-11-10T21:05:30.893Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-10T21:05:30.893Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-10T21:05:30.977Z] [INFO   ] 2025-11-10T21:05:30.977Z [DEBUG] üöÄ [SERVER] fetch-user-data API route called
[2025-11-10T21:05:30.977Z] [INFO   ] 2025-11-10T21:05:30.977Z [DEBUG] üîç [SERVER] fetch-user-data request parsed: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{}}
[2025-11-10T21:05:31.001Z] [INFO   ] 2025-11-10T21:05:31.001Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-10T21:05:31.001Z] [INFO   ] 2025-11-10T21:05:31.001Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-10T21:05:31.098Z] [INFO   ] 2025-11-10T21:05:31.098Z [DEBUG] üìä [API /api/integrations] Parallel query results {"workspaceType":"personal","workspaceId":null,"integrationsCount":2,"permissionsCount":2,"integrationsError":null,"permissionsError":null}
[2025-11-10T21:05:31.098Z] [INFO   ] 2025-11-10T21:05:31.098Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","provider":"google-sheets","permission":"admin"}
[2025-11-10T21:05:31.099Z] [INFO   ] 2025-11-10T21:05:31.099Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","permission":"admin"}
[2025-11-10T21:05:31.099Z] [INFO   ] 2025-11-10T21:05:31.099Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":2,"workspaceType":"personal"}
[2025-11-10T21:05:31.165Z] [INFO   ] 2025-11-10T21:05:31.165Z [DEBUG] üîÑ [SERVER] Routing Google request to dedicated API: google-sheets_spreadsheets (provider: google-sheets)
[2025-11-10T21:05:31.179Z] [INFO   ] 2025-11-10T21:05:31.179Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-10T21:05:31.179Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-10T21:05:31.261Z] [INFO   ] 2025-11-10T21:05:31.261Z [DEBUG] üöÄ [Google Data API] POST handler invoked
[2025-11-10T21:05:31.262Z] [INFO   ] 2025-11-10T21:05:31.262Z [DEBUG] üîç [Google Data API] Request received: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{},"fullRequestBody":{"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{}}}
[2025-11-10T21:05:31.287Z] [INFO   ] 2025-11-10T21:05:31.287Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-10T21:05:31.288Z] [INFO   ] 2025-11-10T21:05:31.288Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-10T21:05:31.354Z] [INFO   ] 2025-11-10T21:05:31.354Z [DEBUG] üìä [Google API] Integration provider check: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","actualProvider":"google-sheets","dataType":"google-sheets_spreadsheets","providerLowerCase":"google-sheets"}
[2025-11-10T21:05:31.354Z] [INFO   ] 2025-11-10T21:05:31.354Z [DEBUG] üîç [Google API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","provider":"google-sheets","status":"connected","hasToken":true}
[2025-11-10T21:05:31.354Z] [INFO   ] 2025-11-10T21:05:31.354Z [DEBUG] üìä [Google Sheets] Fetching spreadsheets
[2025-11-10T21:05:31.395Z] [INFO   ] 2025-11-10T21:05:31.394Z [DEBUG] üìä [API /api/integrations] Parallel query results {"workspaceType":"personal","workspaceId":null,"integrationsCount":2,"permissionsCount":2,"integrationsError":null,"permissionsError":null}
[2025-11-10T21:05:31.395Z] [INFO   ] 2025-11-10T21:05:31.395Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","provider":"google-sheets","permission":"admin"}
[2025-11-10T21:05:31.395Z] [INFO   ] 2025-11-10T21:05:31.395Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","permission":"admin"}
[2025-11-10T21:05:31.395Z] [INFO   ] 2025-11-10T21:05:31.395Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":2,"workspaceType":"personal"}
[2025-11-10T21:05:31.895Z] [INFO   ] 2025-11-10T21:05:31.894Z [DEBUG] ‚úÖ [Google Sheets] Retrieved 21 spreadsheets
[2025-11-10T21:05:31.895Z] [INFO   ] 2025-11-10T21:05:31.895Z [DEBUG] ‚úÖ [Google API] Successfully processed google-sheets_spreadsheets: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":21}
[2025-11-10T21:05:31.900Z] [INFO   ] 2025-11-10T21:05:31.900Z [DEBUG] ‚úÖ [SERVER] Google API completed for google-sheets_spreadsheets, result length: 21
[2025-11-10T21:05:33.101Z] [INFO   ] 2025-11-10T21:05:33.101Z [DEBUG] üöÄ [SERVER] fetch-user-data API route called
[2025-11-10T21:05:33.102Z] [INFO   ] 2025-11-10T21:05:33.102Z [DEBUG] üîç [SERVER] fetch-user-data request parsed: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"}}
[2025-11-10T21:05:33.183Z] [INFO   ] 2025-11-10T21:05:33.183Z [DEBUG] üîÑ [SERVER] Routing Google request to dedicated API: google-sheets_sheets (provider: google-sheets)
[2025-11-10T21:05:33.266Z] [INFO   ] 2025-11-10T21:05:33.266Z [DEBUG] üöÄ [Google Data API] POST handler invoked
[2025-11-10T21:05:33.266Z] [INFO   ] 2025-11-10T21:05:33.266Z [DEBUG] üîç [Google Data API] Request received: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"},"fullRequestBody":{"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"}}}
[2025-11-10T21:05:33.350Z] [INFO   ] 2025-11-10T21:05:33.350Z [DEBUG] üìä [Google API] Integration provider check: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","actualProvider":"google-sheets","dataType":"google-sheets_sheets","providerLowerCase":"google-sheets"}
[2025-11-10T21:05:33.350Z] [INFO   ] 2025-11-10T21:05:33.350Z [DEBUG] üîç [Google API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","provider":"google-sheets","status":"connected","hasToken":true}
[2025-11-10T21:05:33.351Z] [INFO   ] 2025-11-10T21:05:33.351Z [DEBUG] üìä [Google Sheets] Fetching sheets for spreadsheet: 13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI
[2025-11-10T21:05:33.551Z] [INFO   ] 2025-11-10T21:05:33.551Z [DEBUG] ‚úÖ [Google Sheets] Retrieved 4 sheets
[2025-11-10T21:05:33.552Z] [INFO   ] 2025-11-10T21:05:33.552Z [DEBUG] ‚úÖ [Google API] Successfully processed google-sheets_sheets: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":4}
[2025-11-10T21:05:33.559Z] [INFO   ] 2025-11-10T21:05:33.558Z [DEBUG] ‚úÖ [SERVER] Google API completed for google-sheets_sheets, result length: 4
[2025-11-10T21:05:58.467Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/gumroad/data ...
[2025-11-10T21:05:59.208Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/gumroad/data in 1249ms (5324 modules)
[2025-11-10T21:05:59.553Z] [INFO   ] 2025-11-10T21:05:59.553Z [DEBUG] üîç [Gumroad API] Processing request: {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","dataType":"gumroad_products","status":"connected","hasToken":true}
[2025-11-10T21:05:59.554Z] [INFO   ] 2025-11-10T21:05:59.554Z [DEBUG] üîç Gumroad products fetcher called with integration: {"id":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","hasToken":true,"tokenLength":129}
[2025-11-10T21:05:59.554Z] [INFO   ] 2025-11-10T21:05:59.554Z [DEBUG] üîç Validating Gumroad token...
[2025-11-10T21:05:59.554Z] [INFO   ] 2025-11-10T21:05:59.554Z [DEBUG] üîç Fetching Gumroad products...
[2025-11-10T21:05:59.786Z] [INFO   ] 2025-11-10T21:05:59.786Z [DEBUG] ‚úÖ Gumroad products fetched successfully: 1 products
[2025-11-10T21:05:59.788Z] [INFO   ] 2025-11-10T21:05:59.787Z [DEBUG] ‚úÖ [Gumroad API] Successfully processed gumroad_products: {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","resultCount":1}
[2025-11-10T21:06:55.130Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1821ms (5418 modules)
[2025-11-10T21:06:55.561Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
[2025-11-10T21:06:55.750Z] [INFO   ] 2025-11-10T21:06:55.750Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-11-10T21:06:55.749Z"}
[2025-11-10T21:06:55.762Z] [INFO   ] 2025-11-10T21:06:55.762Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-11-10T21:06:55.762Z"}
[2025-11-10T21:06:55.762Z] [INFO   ] 2025-11-10T21:06:55.762Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-11-10T21:06:55.762Z"}
[2025-11-10T21:06:57.196Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/auth/profile in 494ms (4250 modules)
[2025-11-10T21:06:57.675Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/presence/count in 0ms (4271 modules)
[2025-11-10T21:06:57.999Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 0ms (4276 modules)
[2025-11-10T21:06:58.304Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 0ms (4276 modules)
[2025-11-10T21:06:58.652Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 0ms (4276 modules)
[2025-11-10T21:06:58.984Z] [INFO   ] 2025-11-10T21:06:58.984Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-10T21:06:58.984Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-10T21:06:59.145Z] [INFO   ] 2025-11-10T21:06:59.145Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-10T21:06:59.145Z] [INFO   ] 2025-11-10T21:06:59.145Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-10T21:06:59.269Z] [INFO   ] 2025-11-10T21:06:59.269Z [DEBUG] üìä [API /api/integrations] Parallel query results {"workspaceType":"personal","workspaceId":null,"integrationsCount":2,"permissionsCount":2,"integrationsError":null,"permissionsError":null}
[2025-11-10T21:06:59.270Z] [INFO   ] 2025-11-10T21:06:59.270Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","provider":"google-sheets","permission":"admin"}
[2025-11-10T21:06:59.270Z] [INFO   ] 2025-11-10T21:06:59.270Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","permission":"admin"}
[2025-11-10T21:06:59.270Z] [INFO   ] 2025-11-10T21:06:59.270Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":2,"workspaceType":"personal"}
[2025-11-10T21:08:24.816Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 3.5s (5308 modules)
[2025-11-10T21:08:25.386Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /icon.png in 216ms (4154 modules)
[2025-11-10T21:09:12.754Z] [INFO   ] 2025-11-10T21:09:12.754Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-11-10T21:09:12.754Z"}
[2025-11-10T21:09:12.766Z] [INFO   ] 2025-11-10T21:09:12.766Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-11-10T21:09:12.766Z"}
[2025-11-10T21:09:12.766Z] [INFO   ] 2025-11-10T21:09:12.766Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-11-10T21:09:12.766Z"}
[2025-11-10T21:09:14.809Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations ...
[2025-11-10T21:09:14.871Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 631ms (4265 modules)
[2025-11-10T21:09:15.128Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (4270 modules)
[2025-11-10T21:09:15.294Z] [INFO   ] 2025-11-10T21:09:15.294Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-10T21:09:15.294Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-10T21:09:15.576Z] [INFO   ] 2025-11-10T21:09:15.576Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-10T21:09:15.577Z] [INFO   ] 2025-11-10T21:09:15.577Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-10T21:09:15.722Z] [INFO   ] 2025-11-10T21:09:15.721Z [DEBUG] üìä [API /api/integrations] Parallel query results {"workspaceType":"personal","workspaceId":null,"integrationsCount":2,"permissionsCount":2,"integrationsError":null,"permissionsError":null}
[2025-11-10T21:09:15.722Z] [INFO   ] 2025-11-10T21:09:15.722Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","provider":"google-sheets","permission":"admin"}
[2025-11-10T21:09:15.722Z] [INFO   ] 2025-11-10T21:09:15.722Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","permission":"admin"}
[2025-11-10T21:09:15.722Z] [INFO   ] 2025-11-10T21:09:15.722Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":2,"workspaceType":"personal"}
[2025-11-10T21:09:15.872Z] [INFO   ] 2025-11-10T21:09:15.871Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-10T21:09:15.871Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-10T21:09:16.018Z] [INFO   ] 2025-11-10T21:09:16.018Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-10T21:09:16.019Z] [INFO   ] 2025-11-10T21:09:16.019Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-10T21:09:16.430Z] [INFO   ] 2025-11-10T21:09:16.430Z [DEBUG] üìä [API /api/integrations] Parallel query results {"workspaceType":"personal","workspaceId":null,"integrationsCount":2,"permissionsCount":2,"integrationsError":null,"permissionsError":null}
[2025-11-10T21:09:16.430Z] [INFO   ] 2025-11-10T21:09:16.430Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","provider":"google-sheets","permission":"admin"}
[2025-11-10T21:09:16.435Z] [INFO   ] 2025-11-10T21:09:16.435Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","permission":"admin"}
[2025-11-10T21:09:16.435Z] [INFO   ] 2025-11-10T21:09:16.435Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":2,"workspaceType":"personal"}
[2025-11-10T21:09:16.526Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/fetch-user-data ...
[2025-11-10T21:09:17.762Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/fetch-user-data in 1811ms (4273 modules)
[2025-11-10T21:09:18.525Z] [INFO   ] 2025-11-10T21:09:18.524Z [DEBUG] üöÄ [SERVER] fetch-user-data API route called
[2025-11-10T21:09:18.525Z] [INFO   ] 2025-11-10T21:09:18.525Z [DEBUG] üîç [SERVER] fetch-user-data request parsed: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{}}
[2025-11-10T21:09:18.532Z] [INFO   ] 2025-11-10T21:09:18.532Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-10T21:09:18.532Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-10T21:09:18.615Z] [INFO   ] 2025-11-10T21:09:18.615Z [DEBUG] üîÑ [SERVER] Routing Google request to dedicated API: google-sheets_spreadsheets (provider: google-sheets)
[2025-11-10T21:09:18.653Z] [INFO   ] 2025-11-10T21:09:18.653Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-10T21:09:18.654Z] [INFO   ] 2025-11-10T21:09:18.654Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-10T21:09:18.781Z] [INFO   ] 2025-11-10T21:09:18.781Z [DEBUG] üìä [API /api/integrations] Parallel query results {"workspaceType":"personal","workspaceId":null,"integrationsCount":2,"permissionsCount":2,"integrationsError":null,"permissionsError":null}
[2025-11-10T21:09:18.782Z] [INFO   ] 2025-11-10T21:09:18.782Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","provider":"google-sheets","permission":"admin"}
[2025-11-10T21:09:18.782Z] [INFO   ] 2025-11-10T21:09:18.782Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","permission":"admin"}
[2025-11-10T21:09:18.782Z] [INFO   ] 2025-11-10T21:09:18.782Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":2,"workspaceType":"personal"}
[2025-11-10T21:09:18.989Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/google/data in 340ms (4309 modules)
[2025-11-10T21:09:19.070Z] [INFO   ] 2025-11-10T21:09:19.069Z [DEBUG] üöÄ [Google Data API] POST handler invoked
[2025-11-10T21:09:19.070Z] [INFO   ] 2025-11-10T21:09:19.070Z [DEBUG] üîç [Google Data API] Request received: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{},"fullRequestBody":{"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{}}}
[2025-11-10T21:09:19.165Z] [INFO   ] 2025-11-10T21:09:19.165Z [DEBUG] üìä [Google API] Integration provider check: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","actualProvider":"google-sheets","dataType":"google-sheets_spreadsheets","providerLowerCase":"google-sheets"}
[2025-11-10T21:09:19.166Z] [INFO   ] 2025-11-10T21:09:19.166Z [DEBUG] üîç [Google API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","provider":"google-sheets","status":"connected","hasToken":true}
[2025-11-10T21:09:19.166Z] [INFO   ] 2025-11-10T21:09:19.166Z [DEBUG] üìä [Google Sheets] Fetching spreadsheets
[2025-11-10T21:09:19.657Z] [INFO   ] 2025-11-10T21:09:19.656Z [DEBUG] ‚úÖ [Google Sheets] Retrieved 21 spreadsheets
[2025-11-10T21:09:19.657Z] [INFO   ] 2025-11-10T21:09:19.657Z [DEBUG] ‚úÖ [Google API] Successfully processed google-sheets_spreadsheets: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":21}
[2025-11-10T21:09:19.660Z] [INFO   ] 2025-11-10T21:09:19.660Z [DEBUG] ‚úÖ [SERVER] Google API completed for google-sheets_spreadsheets, result length: 21
[2025-11-10T21:09:21.057Z] [INFO   ] 2025-11-10T21:09:21.057Z [DEBUG] üöÄ [SERVER] fetch-user-data API route called
[2025-11-10T21:09:21.058Z] [INFO   ] 2025-11-10T21:09:21.058Z [DEBUG] üîç [SERVER] fetch-user-data request parsed: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"}}
[2025-11-10T21:09:21.135Z] [INFO   ] 2025-11-10T21:09:21.135Z [DEBUG] üîÑ [SERVER] Routing Google request to dedicated API: google-sheets_sheets (provider: google-sheets)
[2025-11-10T21:09:21.204Z] [INFO   ] 2025-11-10T21:09:21.204Z [DEBUG] üöÄ [Google Data API] POST handler invoked
[2025-11-10T21:09:21.204Z] [INFO   ] 2025-11-10T21:09:21.204Z [DEBUG] üîç [Google Data API] Request received: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"},"fullRequestBody":{"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"}}}
[2025-11-10T21:09:21.324Z] [INFO   ] 2025-11-10T21:09:21.324Z [DEBUG] üìä [Google API] Integration provider check: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","actualProvider":"google-sheets","dataType":"google-sheets_sheets","providerLowerCase":"google-sheets"}
[2025-11-10T21:09:21.324Z] [INFO   ] 2025-11-10T21:09:21.324Z [DEBUG] üîç [Google API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","provider":"google-sheets","status":"connected","hasToken":true}
[2025-11-10T21:09:21.324Z] [INFO   ] 2025-11-10T21:09:21.324Z [DEBUG] üìä [Google Sheets] Fetching sheets for spreadsheet: 13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI
[2025-11-10T21:09:21.814Z] [INFO   ] 2025-11-10T21:09:21.814Z [DEBUG] ‚úÖ [Google Sheets] Retrieved 4 sheets
[2025-11-10T21:09:21.815Z] [INFO   ] 2025-11-10T21:09:21.815Z [DEBUG] ‚úÖ [Google API] Successfully processed google-sheets_sheets: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":4}
[2025-11-10T21:09:21.821Z] [INFO   ] 2025-11-10T21:09:21.821Z [DEBUG] ‚úÖ [SERVER] Google API completed for google-sheets_sheets, result length: 4
[2025-11-10T21:10:25.349Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/gumroad/data ...
[2025-11-10T21:10:26.131Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/gumroad/data in 1964ms (4286 modules)
[2025-11-10T21:10:26.509Z] [INFO   ] 2025-11-10T21:10:26.509Z [DEBUG] üîç [Gumroad API] Processing request: {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","dataType":"gumroad_products","status":"connected","hasToken":true}
[2025-11-10T21:10:26.510Z] [INFO   ] 2025-11-10T21:10:26.510Z [DEBUG] üîç Gumroad products fetcher called with integration: {"id":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","hasToken":true,"tokenLength":129}
[2025-11-10T21:10:26.510Z] [INFO   ] 2025-11-10T21:10:26.510Z [DEBUG] üîç Validating Gumroad token...
[2025-11-10T21:10:26.510Z] [INFO   ] 2025-11-10T21:10:26.510Z [DEBUG] üîç Fetching Gumroad products...
[2025-11-10T21:10:26.943Z] [INFO   ] 2025-11-10T21:10:26.943Z [DEBUG] ‚úÖ Gumroad products fetched successfully: 1 products
[2025-11-10T21:10:26.943Z] [INFO   ] 2025-11-10T21:10:26.943Z [DEBUG] ‚úÖ [Gumroad API] Successfully processed gumroad_products: {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","resultCount":1}
[2025-11-10T21:10:41.683Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1573ms (5418 modules)
[2025-11-10T21:10:41.734Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
[2025-11-10T21:10:42.175Z] [INFO   ] 2025-11-10T21:10:42.175Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-11-10T21:10:42.175Z"}
[2025-11-10T21:10:42.189Z] [INFO   ] 2025-11-10T21:10:42.189Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-11-10T21:10:42.189Z"}
[2025-11-10T21:10:42.189Z] [INFO   ] 2025-11-10T21:10:42.189Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-11-10T21:10:42.189Z"}
[2025-11-10T21:10:43.546Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/presence/count ...
[2025-11-10T21:10:43.571Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/presence/count in 526ms (4250 modules)
[2025-11-10T21:10:43.894Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (4276 modules)
[2025-11-10T21:10:44.064Z] [INFO   ] 2025-11-10T21:10:44.064Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-10T21:10:44.064Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-10T21:10:44.248Z] [INFO   ] 2025-11-10T21:10:44.248Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-10T21:10:44.249Z] [INFO   ] 2025-11-10T21:10:44.249Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-10T21:10:44.408Z] [INFO   ] 2025-11-10T21:10:44.408Z [DEBUG] üìä [API /api/integrations] Parallel query results {"workspaceType":"personal","workspaceId":null,"integrationsCount":2,"permissionsCount":2,"integrationsError":null,"permissionsError":null}
[2025-11-10T21:10:44.409Z] [INFO   ] 2025-11-10T21:10:44.409Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","provider":"google-sheets","permission":"admin"}
[2025-11-10T21:10:44.409Z] [INFO   ] 2025-11-10T21:10:44.409Z [DEBUG] üìã [API /api/integrations] Using explicit permission {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","permission":"admin"}
[2025-11-10T21:10:44.409Z] [INFO   ] 2025-11-10T21:10:44.409Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":2,"workspaceType":"personal"}
[2025-11-10T21:10:51.881Z] [INFO   ] 2025-11-10T21:10:51.881Z [DEBUG] üîç [Gumroad API] Processing request: {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","dataType":"gumroad_products","status":"connected","hasToken":true}
[2025-11-10T21:10:51.881Z] [INFO   ] 2025-11-10T21:10:51.881Z [DEBUG] üîç Gumroad products fetcher called with integration: {"id":"8ef5c519-18a9-4a81-829e-b7a48b58f668","provider":"gumroad","hasToken":true,"tokenLength":129}
[2025-11-10T21:10:51.881Z] [INFO   ] 2025-11-10T21:10:51.881Z [DEBUG] üîç Validating Gumroad token...
[2025-11-10T21:10:51.882Z] [INFO   ] 2025-11-10T21:10:51.882Z [DEBUG] üîç Fetching Gumroad products...
[2025-11-10T21:10:52.086Z] [INFO   ] 2025-11-10T21:10:52.086Z [DEBUG] ‚úÖ Gumroad products fetched successfully: 1 products
[2025-11-10T21:10:52.088Z] [INFO   ] 2025-11-10T21:10:52.088Z [DEBUG] ‚úÖ [Gumroad API] Successfully processed gumroad_products: {"integrationId":"8ef5c519-18a9-4a81-829e-b7a48b58f668","resultCount":1}
[2025-11-10T21:11:53.322Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/fetch-user-data ...
[2025-11-10T21:11:53.360Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/fetch-user-data in 1538ms (4250 modules)
[2025-11-10T21:11:53.503Z] [INFO   ] 2025-11-10T21:11:53.503Z [DEBUG] üöÄ [SERVER] fetch-user-data API route called
[2025-11-10T21:11:53.504Z] [INFO   ] 2025-11-10T21:11:53.504Z [DEBUG] üîç [SERVER] fetch-user-data request parsed: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{}}
[2025-11-10T21:11:53.966Z] [INFO   ] 2025-11-10T21:11:53.966Z [DEBUG] üîÑ [SERVER] Routing Google request to dedicated API: google-sheets_spreadsheets (provider: google-sheets)
[2025-11-10T21:11:55.133Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/google/data ...
[2025-11-10T21:11:56.341Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/google/data in 2.3s (4286 modules)
[2025-11-10T21:11:56.452Z] [INFO   ] 2025-11-10T21:11:56.452Z [DEBUG] üöÄ [Google Data API] POST handler invoked
[2025-11-10T21:11:56.452Z] [INFO   ] 2025-11-10T21:11:56.452Z [DEBUG] üîç [Google Data API] Request received: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{},"fullRequestBody":{"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","options":{}}}
[2025-11-10T21:11:56.586Z] [INFO   ] 2025-11-10T21:11:56.586Z [DEBUG] üìä [Google API] Integration provider check: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","actualProvider":"google-sheets","dataType":"google-sheets_spreadsheets","providerLowerCase":"google-sheets"}
[2025-11-10T21:11:56.587Z] [INFO   ] 2025-11-10T21:11:56.587Z [DEBUG] üîç [Google API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_spreadsheets","provider":"google-sheets","status":"connected","hasToken":true}
[2025-11-10T21:11:56.587Z] [INFO   ] 2025-11-10T21:11:56.587Z [DEBUG] üìä [Google Sheets] Fetching spreadsheets
[2025-11-10T21:11:57.062Z] [INFO   ] 2025-11-10T21:11:57.062Z [DEBUG] ‚úÖ [Google Sheets] Retrieved 21 spreadsheets
[2025-11-10T21:11:57.063Z] [INFO   ] 2025-11-10T21:11:57.063Z [DEBUG] ‚úÖ [Google API] Successfully processed google-sheets_spreadsheets: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":21}
[2025-11-10T21:11:57.072Z] [INFO   ] 2025-11-10T21:11:57.071Z [DEBUG] ‚úÖ [SERVER] Google API completed for google-sheets_spreadsheets, result length: 21
[2025-11-10T21:11:58.986Z] [INFO   ] 2025-11-10T21:11:58.985Z [DEBUG] üöÄ [SERVER] fetch-user-data API route called
[2025-11-10T21:11:58.987Z] [INFO   ] 2025-11-10T21:11:58.987Z [DEBUG] üîç [SERVER] fetch-user-data request parsed: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"}}
[2025-11-10T21:11:59.148Z] [INFO   ] 2025-11-10T21:11:59.148Z [DEBUG] üîÑ [SERVER] Routing Google request to dedicated API: google-sheets_sheets (provider: google-sheets)
[2025-11-10T21:11:59.210Z] [INFO   ] 2025-11-10T21:11:59.210Z [DEBUG] üöÄ [Google Data API] POST handler invoked
[2025-11-10T21:11:59.210Z] [INFO   ] 2025-11-10T21:11:59.210Z [DEBUG] üîç [Google Data API] Request received: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"},"fullRequestBody":{"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","options":{"spreadsheetId":"13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI"}}}
[2025-11-10T21:11:59.427Z] [INFO   ] 2025-11-10T21:11:59.427Z [DEBUG] üìä [Google API] Integration provider check: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","actualProvider":"google-sheets","dataType":"google-sheets_sheets","providerLowerCase":"google-sheets"}
[2025-11-10T21:11:59.428Z] [INFO   ] 2025-11-10T21:11:59.427Z [DEBUG] üîç [Google API] Processing request: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","dataType":"google-sheets_sheets","provider":"google-sheets","status":"connected","hasToken":true}
[2025-11-10T21:11:59.428Z] [INFO   ] 2025-11-10T21:11:59.428Z [DEBUG] üìä [Google Sheets] Fetching sheets for spreadsheet: 13dykQ7u8Ef2c1gC2Tbr7_TbMGsJ4R-WlBlLshiN5XBI
[2025-11-10T21:11:59.764Z] [INFO   ] 2025-11-10T21:11:59.764Z [DEBUG] ‚úÖ [Google Sheets] Retrieved 4 sheets
[2025-11-10T21:11:59.765Z] [INFO   ] 2025-11-10T21:11:59.765Z [DEBUG] ‚úÖ [Google API] Successfully processed google-sheets_sheets: {"integrationId":"dc6cd712-ac50-45b5-86b6-4ff9963c7aa8","resultCount":4}
[2025-11-10T21:11:59.776Z] [INFO   ] 2025-11-10T21:11:59.776Z [DEBUG] ‚úÖ [SERVER] Google API completed for google-sheets_sheets, result length: 4
