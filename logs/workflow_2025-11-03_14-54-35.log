=== Log Session Started: 2025-11-03T20:54:35.903Z ===
Node Version: v23.7.0
Platform: darwin
Working Directory: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e
================================================================================

[2025-11-03T20:54:35.903Z] [INFO   ] File logging initialized
[2025-11-03T20:54:35.903Z] [INFO   ] Log file: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-11-03_14-54-35.log
[2025-11-03T20:54:35.907Z] [INFO   ] Deleted old log file: workflow_2025-10-26_23-50-19.log
[2025-11-03T20:54:35.909Z] [INFO   ] Deleted old log file: workflow_2025-10-26_23-19-22.log
[2025-11-03T20:54:35.911Z] [INFO   ] Deleted old log file: workflow_2025-10-26_19-59-27.log
[2025-11-03T20:54:35.911Z] [INFO   ] üìÅ File logging enabled
[2025-11-03T20:54:35.911Z] [INFO   ] üìù Logs will be written to: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-11-03_14-54-35.log
[2025-11-03T20:54:35.911Z] [INFO   ] üí° To view logs in real-time: tail -f /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-11-03_14-54-35.log
[2025-11-03T20:54:35.911Z] [INFO   ] üí° To view all logs: cat /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-11-03_14-54-35.log
[2025-11-03T20:54:35.911Z] [INFO   ] üí° To share logs: Copy the file at /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-11-03_14-54-35.log
[2025-11-03T20:54:35.911Z] [INFO   ] --------------------------------------------------------------------------------
[2025-11-03T20:54:35.911Z] [DEBUG  ] üìÅ File logging system initialized
[2025-11-03T20:54:35.929Z] [INFO   ]  [32m[1m‚úì[22m[39m Ready in 3.6s
[2025-11-03T20:54:36.085Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /middleware in 151ms (233 modules)
[2025-11-03T20:54:36.399Z] [INFO   ] 2025-11-03T20:54:36.398Z [DEBUG] [Middleware] Username check: {"path":"/workflows/ai-agent","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":13636588999}
[2025-11-03T20:54:36.913Z] [INFO   ] 2025-11-03T20:54:36.913Z [DEBUG] ü§ñ Discord bot configured, initializing gateway connection in background...
[2025-11-03T20:54:39.076Z] [INFO   ] 2025-11-03T20:54:39.076Z [DEBUG] Initializing Discord Gateway connection (singleton)...
[2025-11-03T20:54:39.077Z] [INFO   ] 2025-11-03T20:54:39.077Z [DEBUG] üîë Discord bot token loaded
[2025-11-03T20:54:39.083Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /workflows/ai-agent ...
[2025-11-03T20:54:39.311Z] [INFO   ] 2025-11-03T20:54:39.310Z [DEBUG] Discord Gateway initialization complete
[2025-11-03T20:54:39.312Z] [INFO   ] 2025-11-03T20:54:39.312Z [DEBUG] ‚úÖ Discord bot gateway connection initialized
[2025-11-03T20:54:39.799Z] [INFO   ] 2025-11-03T20:54:39.799Z [DEBUG] Discord Gateway WebSocket connection established
[2025-11-03T20:54:39.800Z] [INFO   ] 2025-11-03T20:54:39.800Z [DEBUG] üîë Sending identify with intents: {"GUILDS":true,"GUILD_MEMBERS":true,"GUILD_INVITES":true,"GUILD_MESSAGES":true,"MESSAGE_CONTENT":true,"intentsValue":33347}
[2025-11-03T20:54:40.000Z] [INFO   ] 2025-11-03T20:54:40.000Z [DEBUG] üéâ Discord bot ready! {"sessionId":"cfaf24b689a05d09e4e7fa5e5452d26a","username":"ChainReact-Bot","userId":"1378595955212812308","guildCount":2}
[2025-11-03T20:54:40.000Z] [INFO   ] 2025-11-03T20:54:40.000Z [DEBUG] üìã Initializing invite cache...
[2025-11-03T20:54:40.001Z] [INFO   ] 2025-11-03T20:54:40.001Z [DEBUG] üì° Discord event received: GUILD_CREATE
[2025-11-03T20:54:40.012Z] [INFO   ] 2025-11-03T20:54:40.012Z [DEBUG] üì° Discord event received: GUILD_CREATE
[2025-11-03T20:54:41.032Z] [INFO   ] 2025-11-03T20:54:41.032Z [DEBUG] ‚úÖ Cached 3 invites for guild 1378950884045623406
[2025-11-03T20:54:42.658Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/ai-agent in 6.2s (4385 modules)
[2025-11-03T20:54:43.082Z] [INFO   ] 2025-11-03T20:54:43.082Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-11-03T20:54:43.081Z"}
[2025-11-03T20:54:43.085Z] [INFO   ] 2025-11-03T20:54:43.085Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-11-03T20:54:43.085Z"}
[2025-11-03T20:54:43.086Z] [INFO   ] 2025-11-03T20:54:43.086Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-11-03T20:54:43.086Z"}
[2025-11-03T20:54:43.616Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 936ms (712 modules)
[2025-11-03T20:54:43.818Z] [INFO   ] 2025-11-03T20:54:43.817Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-11-03T20:54:44.872Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/auth/profile ...
[2025-11-03T20:54:45.467Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/auth/profile in 1095ms (3689 modules)
[2025-11-03T20:54:45.959Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 359ms (698 modules)
[2025-11-03T20:54:49.830Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 368ms (4396 modules)
[2025-11-03T20:54:49.986Z] [INFO   ] 2025-11-03T20:54:49.986Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-03T20:54:49.986Z","url":"http://localhost:3000/api/integrations?workspace_type=personal"}
[2025-11-03T20:54:50.203Z] [INFO   ] 2025-11-03T20:54:50.203Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-03T20:54:50.204Z] [INFO   ] 2025-11-03T20:54:50.204Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-03T20:54:50.352Z] [INFO   ] 2025-11-03T20:54:50.352Z [DEBUG] üìä [API /api/integrations] Query result {"workspaceType":"personal","workspaceId":null,"count":14,"error":null}
[2025-11-03T20:54:50.353Z] [INFO   ] 2025-11-03T20:54:50.353Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":14,"workspaceType":"personal"}
[2025-11-03T20:55:05.835Z] [INFO   ] 2025-11-03T20:55:05.835Z [DEBUG] [Middleware] Username check: {"path":"/workflows/v2/api/flows","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":13636618436}
[2025-11-03T20:55:06.385Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /workflows/v2/api/flows ...
[2025-11-03T20:55:06.453Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/v2/api/flows in 570ms (4451 modules)
[2025-11-03T20:55:07.194Z] [INFO   ] 2025-11-03T20:55:07.194Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/fdc1e08f-7516-4ef5-bd70-46ad54ee3af1","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":13636619795}
[2025-11-03T20:55:07.740Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /workflows/builder/[id] ...
[2025-11-03T20:55:08.896Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/builder/[id] in 1661ms (5745 modules)
[2025-11-03T20:55:09.911Z] [INFO   ] 2025-11-03T20:55:09.910Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-11-03T20:55:10.754Z] [INFO   ] 2025-11-03T20:55:10.754Z [DEBUG] [Middleware] Username check: {"path":"/workflows/v2/api/flows/fdc1e08f-7516-4ef5-bd70-46ad54ee3af1/revisions","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":13636623355}
[2025-11-03T20:55:11.085Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /workflows/v2/api/flows/[flowId]/revisions ...
[2025-11-03T20:55:11.476Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/v2/api/flows/[flowId]/revisions in 909ms (5752 modules)
[2025-11-03T20:55:11.715Z] [INFO   ] 2025-11-03T20:55:11.715Z [DEBUG] [API /api/workflows] GET request {"filterContext":"ALL (unified view)","workspaceId":null,"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-03T20:55:11.758Z] [INFO   ] 2025-11-03T20:55:11.758Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-03T20:55:11.758Z","url":"http://localhost:3000/api/integrations"}
[2025-11-03T20:55:11.937Z] [INFO   ] 2025-11-03T20:55:11.937Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-03T20:55:11.937Z] [INFO   ] 2025-11-03T20:55:11.937Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-03T20:55:12.058Z] [INFO   ] 2025-11-03T20:55:12.058Z [DEBUG] üìä [API /api/integrations] Query result {"workspaceType":"personal","workspaceId":null,"count":14,"error":null}
[2025-11-03T20:55:12.059Z] [INFO   ] 2025-11-03T20:55:12.059Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":14,"workspaceType":"personal"}
[2025-11-03T20:55:12.111Z] [INFO   ] 2025-11-03T20:55:12.111Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-03T20:55:12.111Z","url":"http://localhost:3000/api/integrations"}
[2025-11-03T20:55:12.148Z] [INFO   ] 2025-11-03T20:55:12.148Z [DEBUG] [API /api/workflows] Query result {"filterContext":"ALL","count":13,"error":null}
[2025-11-03T20:55:12.210Z] [INFO   ] 2025-11-03T20:55:12.210Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-03T20:55:12.211Z] [INFO   ] 2025-11-03T20:55:12.211Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-03T20:55:12.310Z] [INFO   ] 2025-11-03T20:55:12.310Z [DEBUG] üìä [API /api/integrations] Query result {"workspaceType":"personal","workspaceId":null,"count":14,"error":null}
[2025-11-03T20:55:12.310Z] [INFO   ] 2025-11-03T20:55:12.310Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":14,"workspaceType":"personal"}
[2025-11-03T20:55:12.500Z] [INFO   ] 2025-11-03T20:55:12.500Z [DEBUG] [Middleware] Username check: {"path":"/workflows/v2/api/flows/fdc1e08f-7516-4ef5-bd70-46ad54ee3af1/revisions","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":13636625101}
[2025-11-03T20:55:12.526Z] [INFO   ] 2025-11-03T20:55:12.526Z [DEBUG] [Middleware] Username check: {"path":"/workflows/v2/api/flows/fdc1e08f-7516-4ef5-bd70-46ad54ee3af1/revisions/ec8f1dd4-6c29-4b4d-99a7-95c5d88b7a9d","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":13636625127}
[2025-11-03T20:55:13.017Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/v2/api/flows/[flowId]/revisions/[revisionId] in 425ms (5754 modules)
[2025-11-03T20:55:13.854Z] [INFO   ] 2025-11-03T20:55:13.854Z [DEBUG] [Middleware] Username check: {"path":"/workflows/v2/api/flows/fdc1e08f-7516-4ef5-bd70-46ad54ee3af1/revisions/ec8f1dd4-6c29-4b4d-99a7-95c5d88b7a9d","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":13636626455}
[2025-11-03T20:55:14.357Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/workflows/[id]/chat ...
[2025-11-03T20:55:14.711Z] [INFO   ] 2025-11-03T20:55:14.711Z [DEBUG] [Middleware] Username check: {"path":"/workflows/v2/api/flows/fdc1e08f-7516-4ef5-bd70-46ad54ee3af1/edits","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":13636627312}
[2025-11-03T20:55:14.738Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/workflows/[id]/chat in 881ms (5756 modules)
[2025-11-03T20:55:15.254Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /workflows/v2/api/flows/[flowId]/edits ...
[2025-11-03T20:55:16.035Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/v2/api/flows/[flowId]/edits in 1285ms (6109 modules)
[2025-11-03T20:55:16.110Z] [INFO   ] 2025-11-03T20:55:16.110Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-03T20:55:16.110Z","url":"http://localhost:3000/api/integrations"}
[2025-11-03T20:55:16.276Z] [INFO   ] 2025-11-03T20:55:16.276Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-03T20:55:16.276Z] [INFO   ] 2025-11-03T20:55:16.276Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-03T20:55:16.401Z] [INFO   ] 2025-11-03T20:55:16.401Z [DEBUG] üìä [API /api/integrations] Query result {"workspaceType":"personal","workspaceId":null,"count":14,"error":null}
[2025-11-03T20:55:16.401Z] [INFO   ] 2025-11-03T20:55:16.401Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":14,"workspaceType":"personal"}
[2025-11-03T20:55:16.487Z] [INFO   ] 2025-11-03T20:55:16.486Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-11-03T20:55:16.486Z","url":"http://localhost:3000/api/integrations"}
[2025-11-03T20:55:16.595Z] [INFO   ] 2025-11-03T20:55:16.595Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-11-03T20:55:16.595Z] [INFO   ] 2025-11-03T20:55:16.595Z [DEBUG] üè† [API /api/integrations] Workspace context {"workspaceType":"personal","workspaceId":null}
[2025-11-03T20:55:16.715Z] [INFO   ] 2025-11-03T20:55:16.715Z [DEBUG] üìä [API /api/integrations] Query result {"workspaceType":"personal","workspaceId":null,"count":14,"error":null}
[2025-11-03T20:55:16.715Z] [INFO   ] 2025-11-03T20:55:16.715Z [DEBUG] ‚úÖ [API /api/integrations] Returning integrations {"count":14,"workspaceType":"personal"}
[2025-11-03T20:55:16.958Z] [INFO   ] [generateWorkflowNameWithAI] Input prompt: when I get an email send it to slack
[2025-11-03T20:55:18.613Z] [INFO   ] [generateWorkflowNameWithAI] AI generated name: Forward Email Notifications to Slack
[2025-11-03T20:55:18.614Z] [INFO   ] [generateWorkflowNameWithAI] Final name: Forward Email Notifications to Slack
[2025-11-03T20:55:18.614Z] [INFO   ] [Planner] Generated workflow name: Forward Email Notifications to Slack from prompt: when I get an email send it to slack
[2025-11-03T20:55:18.614Z] [INFO   ] [API /edits] Returning result with workflowName: Forward Email Notifications to Slack
[2025-11-03T20:55:18.841Z] [INFO   ] 2025-11-03T20:55:18.841Z [DEBUG] [Middleware] Username check: {"path":"/workflows/v2/api/flows/fdc1e08f-7516-4ef5-bd70-46ad54ee3af1/apply-edits","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":13636631442}
[2025-11-03T20:55:19.337Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/v2/api/flows/[flowId]/apply-edits in 460ms (6111 modules)
