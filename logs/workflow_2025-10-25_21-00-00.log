=== Log Session Started: 2025-10-26T02:00:00.367Z ===
Node Version: v23.7.0
Platform: darwin
Working Directory: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e
================================================================================

[2025-10-26T02:00:00.367Z] [INFO   ] File logging initialized
[2025-10-26T02:00:00.368Z] [INFO   ] Log file: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-25_21-00-00.log
[2025-10-26T02:00:00.376Z] [INFO   ] üìÅ File logging enabled
[2025-10-26T02:00:00.376Z] [INFO   ] üìù Logs will be written to: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-25_21-00-00.log
[2025-10-26T02:00:00.377Z] [INFO   ] üí° To view logs in real-time: tail -f /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-25_21-00-00.log
[2025-10-26T02:00:00.377Z] [INFO   ] üí° To view all logs: cat /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-25_21-00-00.log
[2025-10-26T02:00:00.377Z] [INFO   ] üí° To share logs: Copy the file at /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-25_21-00-00.log
[2025-10-26T02:00:00.377Z] [INFO   ] --------------------------------------------------------------------------------
[2025-10-26T02:00:00.378Z] [DEBUG  ] üìÅ File logging system initialized
[2025-10-26T02:00:00.414Z] [INFO   ]  [32m[1m‚úì[22m[39m Ready in 5.9s
[2025-10-26T02:00:01.417Z] [INFO   ] 2025-10-26T02:00:01.417Z [DEBUG] ü§ñ Discord bot configured, initializing gateway connection in background...
[2025-10-26T02:00:04.773Z] [INFO   ] 2025-10-26T02:00:04.773Z [DEBUG] Initializing Discord Gateway connection (singleton)...
[2025-10-26T02:00:04.774Z] [INFO   ] 2025-10-26T02:00:04.773Z [DEBUG] üîë Discord bot token loaded
[2025-10-26T02:00:05.072Z] [INFO   ] 2025-10-26T02:00:05.071Z [DEBUG] Discord Gateway initialization complete
[2025-10-26T02:00:05.073Z] [INFO   ] 2025-10-26T02:00:05.073Z [DEBUG] ‚úÖ Discord bot gateway connection initialized
[2025-10-26T02:00:05.563Z] [INFO   ] 2025-10-26T02:00:05.563Z [DEBUG] Discord Gateway WebSocket connection established
[2025-10-26T02:00:05.565Z] [INFO   ] 2025-10-26T02:00:05.565Z [DEBUG] üîë Sending identify with intents: {"GUILDS":true,"GUILD_MEMBERS":true,"GUILD_INVITES":true,"GUILD_MESSAGES":true,"MESSAGE_CONTENT":true,"intentsValue":33347}
[2025-10-26T02:00:05.742Z] [INFO   ] 2025-10-26T02:00:05.742Z [DEBUG] üéâ Discord bot ready! {"sessionId":"acb20689306ab390eb73cca325537124","username":"ChainReact-Bot","userId":"1378595955212812308","guildCount":2}
[2025-10-26T02:00:05.742Z] [INFO   ] 2025-10-26T02:00:05.742Z [DEBUG] üìã Initializing invite cache...
[2025-10-26T02:00:05.753Z] [INFO   ] 2025-10-26T02:00:05.752Z [DEBUG] üì° Discord event received: GUILD_CREATE
[2025-10-26T02:00:05.755Z] [INFO   ] 2025-10-26T02:00:05.755Z [DEBUG] üì° Discord event received: GUILD_CREATE
[2025-10-26T02:00:05.993Z] [INFO   ] 2025-10-26T02:00:05.993Z [DEBUG] ‚úÖ Cached 3 invites for guild 1378950884045623406
[2025-10-26T02:00:59.112Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /middleware in 173ms (233 modules)
[2025-10-26T02:00:59.586Z] [INFO   ] 2025-10-26T02:00:59.585Z [DEBUG] [Middleware] Username check: {"path":"/workflows/ai-agent","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12877372186}
[2025-10-26T02:01:00.128Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /workflows/ai-agent ...
[2025-10-26T02:01:02.906Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/ai-agent in 3.3s (3725 modules)
[2025-10-26T02:01:03.324Z] [INFO   ] 2025-10-26T02:01:03.324Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:01:03.324Z"}
[2025-10-26T02:01:03.327Z] [INFO   ] 2025-10-26T02:01:03.327Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:01:03.327Z"}
[2025-10-26T02:01:03.327Z] [INFO   ] 2025-10-26T02:01:03.327Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-26T02:01:03.327Z"}
[2025-10-26T02:01:03.934Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1003ms (597 modules)
[2025-10-26T02:01:03.974Z] [INFO   ] 2025-10-26T02:01:03.973Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:01:16.427Z] [INFO   ] 2025-10-26T02:01:16.427Z [DEBUG] [Middleware] Username check: {"path":"/workflows/ai-agent","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12877389028}
[2025-10-26T02:01:16.690Z] [INFO   ] 2025-10-26T02:01:16.690Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:01:17.434Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/presence/count ...
[2025-10-26T02:01:17.726Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/presence/count in 812ms (3732 modules)
[2025-10-26T02:01:21.486Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 302ms (3734 modules)
[2025-10-26T02:01:21.575Z] [INFO   ] 2025-10-26T02:01:21.575Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-26T02:01:21.575Z","headers":{"referer":"check-console"}}
[2025-10-26T02:01:21.694Z] [INFO   ] 2025-10-26T02:01:21.694Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:01:21.794Z] [INFO   ] 2025-10-26T02:01:21.794Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-26T02:02:26.819Z] [INFO   ] 2025-10-26T02:02:26.819Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/ecfb280e-f3eb-4b75-ac59-65b467f335b2","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12877459420}
[2025-10-26T02:02:27.369Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /workflows/builder/[id] ...
[2025-10-26T02:02:29.996Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/builder/[id] in 3.1s (5902 modules)
[2025-10-26T02:02:30.888Z] [INFO   ] 2025-10-26T02:02:30.887Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:02:31.953Z] [INFO   ] 2025-10-26T02:02:31.953Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/ecfb280e-f3eb-4b75-ac59-65b467f335b2","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12877464553}
[2025-10-26T02:02:32.146Z] [INFO   ] 2025-10-26T02:02:32.146Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:02:32.146Z"}
[2025-10-26T02:02:32.158Z] [INFO   ] 2025-10-26T02:02:32.158Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:02:32.158Z"}
[2025-10-26T02:02:32.158Z] [INFO   ] 2025-10-26T02:02:32.158Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-26T02:02:32.158Z"}
[2025-10-26T02:02:32.364Z] [INFO   ] 2025-10-26T02:02:32.363Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:02:32.828Z] [INFO   ] 2025-10-26T02:02:32.828Z [INFO] [NewWorkflowBuilderContent] URL params: {"aiChat":"true","hasInitialPrompt":true,"initialPrompt":"When I get an email send it to slack"}
[2025-10-26T02:02:33.400Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/presence/count in 353ms (4268 modules)
[2025-10-26T02:02:33.642Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (4270 modules)
[2025-10-26T02:02:34.170Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/join in 283ms (4272 modules)
[2025-10-26T02:02:34.699Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 364ms (1653 modules)
[2025-10-26T02:02:34.786Z] [INFO   ] 2025-10-26T02:02:34.786Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-26T02:02:34.786Z","headers":{"referer":"check-console"}}
[2025-10-26T02:02:34.871Z] [INFO   ] 2025-10-26T02:02:34.871Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:02:34.960Z] [INFO   ] 2025-10-26T02:02:34.960Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-26T02:02:36.203Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/ai/analyze-request in 458ms (5930 modules)
[2025-10-26T02:02:36.489Z] [INFO   ] 2025-10-26T02:02:36.489Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:02:38.797Z] [INFO   ] 2025-10-26T02:02:38.796Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-26T02:02:39.499Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/gmail/senders ...
[2025-10-26T02:02:40.313Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/gmail/senders in 1399ms (5935 modules)
[2025-10-26T02:02:40.922Z] [INFO   ] 2025-10-26T02:02:40.922Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:02:41.199Z] [INFO   ] 2025-10-26T02:02:41.199Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-26T02:02:41.253Z] [INFO   ] 2025-10-26T02:02:41.252Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:02:41.881Z] [INFO   ] 2025-10-26T02:02:41.881Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-26T02:03:05.756Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/collaborators in 469ms (5937 modules)
[2025-10-26T02:03:08.403Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/ai/stream-workflow ...
[2025-10-26T02:03:08.526Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/ai/stream-workflow in 639ms (2465 modules)
[2025-10-26T02:03:11.009Z] [INFO   ] [Prerequisite Check] Required apps: [ 'gmail', 'slack' ]
[2025-10-26T02:03:11.011Z] [INFO   ] [Prerequisite Check] Connected integrations: [
  'notion',
  'mailchimp',
  'gmail',
  'google-sheets',
  'facebook',
  'trello',
  'slack',
  'google-docs',
  'google-drive',
  'dropbox',
  'twitter',
  'google-calendar',
  'airtable',
  'google_calendar'
]
[2025-10-26T02:03:11.012Z] [INFO   ] [Prerequisite Check] Normalized connected: [
  'notion',
  'mailchimp',
  'gmail',
  'google-sheets',
  'facebook',
  'trello',
  'slack',
  'google-docs',
  'google-drive',
  'dropbox',
  'twitter',
  'google-calendar',
  'airtable',
  'google_calendar'
]
[2025-10-26T02:03:11.012Z] [INFO   ] [Prerequisite Check] Checking gmail (normalized: gmail): CONNECTED
[2025-10-26T02:03:11.012Z] [INFO   ] [Prerequisite Check] Checking slack (normalized: slack): CONNECTED
[2025-10-26T02:04:14.329Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1760ms (5935 modules)
[2025-10-26T02:04:14.696Z] [INFO   ] 2025-10-26T02:04:14.696Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/ecfb280e-f3eb-4b75-ac59-65b467f335b2","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12877567297}
[2025-10-26T02:04:15.002Z] [INFO   ] 2025-10-26T02:04:15.002Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:04:15.639Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/leave in 490ms (5923 modules)
[2025-10-26T02:04:16.167Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload due to a runtime error.
[2025-10-26T02:04:16.449Z] [INFO   ] 2025-10-26T02:04:16.449Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/ecfb280e-f3eb-4b75-ac59-65b467f335b2","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12877569050}
[2025-10-26T02:04:16.477Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 314ms (4272 modules)
[2025-10-26T02:04:16.580Z] [INFO   ] 2025-10-26T02:04:16.580Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-26T02:04:16.580Z","headers":{"referer":"check-console"}}
[2025-10-26T02:04:16.817Z] [INFO   ] 2025-10-26T02:04:16.817Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:04:16.817Z"}
[2025-10-26T02:04:16.829Z] [INFO   ] 2025-10-26T02:04:16.829Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:04:16.829Z"}
[2025-10-26T02:04:16.829Z] [INFO   ] 2025-10-26T02:04:16.829Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-26T02:04:16.829Z"}
[2025-10-26T02:04:16.901Z] [INFO   ] 2025-10-26T02:04:16.901Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:04:16.989Z] [INFO   ] 2025-10-26T02:04:16.989Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-26T02:04:17.048Z] [INFO   ] 2025-10-26T02:04:17.048Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:04:17.476Z] [INFO   ] 2025-10-26T02:04:17.476Z [INFO] [NewWorkflowBuilderContent] URL params: {"aiChat":"true","hasInitialPrompt":true,"initialPrompt":"When I get an email send it to slack"}
[2025-10-26T02:04:17.995Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/presence/count in 469ms (4274 modules)
[2025-10-26T02:04:18.560Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/join in 0ms (4276 modules)
[2025-10-26T02:04:18.827Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 0ms (4279 modules)
[2025-10-26T02:04:19.077Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 0ms (4279 modules)
[2025-10-26T02:04:19.106Z] [INFO   ] 2025-10-26T02:04:19.106Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-26T02:04:19.106Z","headers":{"referer":"check-console"}}
[2025-10-26T02:04:19.203Z] [INFO   ] 2025-10-26T02:04:19.203Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:04:19.367Z] [INFO   ] 2025-10-26T02:04:19.367Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-26T02:04:19.371Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 0ms (4279 modules)
[2025-10-26T02:04:20.479Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/ai/analyze-request in 332ms (4281 modules)
[2025-10-26T02:04:20.656Z] [INFO   ] 2025-10-26T02:04:20.655Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:04:22.996Z] [INFO   ] 2025-10-26T02:04:22.996Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-26T02:04:23.004Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 835ms (5948 modules)
[2025-10-26T02:04:23.378Z] [INFO   ] 2025-10-26T02:04:23.378Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/ecfb280e-f3eb-4b75-ac59-65b467f335b2","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12877575979}
[2025-10-26T02:04:23.805Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/gmail/senders ...
[2025-10-26T02:04:24.126Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/gmail/senders in 1036ms (4284 modules)
[2025-10-26T02:04:24.599Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (4286 modules)
[2025-10-26T02:04:24.776Z] [INFO   ] 2025-10-26T02:04:24.776Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:04:25.220Z] [INFO   ] 2025-10-26T02:04:25.220Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:04:25.459Z] [INFO   ] 2025-10-26T02:04:25.459Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-26T02:04:25.555Z] [INFO   ] 2025-10-26T02:04:25.555Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:04:26.070Z] [INFO   ] 2025-10-26T02:04:26.070Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-26T02:04:31.803Z] [ERROR  ]  [31m[1m‚®Ø[22m[39m ./components/workflows/ai-builder/WorkflowPlan.tsx
Error:   [31m√ó[0m Expected '</', got ')'
    ‚ï≠‚îÄ[[36;1;4m/Users/nathanielstoddard/chainreact-app/chainreact-app-9e/components/workflows/ai-builder/WorkflowPlan.tsx[0m:84:1]
 [2m81[0m ‚îÇ                 </div>
 [2m82[0m ‚îÇ               </div>
 [2m83[0m ‚îÇ             </div>
 [2m84[0m ‚îÇ         ))}
    ¬∑ [35;1m         ‚îÄ[0m
 [2m85[0m ‚îÇ       </div>
 [2m86[0m ‚îÇ 
 [2m87[0m ‚îÇ       {/* Action button - only show when not building */}
    ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ

Caused by:
    Syntax Error

Import trace for requested module:
./components/workflows/ai-builder/WorkflowPlan.tsx
./components/workflows/NewWorkflowBuilderContent.tsx
./components/workflows/NewWorkflowBuilderClient.tsx
[2025-10-26T02:04:42.756Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 666ms (5953 modules)
[2025-10-26T02:04:43.039Z] [INFO   ] 2025-10-26T02:04:43.039Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/ecfb280e-f3eb-4b75-ac59-65b467f335b2","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12877595640}
[2025-10-26T02:04:43.434Z] [INFO   ] 2025-10-26T02:04:43.434Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:04:43.434Z"}
[2025-10-26T02:04:43.446Z] [INFO   ] 2025-10-26T02:04:43.446Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:04:43.446Z"}
[2025-10-26T02:04:43.446Z] [INFO   ] 2025-10-26T02:04:43.446Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-26T02:04:43.446Z"}
[2025-10-26T02:04:43.653Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload due to a runtime error.
[2025-10-26T02:04:43.706Z] [INFO   ] 2025-10-26T02:04:43.706Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:04:43.948Z] [INFO   ] 2025-10-26T02:04:43.948Z [INFO] [NewWorkflowBuilderContent] URL params: {"aiChat":"true","hasInitialPrompt":true,"initialPrompt":"When I get an email send it to slack"}
[2025-10-26T02:04:44.847Z] [INFO   ] 2025-10-26T02:04:44.847Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-26T02:04:44.846Z","headers":{"referer":"check-console"}}
[2025-10-26T02:04:44.945Z] [INFO   ] 2025-10-26T02:04:44.945Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:04:45.040Z] [INFO   ] 2025-10-26T02:04:45.040Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-26T02:04:45.963Z] [INFO   ] 2025-10-26T02:04:45.963Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:04:48.349Z] [INFO   ] 2025-10-26T02:04:48.349Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-26T02:04:48.867Z] [INFO   ] 2025-10-26T02:04:48.867Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:04:49.149Z] [INFO   ] 2025-10-26T02:04:49.149Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:04:49.247Z] [INFO   ] 2025-10-26T02:04:49.247Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-26T02:04:49.854Z] [INFO   ] 2025-10-26T02:04:49.854Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-26T02:04:53.705Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 777ms (5953 modules)
[2025-10-26T02:04:53.965Z] [INFO   ] 2025-10-26T02:04:53.965Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/ecfb280e-f3eb-4b75-ac59-65b467f335b2","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12877606566}
[2025-10-26T02:04:54.148Z] [INFO   ] 2025-10-26T02:04:54.147Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:07:43.292Z] [INFO   ] 2025-10-26T02:07:43.291Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/ecfb280e-f3eb-4b75-ac59-65b467f335b2","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12877775892}
[2025-10-26T02:07:43.549Z] [INFO   ] 2025-10-26T02:07:43.549Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:07:43.549Z"}
[2025-10-26T02:07:43.561Z] [INFO   ] 2025-10-26T02:07:43.560Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:07:43.560Z"}
[2025-10-26T02:07:43.561Z] [INFO   ] 2025-10-26T02:07:43.561Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-26T02:07:43.561Z"}
[2025-10-26T02:07:43.806Z] [INFO   ] 2025-10-26T02:07:43.805Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:07:44.106Z] [INFO   ] 2025-10-26T02:07:44.106Z [INFO] [NewWorkflowBuilderContent] URL params: {"aiChat":"true","hasInitialPrompt":true,"initialPrompt":"When I get an email send it to slack"}
[2025-10-26T02:07:44.671Z] [INFO   ] 2025-10-26T02:07:44.671Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-26T02:07:44.671Z","headers":{"referer":"check-console"}}
[2025-10-26T02:07:44.739Z] [INFO   ] 2025-10-26T02:07:44.739Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:07:44.849Z] [INFO   ] 2025-10-26T02:07:44.849Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-26T02:07:45.897Z] [INFO   ] 2025-10-26T02:07:45.897Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:07:48.617Z] [INFO   ] 2025-10-26T02:07:48.616Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-26T02:07:49.226Z] [INFO   ] 2025-10-26T02:07:49.226Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:07:49.599Z] [INFO   ] 2025-10-26T02:07:49.599Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:07:50.880Z] [INFO   ] 2025-10-26T02:07:50.880Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-26T02:07:51.552Z] [INFO   ] 2025-10-26T02:07:51.552Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-26T02:08:13.000Z] [INFO   ] [Prerequisite Check] Required apps: [ 'gmail', 'slack' ]
[2025-10-26T02:08:13.003Z] [INFO   ] [Prerequisite Check] Connected integrations: [
  'notion',
  'mailchimp',
  'gmail',
  'google-sheets',
  'facebook',
  'trello',
  'slack',
  'google-docs',
  'google-drive',
  'dropbox',
  'twitter',
  'google-calendar',
  'airtable',
  'google_calendar'
]
[2025-10-26T02:08:13.004Z] [INFO   ] [Prerequisite Check] Normalized connected: [
  'notion',
  'mailchimp',
  'gmail',
  'google-sheets',
  'facebook',
  'trello',
  'slack',
  'google-docs',
  'google-drive',
  'dropbox',
  'twitter',
  'google-calendar',
  'airtable',
  'google_calendar'
]
[2025-10-26T02:08:13.004Z] [INFO   ] [Prerequisite Check] Checking gmail (normalized: gmail): CONNECTED
[2025-10-26T02:08:13.004Z] [INFO   ] [Prerequisite Check] Checking slack (normalized: slack): CONNECTED
[2025-10-26T02:08:31.907Z] [INFO   ] [STREAM] Phase 2: Starting node creation, plan: {
  understanding: 'The user wants to automatically send any new emails they receive to a Slack channel.',
  nodes: [
  {
  type: 'gmail_trigger_new_email',
  title: 'Trigger on New Email',
  description: 'This node triggers the workflow whenever a new email is received in the user\'s Gmail account.',
  reasoning: 'This is the starting point of the workflow, as it detects incoming emails.'
},
  {
  type: 'slack_action_send_message',
  title: 'Send Message to Slack',
  description: 'This node sends a message to a specified Slack channel with the content of the new email.',
  reasoning: 'This action is necessary to fulfill the user\'s request to send the email content to Slack.'
}
],
  connections: 'The workflow starts with the Gmail trigger node, which activates when a new email is received. This triggers the Slack action node to send the email content to the designated Slack channel.'
}
[2025-10-26T02:08:31.907Z] [INFO   ] [STREAM] Plan nodes: [
  {
  type: 'gmail_trigger_new_email',
  title: 'Trigger on New Email',
  description: 'This node triggers the workflow whenever a new email is received in the user\'s Gmail account.',
  reasoning: 'This is the starting point of the workflow, as it detects incoming emails.'
},
  {
  type: 'slack_action_send_message',
  title: 'Send Message to Slack',
  description: 'This node sends a message to a specified Slack channel with the content of the new email.',
  reasoning: 'This action is necessary to fulfill the user\'s request to send the email content to Slack.'
}
]
[2025-10-26T02:08:31.908Z] [INFO   ] [POSITION] Node 0 : {
  viewport: { width: 1558, height: 1211, zoom: 0.75, chatPanelWidth: 1000 },
  effectiveViewportWidth: 3410.6666666666665,
  builderViewportWidth: 2077.3333333333335,
  visibleHeight: 1614.6666666666667,
  availableWidth: 1997.3333333333335,
  nodesPerRow: 3,
  row: 0,
  col: 0,
  position: { x: 813.6666666666667, y: 80 }
}
[2025-10-26T02:08:32.009Z] [INFO   ] [POSITION] Node 1 : {
  viewport: { width: 1558, height: 1211, zoom: 0.75, chatPanelWidth: 1000 },
  effectiveViewportWidth: 3410.6666666666665,
  builderViewportWidth: 2077.3333333333335,
  visibleHeight: 1614.6666666666667,
  availableWidth: 1997.3333333333335,
  nodesPerRow: 3,
  row: 0,
  col: 1,
  position: { x: 1103.6666666666667, y: 80 }
}
[2025-10-26T02:08:32.964Z] [INFO   ] [STREAM] Preparing Trigger on New Email (node-1761444511907-0)
[2025-10-26T02:08:33.766Z] [INFO   ] [STREAM] Starting configuration for Trigger on New Email (node-1761444511907-0)
[2025-10-26T02:08:34.269Z] [INFO   ] [STREAM] Calling generateNodeConfig for Trigger on New Email...
