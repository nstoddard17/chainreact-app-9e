=== Log Session Started: 2025-10-25T02:03:52.470Z ===
Node Version: v23.7.0
Platform: darwin
Working Directory: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e
================================================================================

[2025-10-25T02:03:52.471Z] [INFO   ] File logging initialized
[2025-10-25T02:03:52.471Z] [INFO   ] Log file: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-24_21-03-52.log
[2025-10-25T02:03:52.476Z] [INFO   ] Deleted old log file: workflow_2025-10-17_18-38-17.log
[2025-10-25T02:03:52.476Z] [INFO   ] üìÅ File logging enabled
[2025-10-25T02:03:52.476Z] [INFO   ] üìù Logs will be written to: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-24_21-03-52.log
[2025-10-25T02:03:52.476Z] [INFO   ] üí° To view logs in real-time: tail -f /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-24_21-03-52.log
[2025-10-25T02:03:52.476Z] [INFO   ] üí° To view all logs: cat /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-24_21-03-52.log
[2025-10-25T02:03:52.476Z] [INFO   ] üí° To share logs: Copy the file at /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-24_21-03-52.log
[2025-10-25T02:03:52.476Z] [INFO   ] --------------------------------------------------------------------------------
[2025-10-25T02:03:52.477Z] [DEBUG  ] üìÅ File logging system initialized
[2025-10-25T02:03:52.492Z] [INFO   ]  [32m[1m‚úì[22m[39m Ready in 3.1s
[2025-10-25T02:03:52.630Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /middleware in 132ms (233 modules)
[2025-10-25T02:03:52.927Z] [INFO   ] 2025-10-25T02:03:52.926Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/467df09c-4ea2-4904-977e-f06668a6cd8c","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12791145527}
[2025-10-25T02:03:53.456Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /workflows/builder/[id] ...
[2025-10-25T02:03:53.477Z] [INFO   ] 2025-10-25T02:03:53.477Z [DEBUG] ü§ñ Discord bot configured, initializing gateway connection in background...
[2025-10-25T02:03:55.512Z] [INFO   ] 2025-10-25T02:03:55.512Z [DEBUG] Initializing Discord Gateway connection (singleton)...
[2025-10-25T02:03:55.513Z] [INFO   ] 2025-10-25T02:03:55.513Z [DEBUG] üîë Discord bot token loaded
[2025-10-25T02:03:55.755Z] [INFO   ] 2025-10-25T02:03:55.754Z [DEBUG] Discord Gateway initialization complete
[2025-10-25T02:03:55.756Z] [INFO   ] 2025-10-25T02:03:55.756Z [DEBUG] ‚úÖ Discord bot gateway connection initialized
[2025-10-25T02:03:55.966Z] [INFO   ] 2025-10-25T02:03:55.965Z [DEBUG] Discord Gateway WebSocket connection established
[2025-10-25T02:03:55.966Z] [INFO   ] 2025-10-25T02:03:55.966Z [DEBUG] üîë Sending identify with intents: {"GUILDS":true,"GUILD_MEMBERS":true,"GUILD_INVITES":true,"GUILD_MESSAGES":true,"MESSAGE_CONTENT":true,"intentsValue":33347}
[2025-10-25T02:03:56.149Z] [INFO   ] 2025-10-25T02:03:56.149Z [DEBUG] üéâ Discord bot ready! {"sessionId":"dd12667ccf7e2be76e2ebe7464c1b3d2","username":"ChainReact-Bot","userId":"1378595955212812308","guildCount":2}
[2025-10-25T02:03:56.149Z] [INFO   ] 2025-10-25T02:03:56.149Z [DEBUG] üìã Initializing invite cache...
[2025-10-25T02:03:56.170Z] [INFO   ] 2025-10-25T02:03:56.170Z [DEBUG] üì° Discord event received: GUILD_CREATE
[2025-10-25T02:03:56.170Z] [INFO   ] 2025-10-25T02:03:56.170Z [DEBUG] üì° Discord event received: GUILD_CREATE
[2025-10-25T02:03:56.346Z] [INFO   ] 2025-10-25T02:03:56.346Z [DEBUG] ‚úÖ Cached 3 invites for guild 1378950884045623406
[2025-10-25T02:04:01.232Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/builder/[id] in 8.3s (5906 modules)
[2025-10-25T02:04:01.905Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 633ms (1664 modules)
[2025-10-25T02:04:02.226Z] [INFO   ] 2025-10-25T02:04:02.226Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-25T02:04:02.226Z"}
[2025-10-25T02:04:02.238Z] [INFO   ] 2025-10-25T02:04:02.238Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-25T02:04:02.238Z"}
[2025-10-25T02:04:02.238Z] [INFO   ] 2025-10-25T02:04:02.238Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-25T02:04:02.238Z"}
[2025-10-25T02:04:02.513Z] [INFO   ] 2025-10-25T02:04:02.512Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-25T02:04:02.986Z] [INFO   ] 2025-10-25T02:04:02.986Z [INFO] [NewWorkflowBuilderContent] URL params: {"aiChat":"true","hasInitialPrompt":true,"initialPrompt":"when I get an email send it to slack"}
[2025-10-25T02:04:04.054Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/presence/count ...
[2025-10-25T02:04:06.486Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/join in 2.9s (5918 modules)
[2025-10-25T02:04:06.721Z] [INFO   ] 2025-10-25T02:04:06.720Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-25T02:04:06.720Z","headers":{"referer":"check-console"}}
[2025-10-25T02:04:06.889Z] [INFO   ] 2025-10-25T02:04:06.889Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-25T02:04:06.981Z] [INFO   ] 2025-10-25T02:04:06.980Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-25T02:04:08.229Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/ai/stream-workflow ...
[2025-10-25T02:04:08.350Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/ai/stream-workflow in 623ms (2462 modules)
[2025-10-25T02:04:10.146Z] [INFO   ] [Prerequisite Check] Required apps: [ 'gmail', 'slack' ]
[2025-10-25T02:04:10.147Z] [INFO   ] [Prerequisite Check] Connected integrations: [
  'notion',
  'mailchimp',
  'gmail',
  'google-sheets',
  'google-drive',
  'facebook',
  'google-docs',
  'trello',
  'slack',
  'twitter',
  'dropbox',
  'google-calendar',
  'airtable',
  'google_calendar'
]
[2025-10-25T02:04:10.147Z] [INFO   ] [Prerequisite Check] Normalized connected: [
  'notion',
  'mailchimp',
  'gmail',
  'google-sheets',
  'google-drive',
  'facebook',
  'google-docs',
  'trello',
  'slack',
  'twitter',
  'dropbox',
  'google-calendar',
  'airtable',
  'google_calendar'
]
[2025-10-25T02:04:10.147Z] [INFO   ] [Prerequisite Check] Checking gmail (normalized: gmail): CONNECTED
[2025-10-25T02:04:10.147Z] [INFO   ] [Prerequisite Check] Checking slack (normalized: slack): CONNECTED
[2025-10-25T02:04:37.729Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/collaboration/collaborators ...
[2025-10-25T02:04:37.858Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/collaborators in 630ms (5920 modules)
[2025-10-25T02:09:27.079Z] [INFO   ] [STREAM] Phase 2: Starting node creation, plan: {
  understanding: 'The user wants to send notifications to Slack whenever they receive a new email.',
  nodes: [
  {
  type: 'gmail_trigger_new_email',
  title: 'Trigger on New Email',
  description: 'This node triggers the workflow when a new email is received in the user\'s Gmail account.',
  reasoning: 'This is the starting point of the workflow, as it detects when the user receives a new email.'
},
  {
  type: 'slack_action_send_message',
  title: 'Send Message to Slack',
  description: 'This node sends a message to a specified Slack channel.',
  reasoning: 'This node is needed to notify the user in Slack about the new email they received.'
}
],
  connections: 'The workflow starts with the Gmail trigger node, which activates when a new email is received. This triggers the Slack action node to send a message to the desired Slack channel, providing the user with a notification of the new email.'
}
[2025-10-25T02:09:27.080Z] [INFO   ] [STREAM] Plan nodes: [
  {
  type: 'gmail_trigger_new_email',
  title: 'Trigger on New Email',
  description: 'This node triggers the workflow when a new email is received in the user\'s Gmail account.',
  reasoning: 'This is the starting point of the workflow, as it detects when the user receives a new email.'
},
  {
  type: 'slack_action_send_message',
  title: 'Send Message to Slack',
  description: 'This node sends a message to a specified Slack channel.',
  reasoning: 'This node is needed to notify the user in Slack about the new email they received.'
}
]
[2025-10-25T02:09:27.081Z] [INFO   ] [POSITION] Node 0 : {
  viewport: { width: 1558, height: 1211, zoom: 0.75, chatPanelWidth: 1000 },
  effectiveViewportWidth: 3410.6666666666665,
  builderViewportWidth: 2077.3333333333335,
  visibleHeight: 1614.6666666666667,
  availableWidth: 1997.3333333333335,
  nodesPerRow: 3,
  row: 0,
  col: 0,
  position: { x: 813.6666666666667, y: 80 }
}
[2025-10-25T02:09:27.193Z] [INFO   ] [POSITION] Node 1 : {
  viewport: { width: 1558, height: 1211, zoom: 0.75, chatPanelWidth: 1000 },
  effectiveViewportWidth: 3410.6666666666665,
  builderViewportWidth: 2077.3333333333335,
  visibleHeight: 1614.6666666666667,
  availableWidth: 1997.3333333333335,
  nodesPerRow: 3,
  row: 0,
  col: 1,
  position: { x: 1103.6666666666667, y: 80 }
}
[2025-10-25T02:09:27.752Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/collaboration/leave ...
[2025-10-25T02:09:28.425Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/leave in 1176ms (5915 modules)
[2025-10-25T02:09:28.558Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload due to a runtime error.
[2025-10-25T02:09:28.792Z] [INFO   ] 2025-10-25T02:09:28.791Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/467df09c-4ea2-4904-977e-f06668a6cd8c","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12791481392}
[2025-10-25T02:09:29.114Z] [INFO   ] 2025-10-25T02:09:29.114Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-25T02:09:29.114Z"}
[2025-10-25T02:09:29.126Z] [INFO   ] 2025-10-25T02:09:29.126Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-25T02:09:29.126Z"}
[2025-10-25T02:09:29.126Z] [INFO   ] 2025-10-25T02:09:29.126Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-25T02:09:29.126Z"}
[2025-10-25T02:09:29.199Z] [ERROR  ] aborted
Error: aborted
    at abortIncoming (node:_http_server:809:17)
    at socketOnClose (node:_http_server:803:3)
    at Socket.emit (node:events:519:35)
    at TCP.<anonymous> (node:net:351:12)
    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)
[2025-10-25T02:09:29.199Z] [ERROR  ]  [31m[1m‚®Ø[22m[39m uncaughtException: aborted
Error: aborted
    at abortIncoming (node:_http_server:809:17)
    at socketOnClose (node:_http_server:803:3)
    at Socket.emit (node:events:519:35)
    at TCP.<anonymous> (node:net:351:12)
    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)
[2025-10-25T02:09:29.199Z] [ERROR  ]  [31m[1m‚®Ø[22m[39m uncaughtException:  aborted
Error: aborted
    at abortIncoming (node:_http_server:809:17)
    at socketOnClose (node:_http_server:803:3)
    at Socket.emit (node:events:519:35)
    at TCP.<anonymous> (node:net:351:12)
    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)
[2025-10-25T02:09:29.330Z] [INFO   ] 2025-10-25T02:09:29.330Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-25T02:09:29.806Z] [INFO   ] 2025-10-25T02:09:29.806Z [INFO] [NewWorkflowBuilderContent] URL params: {"aiChat":"true","hasInitialPrompt":true,"initialPrompt":"when I get an email send it to slack"}
[2025-10-25T02:09:30.496Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/join in 390ms (4267 modules)
[2025-10-25T02:09:30.796Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (4272 modules)
[2025-10-25T02:09:30.907Z] [INFO   ] 2025-10-25T02:09:30.907Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-25T02:09:30.907Z","headers":{"referer":"check-console"}}
[2025-10-25T02:09:30.991Z] [INFO   ] 2025-10-25T02:09:30.991Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-25T02:09:31.071Z] [INFO   ] 2025-10-25T02:09:31.071Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-25T02:09:33.684Z] [INFO   ] [Prerequisite Check] Required apps: [ 'gmail', 'slack' ]
[2025-10-25T02:09:33.685Z] [INFO   ] [Prerequisite Check] Connected integrations: [
  'notion',
  'mailchimp',
  'gmail',
  'google-sheets',
  'google-drive',
  'facebook',
  'google-docs',
  'trello',
  'slack',
  'twitter',
  'dropbox',
  'google-calendar',
  'airtable',
  'google_calendar'
]
[2025-10-25T02:09:33.685Z] [INFO   ] [Prerequisite Check] Normalized connected: [
  'notion',
  'mailchimp',
  'gmail',
  'google-sheets',
  'google-drive',
  'facebook',
  'google-docs',
  'trello',
  'slack',
  'twitter',
  'dropbox',
  'google-calendar',
  'airtable',
  'google_calendar'
]
[2025-10-25T02:09:33.685Z] [INFO   ] [Prerequisite Check] Checking gmail (normalized: gmail): CONNECTED
[2025-10-25T02:09:33.685Z] [INFO   ] [Prerequisite Check] Checking slack (normalized: slack): CONNECTED
[2025-10-25T02:09:44.842Z] [INFO   ] 2025-10-25T02:09:44.842Z [DEBUG] [Middleware] Username check: {"path":"/workflows/ai-agent","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12791497443}
[2025-10-25T02:09:45.662Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /workflows/ai-agent ...
[2025-10-25T02:09:46.464Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/ai-agent in 1571ms (5936 modules)
[2025-10-25T02:09:46.726Z] [INFO   ] 2025-10-25T02:09:46.725Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-25T02:09:46.725Z"}
[2025-10-25T02:09:46.728Z] [INFO   ] 2025-10-25T02:09:46.728Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-25T02:09:46.728Z"}
[2025-10-25T02:09:46.728Z] [INFO   ] 2025-10-25T02:09:46.728Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-25T02:09:46.728Z"}

=== Log Session Ended: 2025-10-25T02:09:46.805Z ===
