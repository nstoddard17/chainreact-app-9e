=== Log Session Started: 2025-10-26T02:26:37.839Z ===
Node Version: v23.7.0
Platform: darwin
Working Directory: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e
================================================================================

[2025-10-26T02:26:37.839Z] [INFO   ] File logging initialized
[2025-10-26T02:26:37.839Z] [INFO   ] Log file: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-25_21-26-37.log
[2025-10-26T02:26:37.851Z] [INFO   ] Deleted old log file: workflow_2025-10-18_21-10-25.log
[2025-10-26T02:26:37.854Z] [INFO   ] Deleted old log file: workflow_2025-10-18_20-47-20.log
[2025-10-26T02:26:37.854Z] [INFO   ] üìÅ File logging enabled
[2025-10-26T02:26:37.854Z] [INFO   ] üìù Logs will be written to: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-25_21-26-37.log
[2025-10-26T02:26:37.855Z] [INFO   ] üí° To view logs in real-time: tail -f /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-25_21-26-37.log
[2025-10-26T02:26:37.855Z] [INFO   ] üí° To view all logs: cat /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-25_21-26-37.log
[2025-10-26T02:26:37.855Z] [INFO   ] üí° To share logs: Copy the file at /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-25_21-26-37.log
[2025-10-26T02:26:37.855Z] [INFO   ] --------------------------------------------------------------------------------
[2025-10-26T02:26:37.855Z] [DEBUG  ] üìÅ File logging system initialized
[2025-10-26T02:26:37.862Z] [INFO   ]  [32m[1m‚úì[22m[39m Ready in 2.8s
[2025-10-26T02:26:38.284Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /middleware in 137ms (233 modules)
[2025-10-26T02:26:38.596Z] [INFO   ] 2025-10-26T02:26:38.596Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/ecfb280e-f3eb-4b75-ac59-65b467f335b2","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12878911197}
[2025-10-26T02:26:38.884Z] [INFO   ] 2025-10-26T02:26:38.884Z [DEBUG] ü§ñ Discord bot configured, initializing gateway connection in background...
[2025-10-26T02:26:40.672Z] [INFO   ] 2025-10-26T02:26:40.672Z [DEBUG] Initializing Discord Gateway connection (singleton)...
[2025-10-26T02:26:40.673Z] [INFO   ] 2025-10-26T02:26:40.673Z [DEBUG] üîë Discord bot token loaded
[2025-10-26T02:26:40.685Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /workflows/builder/[id] ...
[2025-10-26T02:26:40.951Z] [INFO   ] 2025-10-26T02:26:40.951Z [DEBUG] Discord Gateway initialization complete
[2025-10-26T02:26:40.952Z] [INFO   ] 2025-10-26T02:26:40.952Z [DEBUG] ‚úÖ Discord bot gateway connection initialized
[2025-10-26T02:26:41.268Z] [INFO   ] 2025-10-26T02:26:41.268Z [DEBUG] Discord Gateway WebSocket connection established
[2025-10-26T02:26:41.268Z] [INFO   ] 2025-10-26T02:26:41.268Z [DEBUG] üîë Sending identify with intents: {"GUILDS":true,"GUILD_MEMBERS":true,"GUILD_INVITES":true,"GUILD_MESSAGES":true,"MESSAGE_CONTENT":true,"intentsValue":33347}
[2025-10-26T02:26:41.435Z] [INFO   ] 2025-10-26T02:26:41.435Z [DEBUG] üéâ Discord bot ready! {"sessionId":"6a03a6b31ac44e23239155469606935a","username":"ChainReact-Bot","userId":"1378595955212812308","guildCount":2}
[2025-10-26T02:26:41.435Z] [INFO   ] 2025-10-26T02:26:41.435Z [DEBUG] üìã Initializing invite cache...
[2025-10-26T02:26:41.446Z] [INFO   ] 2025-10-26T02:26:41.445Z [DEBUG] üì° Discord event received: GUILD_CREATE
[2025-10-26T02:26:41.446Z] [INFO   ] 2025-10-26T02:26:41.446Z [DEBUG] üì° Discord event received: GUILD_CREATE
[2025-10-26T02:26:41.653Z] [INFO   ] 2025-10-26T02:26:41.653Z [DEBUG] ‚úÖ Cached 3 invites for guild 1378950884045623406
[2025-10-26T02:26:46.617Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/builder/[id] in 8s (5902 modules)
[2025-10-26T02:26:47.211Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 572ms (1662 modules)
[2025-10-26T02:26:47.595Z] [INFO   ] 2025-10-26T02:26:47.595Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:26:47.595Z"}
[2025-10-26T02:26:47.607Z] [INFO   ] 2025-10-26T02:26:47.607Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:26:47.607Z"}
[2025-10-26T02:26:47.607Z] [INFO   ] 2025-10-26T02:26:47.607Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-26T02:26:47.607Z"}
[2025-10-26T02:26:47.888Z] [INFO   ] 2025-10-26T02:26:47.887Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:26:48.274Z] [INFO   ] 2025-10-26T02:26:48.274Z [INFO] [NewWorkflowBuilderContent] URL params: {"aiChat":"true","hasInitialPrompt":true,"initialPrompt":"When I get an email send it to slack"}
[2025-10-26T02:26:49.052Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/presence/count ...
[2025-10-26T02:26:51.055Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /_not-found in 2.5s (5919 modules)
[2025-10-26T02:26:51.288Z] [INFO   ] 2025-10-26T02:26:51.288Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:26:51.288Z"}
[2025-10-26T02:26:51.289Z] [INFO   ] 2025-10-26T02:26:51.289Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:26:51.289Z"}
[2025-10-26T02:26:51.289Z] [INFO   ] 2025-10-26T02:26:51.289Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-26T02:26:51.289Z"}
[2025-10-26T02:26:51.420Z] [INFO   ] 2025-10-26T02:26:51.420Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-26T02:26:51.420Z","headers":{"referer":"check-console"}}
[2025-10-26T02:26:51.564Z] [INFO   ] 2025-10-26T02:26:51.564Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:26:51.677Z] [INFO   ] 2025-10-26T02:26:51.677Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-26T02:26:54.147Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/ai/analyze-request in 346ms (5921 modules)
[2025-10-26T02:26:54.402Z] [INFO   ] 2025-10-26T02:26:54.402Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:26:56.767Z] [INFO   ] 2025-10-26T02:26:56.766Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-26T02:26:57.387Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/gmail/senders ...
[2025-10-26T02:26:58.049Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/gmail/senders in 1165ms (5926 modules)
[2025-10-26T02:26:58.603Z] [INFO   ] 2025-10-26T02:26:58.603Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:26:58.917Z] [INFO   ] 2025-10-26T02:26:58.917Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:26:58.932Z] [INFO   ] 2025-10-26T02:26:58.932Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":12}
[2025-10-26T02:26:59.523Z] [INFO   ] 2025-10-26T02:26:59.523Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":12}
[2025-10-26T02:27:05.349Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/ai/stream-workflow ...
[2025-10-26T02:27:05.694Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/ai/stream-workflow in 847ms (2464 modules)
[2025-10-26T02:27:08.115Z] [INFO   ] [Prerequisite Check] Required apps: [ 'gmail', 'slack' ]
[2025-10-26T02:27:08.116Z] [INFO   ] [Prerequisite Check] Connected integrations: [
  'notion',
  'mailchimp',
  'gmail',
  'google-sheets',
  'facebook',
  'trello',
  'slack',
  'google-docs',
  'google-drive',
  'dropbox',
  'twitter',
  'google-calendar',
  'airtable',
  'google_calendar'
]
[2025-10-26T02:27:08.117Z] [INFO   ] [Prerequisite Check] Normalized connected: [
  'notion',
  'mailchimp',
  'gmail',
  'google-sheets',
  'facebook',
  'trello',
  'slack',
  'google-docs',
  'google-drive',
  'dropbox',
  'twitter',
  'google-calendar',
  'airtable',
  'google_calendar'
]
[2025-10-26T02:27:08.117Z] [INFO   ] [Prerequisite Check] Checking gmail (normalized: gmail): CONNECTED
[2025-10-26T02:27:08.117Z] [INFO   ] [Prerequisite Check] Checking slack (normalized: slack): CONNECTED
[2025-10-26T02:27:13.927Z] [INFO   ] [STREAM] Phase 2: Starting node creation, plan: {
  understanding: 'The user wants to automatically send any new email received in their Gmail account to a Slack channel.',
  nodes: [
  {
  type: 'gmail_trigger_new_email',
  title: 'Trigger on New Email',
  description: 'This node triggers the workflow whenever a new email is received in the user\'s Gmail account.',
  reasoning: 'This node is essential to initiate the workflow based on the user\'s request to act on new emails.'
},
  {
  type: 'slack_action_send_message',
  title: 'Send Message to Slack',
  description: 'This node sends a message to a specified Slack channel containing the details of the new email.',
  reasoning: 'This node is needed to fulfill the user\'s requirement of sending the email information to Slack.'
}
],
  connections: 'The workflow starts with the Gmail trigger for new emails, which then connects to the Slack action to send the email details.'
}
[2025-10-26T02:27:13.928Z] [INFO   ] [STREAM] Plan nodes: [
  {
  type: 'gmail_trigger_new_email',
  title: 'Trigger on New Email',
  description: 'This node triggers the workflow whenever a new email is received in the user\'s Gmail account.',
  reasoning: 'This node is essential to initiate the workflow based on the user\'s request to act on new emails.'
},
  {
  type: 'slack_action_send_message',
  title: 'Send Message to Slack',
  description: 'This node sends a message to a specified Slack channel containing the details of the new email.',
  reasoning: 'This node is needed to fulfill the user\'s requirement of sending the email information to Slack.'
}
]
[2025-10-26T02:27:13.929Z] [INFO   ] [POSITION] Node 0 : {
  viewport: { width: 1558, height: 1211, zoom: 0.75, chatPanelWidth: 1000 },
  effectiveViewportWidth: 3410.6666666666665,
  builderViewportWidth: 2077.3333333333335,
  visibleHeight: 1614.6666666666667,
  availableWidth: 1997.3333333333335,
  nodesPerRow: 3,
  row: 0,
  col: 0,
  position: { x: 813.6666666666667, y: 80 }
}
[2025-10-26T02:27:14.032Z] [INFO   ] [POSITION] Node 1 : {
  viewport: { width: 1558, height: 1211, zoom: 0.75, chatPanelWidth: 1000 },
  effectiveViewportWidth: 3410.6666666666665,
  builderViewportWidth: 2077.3333333333335,
  visibleHeight: 1614.6666666666667,
  availableWidth: 1997.3333333333335,
  nodesPerRow: 3,
  row: 0,
  col: 1,
  position: { x: 1103.6666666666667, y: 80 }
}
[2025-10-26T02:27:14.988Z] [INFO   ] [STREAM] Preparing Trigger on New Email (node-1761445633929-0)
[2025-10-26T02:27:15.788Z] [INFO   ] [STREAM] Starting configuration for Trigger on New Email (node-1761445633929-0)
[2025-10-26T02:27:16.290Z] [INFO   ] [STREAM] Calling generateNodeConfig for Trigger on New Email...
[2025-10-26T02:27:16.291Z] [INFO   ] [generateNodeConfig] Starting for node: Trigger on New Email
[2025-10-26T02:27:16.291Z] [INFO   ] [generateNodeConfig] nodeComponent: { type: 'gmail_trigger_new_email', providerId: 'gmail' }
[2025-10-26T02:27:16.291Z] [INFO   ] [generateNodeConfig] clarifications received: {}
[2025-10-26T02:27:16.291Z] [INFO   ] [generateNodeConfig] Filtered nodeClarifications: []
[2025-10-26T02:27:16.291Z] [INFO   ] [generateNodeConfig] messageTemplate: undefined
[2025-10-26T02:27:16.291Z] [INFO   ] [generateNodeConfig] Final clarificationContext: NONE
[2025-10-26T02:27:16.292Z] [INFO   ] [generateNodeConfig] Sending prompt to AI...
[2025-10-26T02:27:19.648Z] [INFO   ] [generateNodeConfig] AI returned result: {
  "success": true,
  "config": {
    "trigger": {
      "type": "gmail_trigger_new_email",
      "account": "{{previous_node.account}}",
      "label_ids": [
        "INBOX"
      ],
      "query": "",
      "include_spam_trash": false,
      "max_results": 1
    }
  },
  "reasoning": "The configuration is set to trigger on new emails received in the user's Gmail account, specifically from the INBOX label. The account variable is dynamically pulled from a previous node to ensure it uses the correct Gmail account. The query is left empty to capture all new emails, and the optional fields are filled with sensible defaults, such as excluding spam and trash and limiting the results to the most recent email. This setup aligns with the user's goal of continuing the workflow based on new email events."
}
[2025-10-26T02:27:19.649Z] [INFO   ] [generateNodeConfig] Config from AI: {
  "trigger": {
    "type": "gmail_trigger_new_email",
    "account": "{{previous_node.account}}",
    "label_ids": [
      "INBOX"
    ],
    "query": "",
    "include_spam_trash": false,
    "max_results": 1
  }
}
[2025-10-26T02:27:19.649Z] [INFO   ] [generateNodeConfig] Final config after force-apply: {
  "trigger": {
    "type": "gmail_trigger_new_email",
    "account": "{{previous_node.account}}",
    "label_ids": [
      "INBOX"
    ],
    "query": "",
    "include_spam_trash": false,
    "max_results": 1
  }
}
[2025-10-26T02:27:19.649Z] [INFO   ] [STREAM] generateNodeConfig completed in 3359ms for Trigger on New Email
[2025-10-26T02:27:19.649Z] [INFO   ] [STREAM] Config result: {
  success: true,
  hasConfig: true,
  configKeys: [ 'trigger' ],
  finalConfigKeys: [ 'trigger', 'from' ],
  fallbackFields: [ 'from' ]
}
[2025-10-26T02:27:19.649Z] [INFO   ] [STREAM] Configuring 2 fields for Trigger on New Email: trigger, from
[2025-10-26T02:27:19.650Z] [INFO   ] [STREAM] Setting field trigger = [object Object] for Trigger on New Email
[2025-10-26T02:27:19.952Z] [INFO   ] [STREAM] Setting field from = inbox@placeholder.com for Trigger on New Email
[2025-10-26T02:27:20.757Z] [INFO   ] [STREAM] Skipping test for trigger Trigger on New Email
[2025-10-26T02:27:22.266Z] [INFO   ] [STREAM] Trigger complete, continuing to next node (loop iteration 0 of 1)
[2025-10-26T02:27:22.383Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/collaborators in 415ms (5928 modules)
[2025-10-26T02:27:42.120Z] [INFO   ] 2025-10-26T02:27:42.119Z [DEBUG] [Middleware] Username check: {"path":"/workflows/ai-agent","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12878974720}
[2025-10-26T02:27:42.805Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /workflows/ai-agent ...
[2025-10-26T02:27:43.308Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/ai-agent in 1146ms (5942 modules)
[2025-10-26T02:27:43.684Z] [INFO   ] 2025-10-26T02:27:43.684Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:27:43.683Z"}
[2025-10-26T02:27:43.687Z] [INFO   ] 2025-10-26T02:27:43.687Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:27:43.687Z"}
[2025-10-26T02:27:43.687Z] [INFO   ] 2025-10-26T02:27:43.687Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-26T02:27:43.687Z"}
[2025-10-26T02:27:43.777Z] [ERROR  ] aborted
Error: aborted
    at abortIncoming (node:_http_server:809:17)
    at socketOnClose (node:_http_server:803:3)
    at Socket.emit (node:events:519:35)
    at TCP.<anonymous> (node:net:351:12)
    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)
[2025-10-26T02:27:43.778Z] [ERROR  ]  [31m[1m‚®Ø[22m[39m uncaughtException: aborted
Error: aborted
    at abortIncoming (node:_http_server:809:17)
    at socketOnClose (node:_http_server:803:3)
    at Socket.emit (node:events:519:35)
    at TCP.<anonymous> (node:net:351:12)
    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)
[2025-10-26T02:27:43.778Z] [ERROR  ]  [31m[1m‚®Ø[22m[39m uncaughtException:  aborted
Error: aborted
    at abortIncoming (node:_http_server:809:17)
    at socketOnClose (node:_http_server:803:3)
    at Socket.emit (node:events:519:35)
    at TCP.<anonymous> (node:net:351:12)
    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)
[2025-10-26T02:27:43.914Z] [INFO   ] 2025-10-26T02:27:43.914Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:27:47.527Z] [INFO   ] 2025-10-26T02:27:47.527Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-26T02:27:47.527Z","headers":{"referer":"check-console"}}
[2025-10-26T02:27:47.659Z] [INFO   ] 2025-10-26T02:27:47.659Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:27:47.744Z] [INFO   ] 2025-10-26T02:27:47.744Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-26T02:27:50.245Z] [INFO   ] 2025-10-26T02:27:50.245Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/f00d60c3-e12b-4864-8e4b-1ac8252c31b3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12878982846}
[2025-10-26T02:27:50.619Z] [INFO   ] 2025-10-26T02:27:50.618Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:27:51.979Z] [INFO   ] 2025-10-26T02:27:51.979Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:27:54.754Z] [INFO   ] 2025-10-26T02:27:54.754Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-26T02:27:55.354Z] [INFO   ] 2025-10-26T02:27:55.354Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:27:55.712Z] [INFO   ] 2025-10-26T02:27:55.711Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:27:55.740Z] [INFO   ] 2025-10-26T02:27:55.740Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":12}
[2025-10-26T02:27:56.362Z] [INFO   ] 2025-10-26T02:27:56.361Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":12}
[2025-10-26T02:28:08.386Z] [INFO   ] [Prerequisite Check] Required apps: [ 'gmail', 'slack' ]
[2025-10-26T02:28:08.388Z] [INFO   ] [Prerequisite Check] Connected integrations: [
  'notion',
  'mailchimp',
  'gmail',
  'google-sheets',
  'facebook',
  'trello',
  'slack',
  'google-docs',
  'google-drive',
  'dropbox',
  'twitter',
  'google-calendar',
  'airtable',
  'google_calendar'
]
[2025-10-26T02:28:08.389Z] [INFO   ] [Prerequisite Check] Normalized connected: [
  'notion',
  'mailchimp',
  'gmail',
  'google-sheets',
  'facebook',
  'trello',
  'slack',
  'google-docs',
  'google-drive',
  'dropbox',
  'twitter',
  'google-calendar',
  'airtable',
  'google_calendar'
]
[2025-10-26T02:28:08.389Z] [INFO   ] [Prerequisite Check] Checking gmail (normalized: gmail): CONNECTED
[2025-10-26T02:28:08.389Z] [INFO   ] [Prerequisite Check] Checking slack (normalized: slack): CONNECTED
[2025-10-26T02:28:14.194Z] [INFO   ] [STREAM] Phase 2: Starting node creation, plan: {
  understanding: 'The user wants to automatically send any new email received in their Gmail account to a Slack channel.',
  nodes: [
  {
  type: 'gmail_trigger_new_email',
  title: 'Trigger on New Email',
  description: 'This node triggers the workflow when a new email is received in the user\'s Gmail account.',
  reasoning: 'This is the starting point of the workflow, as it captures the user\'s request to act upon new emails.'
},
  {
  type: 'slack_action_send_message',
  title: 'Send Message to Slack',
  description: 'This node sends a message to a specified Slack channel with the content of the new email.',
  reasoning: 'This node fulfills the user\'s request to forward the email content to Slack.'
}
],
  connections: 'The workflow starts with the Gmail trigger node, which activates when a new email is received. This triggers the Slack action node to send the email content to the designated Slack channel.'
}
[2025-10-26T02:28:14.195Z] [INFO   ] [STREAM] Plan nodes: [
  {
  type: 'gmail_trigger_new_email',
  title: 'Trigger on New Email',
  description: 'This node triggers the workflow when a new email is received in the user\'s Gmail account.',
  reasoning: 'This is the starting point of the workflow, as it captures the user\'s request to act upon new emails.'
},
  {
  type: 'slack_action_send_message',
  title: 'Send Message to Slack',
  description: 'This node sends a message to a specified Slack channel with the content of the new email.',
  reasoning: 'This node fulfills the user\'s request to forward the email content to Slack.'
}
]
[2025-10-26T02:28:14.195Z] [INFO   ] [POSITION] Node 0 : {
  viewport: { width: 1558, height: 1211, zoom: 0.75, chatPanelWidth: 1000 },
  effectiveViewportWidth: 3410.6666666666665,
  builderViewportWidth: 2077.3333333333335,
  visibleHeight: 1614.6666666666667,
  availableWidth: 1997.3333333333335,
  nodesPerRow: 3,
  row: 0,
  col: 0,
  position: { x: 813.6666666666667, y: 80 }
}
[2025-10-26T02:28:14.297Z] [INFO   ] [POSITION] Node 1 : {
  viewport: { width: 1558, height: 1211, zoom: 0.75, chatPanelWidth: 1000 },
  effectiveViewportWidth: 3410.6666666666665,
  builderViewportWidth: 2077.3333333333335,
  visibleHeight: 1614.6666666666667,
  availableWidth: 1997.3333333333335,
  nodesPerRow: 3,
  row: 0,
  col: 1,
  position: { x: 1103.6666666666667, y: 80 }
}
[2025-10-26T02:28:15.252Z] [INFO   ] [STREAM] Preparing Trigger on New Email (node-1761445694195-0)
[2025-10-26T02:28:16.055Z] [INFO   ] [STREAM] Starting configuration for Trigger on New Email (node-1761445694195-0)
[2025-10-26T02:28:16.558Z] [INFO   ] [STREAM] Calling generateNodeConfig for Trigger on New Email...
[2025-10-26T02:28:16.559Z] [INFO   ] [generateNodeConfig] Starting for node: Trigger on New Email
[2025-10-26T02:28:16.559Z] [INFO   ] [generateNodeConfig] nodeComponent: { type: 'gmail_trigger_new_email', providerId: 'gmail' }
[2025-10-26T02:28:16.559Z] [INFO   ] [generateNodeConfig] clarifications received: {}
[2025-10-26T02:28:16.560Z] [INFO   ] [generateNodeConfig] Filtered nodeClarifications: []
[2025-10-26T02:28:16.560Z] [INFO   ] [generateNodeConfig] messageTemplate: undefined
[2025-10-26T02:28:16.560Z] [INFO   ] [generateNodeConfig] Final clarificationContext: NONE
[2025-10-26T02:28:16.560Z] [INFO   ] [generateNodeConfig] Sending prompt to AI...
[2025-10-26T02:28:46.561Z] [ERROR  ] 2025-10-26T02:28:46.560Z [ERROR] AI call failed: {}
[2025-10-26T02:28:46.561Z] [INFO   ] [generateNodeConfig] AI returned result: {
  "success": false,
  "error": "AI API request timed out after 30 seconds"
}
[2025-10-26T02:28:46.561Z] [INFO   ] [generateNodeConfig] Config from AI: undefined
[2025-10-26T02:28:46.561Z] [INFO   ] [generateNodeConfig] Final config after force-apply: undefined
[2025-10-26T02:28:46.562Z] [INFO   ] [STREAM] generateNodeConfig completed in 30002ms for Trigger on New Email
[2025-10-26T02:28:46.569Z] [INFO   ] [STREAM] Config result: {
  success: false,
  hasConfig: false,
  configKeys: [],
  finalConfigKeys: [ 'from' ],
  fallbackFields: [ 'from' ]
}
[2025-10-26T02:28:46.569Z] [INFO   ] [STREAM] Configuring 1 fields for Trigger on New Email: from
[2025-10-26T02:28:46.569Z] [INFO   ] [STREAM] Setting field from = inbox@placeholder.com for Trigger on New Email
[2025-10-26T02:28:47.372Z] [INFO   ] [STREAM] Skipping test for trigger Trigger on New Email
[2025-10-26T02:28:48.876Z] [INFO   ] [STREAM] Trigger complete, continuing to next node (loop iteration 0 of 1)
[2025-10-26T02:28:49.179Z] [INFO   ] [STREAM] Completed node 1 of 2, moving to next iteration
[2025-10-26T02:28:49.180Z] [INFO   ] [STREAM] Preparing Send Message to Slack (node-1761445694297-1)
[2025-10-26T02:28:49.981Z] [INFO   ] [STREAM] Starting configuration for Send Message to Slack (node-1761445694297-1)
[2025-10-26T02:28:50.483Z] [INFO   ] [STREAM] Calling generateNodeConfig for Send Message to Slack...
[2025-10-26T02:28:50.484Z] [INFO   ] [generateNodeConfig] Starting for node: Send Message to Slack
[2025-10-26T02:28:50.484Z] [INFO   ] [generateNodeConfig] nodeComponent: { type: 'slack_action_send_message', providerId: 'slack' }
[2025-10-26T02:28:50.484Z] [INFO   ] [generateNodeConfig] clarifications received: {}
[2025-10-26T02:28:50.485Z] [INFO   ] [generateNodeConfig] Filtered nodeClarifications: []
[2025-10-26T02:28:50.485Z] [INFO   ] [generateNodeConfig] messageTemplate: undefined
[2025-10-26T02:28:50.485Z] [INFO   ] [generateNodeConfig] Final clarificationContext: NONE
[2025-10-26T02:28:50.485Z] [INFO   ] [generateNodeConfig] Sending prompt to AI...
[2025-10-26T02:29:20.493Z] [ERROR  ] 2025-10-26T02:29:20.492Z [ERROR] AI call failed: {}
[2025-10-26T02:29:20.495Z] [INFO   ] [generateNodeConfig] AI returned result: {
  "success": false,
  "error": "AI API request timed out after 30 seconds"
}
[2025-10-26T02:29:20.495Z] [INFO   ] [generateNodeConfig] Config from AI: undefined
[2025-10-26T02:29:20.495Z] [INFO   ] [generateNodeConfig] Final config after force-apply: undefined
[2025-10-26T02:29:20.495Z] [INFO   ] [STREAM] generateNodeConfig completed in 30011ms for Send Message to Slack
[2025-10-26T02:29:20.497Z] [INFO   ] [STREAM] Config result: {
  success: false,
  hasConfig: false,
  configKeys: [],
  finalConfigKeys: [ 'channel', 'message' ],
  fallbackFields: [ 'channel', 'message' ]
}
[2025-10-26T02:29:20.497Z] [INFO   ] [STREAM] Configuring 2 fields for Send Message to Slack: channel, message
[2025-10-26T02:29:20.497Z] [INFO   ] [STREAM] Setting field channel = Select a channel for Send Message to Slack
[2025-10-26T02:29:20.800Z] [INFO   ] [STREAM] Setting field message =  for Send Message to Slack
[2025-10-26T02:29:28.074Z] [INFO   ] [STREAM] Completed node 2 of 2, moving to next iteration
[2025-10-26T02:29:28.075Z] [INFO   ] [STREAM] All nodes configured and tested, sending workflow_complete event
[2025-10-26T02:41:15.921Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 797ms (1900 modules)
[2025-10-26T02:41:16.340Z] [INFO   ] 2025-10-26T02:41:16.339Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/f00d60c3-e12b-4864-8e4b-1ac8252c31b3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12879788940}
[2025-10-26T02:41:16.657Z] [INFO   ] 2025-10-26T02:41:16.657Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:41:17.362Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/collaboration/leave ...
[2025-10-26T02:41:18.373Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload due to a runtime error.
[2025-10-26T02:41:18.792Z] [INFO   ] 2025-10-26T02:41:18.792Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/f00d60c3-e12b-4864-8e4b-1ac8252c31b3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12879791393}
[2025-10-26T02:41:18.841Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 2s (5925 modules)
[2025-10-26T02:41:18.985Z] [INFO   ] 2025-10-26T02:41:18.985Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-26T02:41:18.985Z","headers":{"referer":"check-console"}}
[2025-10-26T02:41:19.263Z] [INFO   ] 2025-10-26T02:41:19.263Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:41:19.263Z"}
[2025-10-26T02:41:19.275Z] [INFO   ] 2025-10-26T02:41:19.274Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:41:19.274Z"}
[2025-10-26T02:41:19.275Z] [INFO   ] 2025-10-26T02:41:19.275Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-26T02:41:19.275Z"}
[2025-10-26T02:41:19.487Z] [ERROR  ] 2025-10-26T02:41:19.487Z [ERROR] Error in leave collaboration: {"code":"ECONNRESET"}
[2025-10-26T02:41:19.565Z] [INFO   ] 2025-10-26T02:41:19.565Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:41:19.570Z] [ERROR  ] 2025-10-26T02:41:19.570Z [ERROR] Error in leave collaboration: {"code":"ECONNRESET"}
[2025-10-26T02:41:19.643Z] [INFO   ] 2025-10-26T02:41:19.643Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:41:20.078Z] [INFO   ] 2025-10-26T02:41:20.078Z [INFO] [NewWorkflowBuilderContent] URL params: {"aiChat":"true","hasInitialPrompt":true,"initialPrompt":"When I get an email send it to slack"}
[2025-10-26T02:41:20.127Z] [INFO   ] 2025-10-26T02:41:20.126Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-26T02:41:20.658Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/presence/count ...
[2025-10-26T02:41:20.702Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/join in 560ms (4274 modules)
[2025-10-26T02:41:21.068Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (4279 modules)
[2025-10-26T02:41:21.169Z] [INFO   ] 2025-10-26T02:41:21.169Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-26T02:41:21.169Z","headers":{"referer":"check-console"}}
[2025-10-26T02:41:21.292Z] [INFO   ] 2025-10-26T02:41:21.292Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:41:21.491Z] [INFO   ] 2025-10-26T02:41:21.491Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-26T02:41:22.791Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/ai/analyze-request ...
[2025-10-26T02:41:23.008Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/ai/analyze-request in 786ms (4281 modules)
[2025-10-26T02:41:23.398Z] [INFO   ] 2025-10-26T02:41:23.397Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:41:24.864Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 441ms (1667 modules)
[2025-10-26T02:41:25.076Z] [INFO   ] 2025-10-26T02:41:25.075Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/f00d60c3-e12b-4864-8e4b-1ac8252c31b3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12879797676}
[2025-10-26T02:41:25.274Z] [INFO   ] 2025-10-26T02:41:25.274Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:41:26.494Z] [INFO   ] 2025-10-26T02:41:26.494Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-26T02:41:31.163Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 348ms (1667 modules)
[2025-10-26T02:41:31.191Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload due to a runtime error.
[2025-10-26T02:41:31.401Z] [INFO   ] 2025-10-26T02:41:31.401Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/f00d60c3-e12b-4864-8e4b-1ac8252c31b3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12879804002}
[2025-10-26T02:41:31.584Z] [INFO   ] 2025-10-26T02:41:31.584Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:41:31.584Z"}
[2025-10-26T02:41:31.584Z] [INFO   ] 2025-10-26T02:41:31.584Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:41:31.584Z"}
[2025-10-26T02:41:31.585Z] [INFO   ] 2025-10-26T02:41:31.584Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-26T02:41:31.584Z"}
[2025-10-26T02:41:31.807Z] [INFO   ] 2025-10-26T02:41:31.807Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:41:32.088Z] [INFO   ] 2025-10-26T02:41:32.088Z [INFO] [NewWorkflowBuilderContent] URL params: {"aiChat":"true","hasInitialPrompt":true,"initialPrompt":"When I get an email send it to slack"}
[2025-10-26T02:41:32.521Z] [INFO   ] 2025-10-26T02:41:32.521Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-26T02:41:32.521Z","headers":{"referer":"check-console"}}
[2025-10-26T02:41:32.686Z] [INFO   ] 2025-10-26T02:41:32.686Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:41:32.810Z] [INFO   ] 2025-10-26T02:41:32.810Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-26T02:41:33.682Z] [INFO   ] 2025-10-26T02:41:33.682Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:41:37.139Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 805ms (1667 modules)
[2025-10-26T02:41:37.305Z] [INFO   ] 2025-10-26T02:41:37.305Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-26T02:41:37.325Z] [INFO   ] 2025-10-26T02:41:37.325Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/f00d60c3-e12b-4864-8e4b-1ac8252c31b3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12879809926}
[2025-10-26T02:41:37.477Z] [INFO   ] 2025-10-26T02:41:37.477Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:41:38.470Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/slack/channels ...
[2025-10-26T02:41:39.298Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/slack/channels in 1819ms (4284 modules)
[2025-10-26T02:41:39.591Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (4286 modules)
[2025-10-26T02:41:40.094Z] [INFO   ] 2025-10-26T02:41:40.094Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:41:40.408Z] [INFO   ] 2025-10-26T02:41:40.408Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:41:40.532Z] [INFO   ] 2025-10-26T02:41:40.532Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":12}
[2025-10-26T02:41:41.144Z] [INFO   ] 2025-10-26T02:41:41.144Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":12}
[2025-10-26T02:42:26.995Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1346ms (5951 modules)
[2025-10-26T02:42:27.053Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload due to a runtime error.
[2025-10-26T02:42:27.349Z] [INFO   ] 2025-10-26T02:42:27.348Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/f00d60c3-e12b-4864-8e4b-1ac8252c31b3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12879859949}
[2025-10-26T02:42:27.660Z] [INFO   ] 2025-10-26T02:42:27.660Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:42:27.659Z"}
[2025-10-26T02:42:27.671Z] [INFO   ] 2025-10-26T02:42:27.671Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:42:27.671Z"}
[2025-10-26T02:42:27.671Z] [INFO   ] 2025-10-26T02:42:27.671Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-26T02:42:27.671Z"}
[2025-10-26T02:42:27.887Z] [INFO   ] 2025-10-26T02:42:27.887Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:42:28.175Z] [INFO   ] 2025-10-26T02:42:28.175Z [INFO] [NewWorkflowBuilderContent] URL params: {"aiChat":"true","hasInitialPrompt":true,"initialPrompt":"When I get an email send it to slack"}
[2025-10-26T02:42:28.850Z] [INFO   ] 2025-10-26T02:42:28.850Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-26T02:42:28.850Z","headers":{"referer":"check-console"}}
[2025-10-26T02:42:28.995Z] [INFO   ] 2025-10-26T02:42:28.994Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:42:29.099Z] [INFO   ] 2025-10-26T02:42:29.099Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-26T02:42:30.101Z] [INFO   ] 2025-10-26T02:42:30.101Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:42:32.752Z] [INFO   ] 2025-10-26T02:42:32.752Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-26T02:42:33.330Z] [INFO   ] 2025-10-26T02:42:33.330Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:42:33.653Z] [INFO   ] 2025-10-26T02:42:33.652Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:42:33.786Z] [INFO   ] 2025-10-26T02:42:33.786Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":12}
[2025-10-26T02:42:34.453Z] [INFO   ] 2025-10-26T02:42:34.453Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":12}
[2025-10-26T02:42:59.938Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/collaborators in 450ms (4284 modules)
[2025-10-26T02:44:27.615Z] [INFO   ] 2025-10-26T02:44:27.614Z [DEBUG] [Middleware] Username check: {"path":"/workflows/ai-agent","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12879980215}
[2025-10-26T02:44:27.922Z] [INFO   ] 2025-10-26T02:44:27.922Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:44:27.922Z"}
[2025-10-26T02:44:27.925Z] [INFO   ] 2025-10-26T02:44:27.925Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-26T02:44:27.925Z"}
[2025-10-26T02:44:27.925Z] [INFO   ] 2025-10-26T02:44:27.925Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-26T02:44:27.925Z"}
[2025-10-26T02:44:28.168Z] [INFO   ] 2025-10-26T02:44:28.168Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:44:31.842Z] [INFO   ] 2025-10-26T02:44:31.842Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-26T02:44:31.842Z","headers":{"referer":"check-console"}}
[2025-10-26T02:44:31.933Z] [INFO   ] 2025-10-26T02:44:31.932Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:44:32.020Z] [INFO   ] 2025-10-26T02:44:32.020Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-26T02:45:00.259Z] [INFO   ] 2025-10-26T02:45:00.259Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/1af90780-ef4f-4295-8616-69b7516055dc","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12880012860}
[2025-10-26T02:45:00.966Z] [INFO   ] 2025-10-26T02:45:00.965Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:45:02.371Z] [INFO   ] 2025-10-26T02:45:02.371Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T02:45:06.172Z] [INFO   ] 2025-10-26T02:45:06.172Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-26T02:45:06.753Z] [INFO   ] 2025-10-26T02:45:06.753Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:45:07.107Z] [INFO   ] 2025-10-26T02:45:07.107Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T02:45:07.217Z] [INFO   ] 2025-10-26T02:45:07.217Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":12}
[2025-10-26T02:45:07.853Z] [INFO   ] 2025-10-26T02:45:07.853Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":12}
[2025-10-26T02:45:10.411Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/ai/stream-workflow in 368ms (812 modules)
[2025-10-26T02:45:10.917Z] [INFO   ] 2025-10-26T02:45:10.916Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/1af90780-ef4f-4295-8616-69b7516055dc","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12880023517}
[2025-10-26T02:45:11.040Z] [INFO   ] 2025-10-26T02:45:11.040Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T02:45:12.215Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/collaboration/leave ...
[2025-10-26T02:45:12.367Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/leave in 1156ms (4284 modules)

=== Log Session Ended: 2025-10-26T02:45:20.762Z ===
