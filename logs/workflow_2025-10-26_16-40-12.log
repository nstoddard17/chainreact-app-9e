=== Log Session Started: 2025-10-26T21:40:12.555Z ===
Node Version: v23.7.0
Platform: darwin
Working Directory: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e
================================================================================

[2025-10-26T21:40:12.555Z] [INFO   ] File logging initialized
[2025-10-26T21:40:12.555Z] [INFO   ] Log file: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-26_16-40-12.log
[2025-10-26T21:40:12.578Z] [INFO   ] Deleted old log file: workflow_2025-10-19_16-28-52.log
[2025-10-26T21:40:12.586Z] [INFO   ] Deleted old log file: workflow_2025-10-19_16-24-32.log
[2025-10-26T21:40:12.599Z] [INFO   ] Deleted old log file: workflow_2025-10-19_16-05-30.log
[2025-10-26T21:40:12.599Z] [INFO   ] üìÅ File logging enabled
[2025-10-26T21:40:12.599Z] [INFO   ] üìù Logs will be written to: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-26_16-40-12.log
[2025-10-26T21:40:12.600Z] [INFO   ] üí° To view logs in real-time: tail -f /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-26_16-40-12.log
[2025-10-26T21:40:12.600Z] [INFO   ] üí° To view all logs: cat /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-26_16-40-12.log
[2025-10-26T21:40:12.600Z] [INFO   ] üí° To share logs: Copy the file at /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-26_16-40-12.log
[2025-10-26T21:40:12.600Z] [INFO   ] --------------------------------------------------------------------------------
[2025-10-26T21:40:12.600Z] [DEBUG  ] üìÅ File logging system initialized
[2025-10-26T21:40:12.609Z] [INFO   ]  [32m[1m‚úì[22m[39m Ready in 3.4s
[2025-10-26T21:40:12.629Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload due to a runtime error.
[2025-10-26T21:40:12.760Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /middleware in 118ms (233 modules)
[2025-10-26T21:40:13.068Z] [INFO   ] 2025-10-26T21:40:13.068Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/f1faeae0-6e7f-4a8a-a68a-9a9d7bad1756","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12948125668}
[2025-10-26T21:40:13.601Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /workflows/builder/[id] ...
[2025-10-26T21:40:13.602Z] [INFO   ] 2025-10-26T21:40:13.602Z [DEBUG] ü§ñ Discord bot configured, initializing gateway connection in background...
[2025-10-26T21:40:15.841Z] [INFO   ] 2025-10-26T21:40:15.841Z [DEBUG] Initializing Discord Gateway connection (singleton)...
[2025-10-26T21:40:15.841Z] [INFO   ] 2025-10-26T21:40:15.841Z [DEBUG] üîë Discord bot token loaded
[2025-10-26T21:40:15.843Z] [INFO   ] 2025-10-26T21:40:15.843Z [DEBUG] [Middleware] Username check: {"path":"/workflows/ai-agent","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12948128444}
[2025-10-26T21:40:16.246Z] [INFO   ] 2025-10-26T21:40:16.246Z [DEBUG] Discord Gateway initialization complete
[2025-10-26T21:40:16.248Z] [INFO   ] 2025-10-26T21:40:16.248Z [DEBUG] ‚úÖ Discord bot gateway connection initialized
[2025-10-26T21:40:16.580Z] [INFO   ] 2025-10-26T21:40:16.580Z [DEBUG] Discord Gateway WebSocket connection established
[2025-10-26T21:40:16.581Z] [INFO   ] 2025-10-26T21:40:16.581Z [DEBUG] üîë Sending identify with intents: {"GUILDS":true,"GUILD_MEMBERS":true,"GUILD_INVITES":true,"GUILD_MESSAGES":true,"MESSAGE_CONTENT":true,"intentsValue":33347}
[2025-10-26T21:40:16.773Z] [INFO   ] 2025-10-26T21:40:16.773Z [DEBUG] üéâ Discord bot ready! {"sessionId":"eb9d1824ae40108fee0543071c65d916","username":"ChainReact-Bot","userId":"1378595955212812308","guildCount":2}
[2025-10-26T21:40:16.773Z] [INFO   ] 2025-10-26T21:40:16.773Z [DEBUG] üìã Initializing invite cache...
[2025-10-26T21:40:16.774Z] [INFO   ] 2025-10-26T21:40:16.774Z [DEBUG] üì° Discord event received: GUILD_CREATE
[2025-10-26T21:40:16.811Z] [INFO   ] 2025-10-26T21:40:16.811Z [DEBUG] üì° Discord event received: GUILD_CREATE
[2025-10-26T21:40:17.019Z] [INFO   ] 2025-10-26T21:40:17.019Z [DEBUG] ‚úÖ Cached 3 invites for guild 1378950884045623406
[2025-10-26T21:40:17.864Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload due to a runtime error.
[2025-10-26T21:40:23.300Z] [ERROR  ]  [31m[1m‚®Ø[22m[39m ./components/workflows/CustomNode.tsx
Error:   [31m√ó[0m Expression expected
     ‚ï≠‚îÄ[[36;1;4m/Users/nathanielstoddard/chainreact-app/chainreact-app-9e/components/workflows/CustomNode.tsx[0m:197:1]
 [2m194[0m ‚îÇ       }
 [2m195[0m ‚îÇ     })
 [2m196[0m ‚îÇ     return map
 [2m197[0m ‚îÇ   }, [component])
     ¬∑ [35;1m   ‚îÄ[0m
 [2m198[0m ‚îÇ   const isSlackSendMessage = type === 'slack_action_send_message'
 [2m199[0m ‚îÇ   const hasMultipleOutputs = ["if_condition", "switch_case", "try_catch"].includes(type)
     ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ

Caused by:
    Syntax Error

Import trace for requested module:
./components/workflows/CustomNode.tsx
./hooks/workflows/useWorkflowNodes.ts
./hooks/workflows/useWorkflowBuilder.ts
./components/workflows/NewWorkflowBuilderContent.tsx
./components/workflows/NewWorkflowBuilderClient.tsx
[2025-10-26T21:40:23.908Z] [ERROR  ]  [31m[1m‚®Ø[22m[39m ./components/workflows/CustomNode.tsx
Error:   [31m√ó[0m Expression expected
     ‚ï≠‚îÄ[[36;1;4m/Users/nathanielstoddard/chainreact-app/chainreact-app-9e/components/workflows/CustomNode.tsx[0m:197:1]
 [2m194[0m ‚îÇ       }
 [2m195[0m ‚îÇ     })
 [2m196[0m ‚îÇ     return map
 [2m197[0m ‚îÇ   }, [component])
     ¬∑ [35;1m   ‚îÄ[0m
 [2m198[0m ‚îÇ   const isSlackSendMessage = type === 'slack_action_send_message'
 [2m199[0m ‚îÇ   const hasMultipleOutputs = ["if_condition", "switch_case", "try_catch"].includes(type)
     ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ

Caused by:
    Syntax Error

Import trace for requested module:
./components/workflows/CustomNode.tsx
./hooks/workflows/useWorkflowNodes.ts
./hooks/workflows/useWorkflowBuilder.ts
./components/workflows/NewWorkflowBuilderContent.tsx
./components/workflows/NewWorkflowBuilderClient.tsx
[2025-10-26T21:40:24.982Z] [ERROR  ]  [31m[1m‚®Ø[22m[39m ./components/workflows/CustomNode.tsx
Error:   [31m√ó[0m Expression expected
     ‚ï≠‚îÄ[[36;1;4m/Users/nathanielstoddard/chainreact-app/chainreact-app-9e/components/workflows/CustomNode.tsx[0m:197:1]
 [2m194[0m ‚îÇ       }
 [2m195[0m ‚îÇ     })
 [2m196[0m ‚îÇ     return map
 [2m197[0m ‚îÇ   }, [component])
     ¬∑ [35;1m   ‚îÄ[0m
 [2m198[0m ‚îÇ   const isSlackSendMessage = type === 'slack_action_send_message'
 [2m199[0m ‚îÇ   const hasMultipleOutputs = ["if_condition", "switch_case", "try_catch"].includes(type)
     ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ

Caused by:
    Syntax Error

Import trace for requested module:
./components/workflows/CustomNode.tsx
./hooks/workflows/useWorkflowNodes.ts
./hooks/workflows/useWorkflowBuilder.ts
./components/workflows/NewWorkflowBuilderContent.tsx
./components/workflows/NewWorkflowBuilderClient.tsx
[2025-10-26T21:41:51.270Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /_error in 1818ms (4588 modules)
[2025-10-26T21:41:51.293Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload due to a runtime error.
[2025-10-26T21:41:51.629Z] [INFO   ] 2025-10-26T21:41:51.629Z [DEBUG] [Middleware] Username check: {"path":"/workflows/ai-agent","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12948224230}
[2025-10-26T21:41:51.908Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/ai-agent in 251ms (3620 modules)
[2025-10-26T21:41:52.253Z] [INFO   ] 2025-10-26T21:41:52.253Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-26T21:41:52.252Z"}
[2025-10-26T21:41:52.256Z] [INFO   ] 2025-10-26T21:41:52.256Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-26T21:41:52.256Z"}
[2025-10-26T21:41:52.256Z] [INFO   ] 2025-10-26T21:41:52.256Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-26T21:41:52.256Z"}
[2025-10-26T21:41:52.544Z] [INFO   ] 2025-10-26T21:41:52.544Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T21:41:53.794Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/presence/count ...
[2025-10-26T21:41:54.583Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/presence/count in 1615ms (5449 modules)
[2025-10-26T21:41:58.340Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 333ms (5451 modules)
[2025-10-26T21:41:58.467Z] [INFO   ] 2025-10-26T21:41:58.467Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-26T21:41:58.467Z","headers":{"referer":"check-console"}}
[2025-10-26T21:41:58.619Z] [INFO   ] 2025-10-26T21:41:58.619Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T21:41:58.775Z] [INFO   ] 2025-10-26T21:41:58.774Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-26T21:42:49.687Z] [INFO   ] 2025-10-26T21:42:49.686Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/232490ac-0d6b-42be-9b7f-2317a8e3fd4b","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12948282287}
[2025-10-26T21:42:50.450Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /workflows/builder/[id] ...
[2025-10-26T21:42:52.279Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/builder/[id] in 2.5s (4768 modules)
[2025-10-26T21:42:53.378Z] [INFO   ] 2025-10-26T21:42:53.378Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T21:42:54.299Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/collaboration/join ...
[2025-10-26T21:42:54.305Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/join in 541ms (6579 modules)
[2025-10-26T21:42:55.008Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/ai/analyze-request in 433ms (6581 modules)
[2025-10-26T21:42:55.225Z] [INFO   ] 2025-10-26T21:42:55.225Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T21:42:58.329Z] [INFO   ] 2025-10-26T21:42:58.329Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-26T21:42:58.945Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/gmail/senders ...
[2025-10-26T21:42:59.339Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/gmail/senders in 894ms (6586 modules)
[2025-10-26T21:42:59.861Z] [INFO   ] 2025-10-26T21:42:59.861Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T21:43:00.269Z] [INFO   ] 2025-10-26T21:43:00.269Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T21:43:00.292Z] [INFO   ] 2025-10-26T21:43:00.292Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-26T21:43:00.917Z] [INFO   ] 2025-10-26T21:43:00.917Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-26T21:43:25.510Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/collaborators in 439ms (6582 modules)
[2025-10-26T21:43:35.240Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/ai/stream-workflow ...
[2025-10-26T21:43:35.638Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/ai/stream-workflow in 900ms (2621 modules)
[2025-10-26T21:43:36.016Z] [INFO   ] 2025-10-26T21:43:36.015Z [DEBUG] [STREAM] Clarifications payload summary {"clarificationKeys":["email_source","reasoning","message_template","slack_channel","answers","details","displayMap"],"detailsCount":1,"answersKeys":["slack_channel"],"hasClarifications":true}
[2025-10-26T21:43:37.254Z] [INFO   ] 2025-10-26T21:43:37.253Z [DEBUG] [Prerequisite Check] Input state {"requiredApps":["gmail","slack"],"connectedIntegrations":["notion","mailchimp","gmail","google-sheets","facebook","trello","slack","google-docs","google-drive","twitter","dropbox","google-calendar","airtable","google_calendar"],"normalizedConnected":["notion","mailchimp","gmail","google-sheets","facebook","trello","slack","google-docs","google-drive","twitter","dropbox","google-calendar","airtable","google_calendar"]}
[2025-10-26T21:43:37.255Z] [INFO   ] 2025-10-26T21:43:37.255Z [DEBUG] [Prerequisite Check] App connection status {"app":"gmail","normalizedRequired":"gmail","isConnected":true}
[2025-10-26T21:43:37.255Z] [INFO   ] 2025-10-26T21:43:37.255Z [DEBUG] [Prerequisite Check] App connection status {"app":"slack","normalizedRequired":"slack","isConnected":true}
[2025-10-26T21:43:41.467Z] [INFO   ] 2025-10-26T21:43:41.467Z [INFO] [STREAM] Auto-inserted Format Transformer nodes {"insertedCount":1}
[2025-10-26T21:43:42.150Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /_not-found ...
[2025-10-26T21:43:42.422Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /_not-found in 784ms (6587 modules)
[2025-10-26T21:43:42.659Z] [INFO   ] 2025-10-26T21:43:42.659Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-26T21:43:42.659Z"}
[2025-10-26T21:43:42.660Z] [INFO   ] 2025-10-26T21:43:42.660Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-26T21:43:42.660Z"}
[2025-10-26T21:43:42.660Z] [INFO   ] 2025-10-26T21:43:42.660Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-26T21:43:42.660Z"}
[2025-10-26T21:43:49.805Z] [INFO   ] 2025-10-26T21:43:49.804Z [DEBUG] [STREAM] Clarifications payload summary {"clarificationKeys":[],"detailsCount":0,"answersKeys":[],"hasClarifications":false}
[2025-10-26T21:43:49.807Z] [INFO   ] 2025-10-26T21:43:49.807Z [INFO] [STREAM] Phase 2: Starting node creation {"nodeCount":3}
[2025-10-26T21:43:49.807Z] [INFO   ] 2025-10-26T21:43:49.807Z [DEBUG] [STREAM] Plan nodes overview {"nodes":[{"type":"gmail_trigger_new_email","title":"Trigger on New Email"},{"type":"format_transformer","title":"Format Transformer"},{"type":"slack_action_send_message","title":"Send Message to Slack"}]}
[2025-10-26T21:43:51.095Z] [INFO   ] 2025-10-26T21:43:51.095Z [DEBUG] [STREAM] Preparing node {"nodeId":"node-1761515029807-0","title":"Trigger on New Email"}
[2025-10-26T21:43:51.898Z] [INFO   ] 2025-10-26T21:43:51.897Z [DEBUG] [STREAM] Starting configuration {"nodeId":"node-1761515029807-0","title":"Trigger on New Email"}
[2025-10-26T21:43:52.400Z] [INFO   ] 2025-10-26T21:43:52.399Z [DEBUG] [STREAM] Calling generateNodeConfig {"title":"Trigger on New Email","nodeId":"node-1761515029807-0","model":"gpt-4o-mini"}
[2025-10-26T21:43:52.402Z] [INFO   ] 2025-10-26T21:43:52.402Z [DEBUG] [generateNodeConfig] Starting configuration {"nodeTitle":"Trigger on New Email","nodeType":"gmail_trigger_new_email","providerId":"gmail"}
[2025-10-26T21:43:52.403Z] [INFO   ] 2025-10-26T21:43:52.403Z [DEBUG] [generateNodeConfig] Clarification context ready {"hasContext":false}
[2025-10-26T21:43:52.403Z] [INFO   ] 2025-10-26T21:43:52.403Z [INFO] [generateNodeConfig] Skipping AI call for trigger {"triggerType":"gmail_trigger_new_email"}
[2025-10-26T21:43:52.404Z] [INFO   ] 2025-10-26T21:43:52.404Z [DEBUG] [STREAM] generateNodeConfig completed {"title":"Trigger on New Email","durationMs":3}
[2025-10-26T21:43:52.405Z] [INFO   ] 2025-10-26T21:43:52.405Z [DEBUG] [STREAM] Config result summary {"success":true,"hasConfig":true,"configKeys":["labelIds"],"finalConfigKeys":["labelIds"],"fallbackFields":[]}
[2025-10-26T21:43:52.406Z] [INFO   ] 2025-10-26T21:43:52.405Z [DEBUG] [STREAM] Applying configuration fields {"title":"Trigger on New Email","fieldCount":1,"fieldKeys":["labelIds"]}
[2025-10-26T21:43:52.406Z] [INFO   ] 2025-10-26T21:43:52.406Z [DEBUG] [STREAM] Setting field value {"title":"Trigger on New Email","fieldKey":"labelIds","fieldValue":["INBOX"]}
[2025-10-26T21:43:53.211Z] [INFO   ] 2025-10-26T21:43:53.210Z [DEBUG] [STREAM] Skipping trigger test {"title":"Trigger on New Email"}
[2025-10-26T21:43:54.714Z] [INFO   ] 2025-10-26T21:43:54.713Z [DEBUG] [STREAM] Trigger block complete; client still connected {"nodeIndex":0}
[2025-10-26T21:43:55.019Z] [INFO   ] 2025-10-26T21:43:55.019Z [DEBUG] [STREAM] Preparing node {"nodeId":"node-1761515029909-1","title":"Format Transformer"}
[2025-10-26T21:43:55.821Z] [INFO   ] 2025-10-26T21:43:55.820Z [DEBUG] [STREAM] Starting configuration {"nodeId":"node-1761515029909-1","title":"Format Transformer"}
[2025-10-26T21:43:56.323Z] [INFO   ] 2025-10-26T21:43:56.323Z [DEBUG] [STREAM] Calling generateNodeConfig {"title":"Format Transformer","nodeId":"node-1761515029909-1","model":"gpt-4o-mini"}
[2025-10-26T21:43:56.324Z] [INFO   ] 2025-10-26T21:43:56.323Z [DEBUG] [generateNodeConfig] Starting configuration {"nodeTitle":"Format Transformer","nodeType":"format_transformer","providerId":"utility"}
[2025-10-26T21:43:56.324Z] [INFO   ] 2025-10-26T21:43:56.324Z [DEBUG] [generateNodeConfig] Clarification context ready {"hasContext":false}
[2025-10-26T21:43:56.325Z] [INFO   ] 2025-10-26T21:43:56.325Z [DEBUG] [generateNodeConfig] Sending prompt to AI model {"model":"gpt-4o-mini"}
[2025-10-26T21:44:00.312Z] [INFO   ] 2025-10-26T21:44:00.312Z [DEBUG] [STREAM] generateNodeConfig completed {"title":"Format Transformer","durationMs":3989}
[2025-10-26T21:44:00.313Z] [INFO   ] 2025-10-26T21:44:00.313Z [DEBUG] [STREAM] Config result summary {"success":true,"hasConfig":true,"configKeys":["content","sourceFormat","targetFormat","preserveVariables"],"finalConfigKeys":["content","sourceFormat","targetFormat","preserveVariables"],"fallbackFields":[]}
[2025-10-26T21:44:00.313Z] [INFO   ] 2025-10-26T21:44:00.313Z [DEBUG] [STREAM] Applying configuration fields {"title":"Format Transformer","fieldCount":4,"fieldKeys":["content","sourceFormat","targetFormat","preserveVariables"]}
[2025-10-26T21:44:00.313Z] [INFO   ] 2025-10-26T21:44:00.313Z [INFO] [STREAM] Auto-mapping telemetry {"nodeId":"node-1761515029909-1","title":"Format Transformer","suggested":1,"applied":1}
[2025-10-26T21:44:00.313Z] [INFO   ] 2025-10-26T21:44:00.313Z [DEBUG] [STREAM] Setting field value {"title":"Format Transformer","fieldKey":"content","fieldValue":"{{trigger.body}}"}
[2025-10-26T21:44:00.620Z] [INFO   ] 2025-10-26T21:44:00.618Z [DEBUG] [STREAM] Setting field value {"title":"Format Transformer","fieldKey":"sourceFormat","fieldValue":"auto"}
[2025-10-26T21:44:00.924Z] [INFO   ] 2025-10-26T21:44:00.924Z [DEBUG] [STREAM] Setting field value {"title":"Format Transformer","fieldKey":"targetFormat","fieldValue":"slack_markdown"}
[2025-10-26T21:44:01.224Z] [INFO   ] 2025-10-26T21:44:01.224Z [DEBUG] [STREAM] Setting field value {"title":"Format Transformer","fieldKey":"preserveVariables","fieldValue":true}
[2025-10-26T21:44:08.803Z] [INFO   ] 2025-10-26T21:44:08.803Z [DEBUG] [STREAM] Preparing node {"nodeId":"node-1761515030042-2","title":"Send Message to Slack"}
[2025-10-26T21:44:09.605Z] [INFO   ] 2025-10-26T21:44:09.605Z [DEBUG] [STREAM] Starting configuration {"nodeId":"node-1761515030042-2","title":"Send Message to Slack"}
[2025-10-26T21:44:10.107Z] [INFO   ] 2025-10-26T21:44:10.107Z [DEBUG] [STREAM] Calling generateNodeConfig {"title":"Send Message to Slack","nodeId":"node-1761515030042-2","model":"gpt-4o-mini"}
[2025-10-26T21:44:10.108Z] [INFO   ] 2025-10-26T21:44:10.108Z [DEBUG] [generateNodeConfig] Starting configuration {"nodeTitle":"Send Message to Slack","nodeType":"slack_action_send_message","providerId":"slack"}
[2025-10-26T21:44:10.108Z] [INFO   ] 2025-10-26T21:44:10.108Z [DEBUG] [generateNodeConfig] Slack clarifications captured {"clarificationFieldValues":{},"clarificationEntries":[]}
[2025-10-26T21:44:10.108Z] [INFO   ] 2025-10-26T21:44:10.108Z [DEBUG] [generateNodeConfig] Clarification context ready {"hasContext":false}
[2025-10-26T21:44:10.109Z] [INFO   ] 2025-10-26T21:44:10.109Z [DEBUG] [generateNodeConfig] Slack auto-mapping entries {"entries":[{"fieldKey":"message","fieldLabel":"Message","value":"{{Format_Transformer.transformedContent}}"},{"fieldKey":"messageType","fieldLabel":"Message Type","value":"{{Format_Transformer.transformedContent}}"},{"fieldKey":"statusMessage","fieldLabel":"Status Message","value":"{{Format_Transformer.transformedContent}}"},{"fieldKey":"approvalDescription","fieldLabel":"Approval Description","value":"{{Format_Transformer.transformedContent}}"}]}
[2025-10-26T21:44:10.109Z] [INFO   ] 2025-10-26T21:44:10.109Z [DEBUG] [generateNodeConfig] Sending prompt to AI model {"model":"gpt-4o-mini"}
[2025-10-26T21:44:13.271Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/workflows/[id] ...
[2025-10-26T21:44:18.639Z] [INFO   ] 2025-10-26T21:44:18.638Z [DEBUG] [STREAM] generateNodeConfig completed {"title":"Send Message to Slack","durationMs":8530}
[2025-10-26T21:44:18.641Z] [INFO   ] 2025-10-26T21:44:18.640Z [DEBUG] [STREAM] Config result summary {"success":true,"hasConfig":true,"configKeys":["channel","message"],"finalConfigKeys":["channel","message"],"fallbackFields":[]}
[2025-10-26T21:44:18.642Z] [INFO   ] 2025-10-26T21:44:18.641Z [DEBUG] [STREAM] Applying configuration fields {"title":"Send Message to Slack","fieldCount":2,"fieldKeys":["channel","message"]}
[2025-10-26T21:44:18.642Z] [INFO   ] 2025-10-26T21:44:18.642Z [INFO] [STREAM] Auto-mapping telemetry {"nodeId":"node-1761515030042-2","title":"Send Message to Slack","suggested":1,"applied":1}
[2025-10-26T21:44:18.642Z] [INFO   ] 2025-10-26T21:44:18.642Z [DEBUG] [STREAM] Setting field value {"title":"Send Message to Slack","fieldKey":"channel","fieldValue":"general"}
[2025-10-26T21:44:19.936Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/workflows/[id] in 7.2s (9060 modules)
[2025-10-26T21:44:21.822Z] [INFO   ] 2025-10-26T21:44:21.822Z [DEBUG] üìù [Workflow API] Updating workflow with body: {"id":"232490ac-0d6b-42be-9b7f-2317a8e3fd4b","name":"New Workflow","hasName":true,"nameType":"string","bodyKeys":["name","description","nodes","connections"],"nodesCount":3,"connectionsCount":2}
[2025-10-26T21:44:22.026Z] [INFO   ] 2025-10-26T21:44:22.025Z [DEBUG] ‚úÖ [Workflow API] Successfully updated workflow: 232490ac-0d6b-42be-9b7f-2317a8e3fd4b
[2025-10-26T21:44:37.971Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 714ms (1826 modules)
[2025-10-26T21:44:38.550Z] [INFO   ] 2025-10-26T21:44:38.549Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/232490ac-0d6b-42be-9b7f-2317a8e3fd4b","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12948391150}
[2025-10-26T21:44:38.846Z] [INFO   ] 2025-10-26T21:44:38.845Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T21:44:40.291Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations ...
[2025-10-26T21:44:42.820Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 3.2s (9064 modules)
[2025-10-26T21:44:43.021Z] [INFO   ] 2025-10-26T21:44:43.021Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-26T21:44:43.021Z","headers":{"referer":"check-console"}}
[2025-10-26T21:44:43.213Z] [INFO   ] 2025-10-26T21:44:43.213Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T21:44:43.304Z] [INFO   ] 2025-10-26T21:44:43.304Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-26T21:44:44.659Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/ai/analyze-request ...
[2025-10-26T21:44:44.681Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/ai/analyze-request in 585ms (7254 modules)
[2025-10-26T21:44:44.891Z] [INFO   ] 2025-10-26T21:44:44.891Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T21:44:48.927Z] [INFO   ] 2025-10-26T21:44:48.926Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-26T21:44:49.815Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/gmail/senders ...
[2025-10-26T21:44:51.962Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/gmail/senders in 2.9s (7256 modules)
[2025-10-26T21:44:52.609Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (7258 modules)
[2025-10-26T21:44:53.211Z] [INFO   ] 2025-10-26T21:44:53.210Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T21:44:53.563Z] [INFO   ] 2025-10-26T21:44:53.562Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T21:44:53.599Z] [INFO   ] 2025-10-26T21:44:53.599Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-26T21:44:54.210Z] [INFO   ] 2025-10-26T21:44:54.210Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-26T21:46:53.979Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/presence/count ...
[2025-10-26T21:46:55.803Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/presence/count in 2.8s (4762 modules)
[2025-10-26T21:49:45.741Z] [INFO   ] 2025-10-26T21:49:45.740Z [DEBUG] [Middleware] Username check: {"path":"/workflows/ai-agent","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12948698341}
[2025-10-26T21:49:46.197Z] [INFO   ] 2025-10-26T21:49:46.197Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-26T21:49:46.197Z"}
[2025-10-26T21:49:46.201Z] [INFO   ] 2025-10-26T21:49:46.201Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-26T21:49:46.201Z"}
[2025-10-26T21:49:46.201Z] [INFO   ] 2025-10-26T21:49:46.201Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-26T21:49:46.201Z"}
[2025-10-26T21:49:46.301Z] [ERROR  ] aborted
Error: aborted
    at abortIncoming (node:_http_server:809:17)
    at socketOnClose (node:_http_server:803:3)
    at Socket.emit (node:events:519:35)
    at TCP.<anonymous> (node:net:351:12)
    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)
[2025-10-26T21:49:46.303Z] [ERROR  ]  [31m[1m‚®Ø[22m[39m uncaughtException: aborted
Error: aborted
    at abortIncoming (node:_http_server:809:17)
    at socketOnClose (node:_http_server:803:3)
    at Socket.emit (node:events:519:35)
    at TCP.<anonymous> (node:net:351:12)
    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)
[2025-10-26T21:49:46.304Z] [ERROR  ]  [31m[1m‚®Ø[22m[39m uncaughtException:  aborted
Error: aborted
    at abortIncoming (node:_http_server:809:17)
    at socketOnClose (node:_http_server:803:3)
    at Socket.emit (node:events:519:35)
    at TCP.<anonymous> (node:net:351:12)
    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)
[2025-10-26T21:49:46.461Z] [INFO   ] 2025-10-26T21:49:46.460Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T21:49:48.019Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/presence/count ...
[2025-10-26T21:49:48.637Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/presence/count in 1543ms (4764 modules)
[2025-10-26T21:49:49.079Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (4766 modules)
[2025-10-26T21:49:52.741Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 265ms (4768 modules)
[2025-10-26T21:49:52.809Z] [INFO   ] 2025-10-26T21:49:52.808Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-26T21:49:52.808Z","headers":{"referer":"check-console"}}
[2025-10-26T21:49:52.957Z] [INFO   ] 2025-10-26T21:49:52.957Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T21:49:53.052Z] [INFO   ] 2025-10-26T21:49:53.052Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-26T21:50:25.925Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 838ms (1822 modules)
[2025-10-26T21:50:26.191Z] [INFO   ] 2025-10-26T21:50:26.191Z [DEBUG] [Middleware] Username check: {"path":"/workflows/ai-agent","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12948738792}
[2025-10-26T21:50:26.331Z] [INFO   ] 2025-10-26T21:50:26.331Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T21:50:42.956Z] [INFO   ] 2025-10-26T21:50:42.956Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/c053f82c-5823-4fee-84d6-a73fcf0044e3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12948755557}
[2025-10-26T21:50:43.414Z] [INFO   ] 2025-10-26T21:50:43.414Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-26T21:50:44.228Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/collaboration/join ...
[2025-10-26T21:50:44.574Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/join in 895ms (4771 modules)
[2025-10-26T21:50:44.971Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/ai/analyze-request in 339ms (4773 modules)
[2025-10-26T21:50:45.598Z] [INFO   ] 2025-10-26T21:50:45.598Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-26T21:50:47.966Z] [INFO   ] 2025-10-26T21:50:47.965Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-26T21:50:48.493Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/gmail/senders in 363ms (4776 modules)
[2025-10-26T21:50:48.800Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (4778 modules)
[2025-10-26T21:50:49.349Z] [INFO   ] 2025-10-26T21:50:49.349Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T21:50:49.716Z] [INFO   ] 2025-10-26T21:50:49.716Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-26T21:50:49.777Z] [INFO   ] 2025-10-26T21:50:49.777Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-26T21:50:50.488Z] [INFO   ] 2025-10-26T21:50:50.488Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-26T21:50:52.517Z] [INFO   ] 2025-10-26T21:50:52.517Z [DEBUG] [STREAM] Clarifications payload summary {"clarificationKeys":["email_source","reasoning","message_template","slack_channel","answers","details","displayMap"],"detailsCount":1,"answersKeys":["slack_channel"],"hasClarifications":true}
[2025-10-26T21:50:54.294Z] [INFO   ] 2025-10-26T21:50:54.294Z [DEBUG] [Prerequisite Check] Input state {"requiredApps":["gmail","slack"],"connectedIntegrations":["notion","mailchimp","gmail","google-sheets","facebook","trello","slack","google-docs","google-drive","twitter","dropbox","google-calendar","airtable","google_calendar"],"normalizedConnected":["notion","mailchimp","gmail","google-sheets","facebook","trello","slack","google-docs","google-drive","twitter","dropbox","google-calendar","airtable","google_calendar"]}
[2025-10-26T21:50:54.295Z] [INFO   ] 2025-10-26T21:50:54.295Z [DEBUG] [Prerequisite Check] App connection status {"app":"gmail","normalizedRequired":"gmail","isConnected":true}
[2025-10-26T21:50:54.295Z] [INFO   ] 2025-10-26T21:50:54.295Z [DEBUG] [Prerequisite Check] App connection status {"app":"slack","normalizedRequired":"slack","isConnected":true}
[2025-10-26T21:50:58.910Z] [INFO   ] 2025-10-26T21:50:58.910Z [INFO] [STREAM] Auto-inserted Format Transformer nodes {"insertedCount":1}
[2025-10-26T21:51:01.121Z] [INFO   ] 2025-10-26T21:51:01.120Z [DEBUG] [STREAM] Clarifications payload summary {"clarificationKeys":[],"detailsCount":0,"answersKeys":[],"hasClarifications":false}
[2025-10-26T21:51:01.121Z] [INFO   ] 2025-10-26T21:51:01.121Z [INFO] [STREAM] Phase 2: Starting node creation {"nodeCount":3}
[2025-10-26T21:51:01.122Z] [INFO   ] 2025-10-26T21:51:01.122Z [DEBUG] [STREAM] Plan nodes overview {"nodes":[{"type":"gmail_trigger_new_email","title":"Trigger on New Email"},{"type":"format_transformer","title":"Format Transformer"},{"type":"slack_action_send_message","title":"Send Message to Slack"}]}
[2025-10-26T21:51:02.332Z] [INFO   ] 2025-10-26T21:51:02.331Z [DEBUG] [STREAM] Preparing node {"nodeId":"node-1761515461122-0","title":"Trigger on New Email"}
[2025-10-26T21:51:03.134Z] [INFO   ] 2025-10-26T21:51:03.134Z [DEBUG] [STREAM] Starting configuration {"nodeId":"node-1761515461122-0","title":"Trigger on New Email"}
[2025-10-26T21:51:03.637Z] [INFO   ] 2025-10-26T21:51:03.636Z [DEBUG] [STREAM] Calling generateNodeConfig {"title":"Trigger on New Email","nodeId":"node-1761515461122-0","model":"gpt-4o-mini"}
[2025-10-26T21:51:03.640Z] [INFO   ] 2025-10-26T21:51:03.640Z [DEBUG] [generateNodeConfig] Starting configuration {"nodeTitle":"Trigger on New Email","nodeType":"gmail_trigger_new_email","providerId":"gmail"}
[2025-10-26T21:51:03.640Z] [INFO   ] 2025-10-26T21:51:03.640Z [DEBUG] [generateNodeConfig] Clarification context ready {"hasContext":false}
[2025-10-26T21:51:03.641Z] [INFO   ] 2025-10-26T21:51:03.641Z [INFO] [generateNodeConfig] Skipping AI call for trigger {"triggerType":"gmail_trigger_new_email"}
[2025-10-26T21:51:03.641Z] [INFO   ] 2025-10-26T21:51:03.641Z [DEBUG] [STREAM] generateNodeConfig completed {"title":"Trigger on New Email","durationMs":3}
[2025-10-26T21:51:03.642Z] [INFO   ] 2025-10-26T21:51:03.642Z [DEBUG] [STREAM] Config result summary {"success":true,"hasConfig":true,"configKeys":["labelIds"],"finalConfigKeys":["labelIds"],"fallbackFields":[]}
[2025-10-26T21:51:03.642Z] [INFO   ] 2025-10-26T21:51:03.642Z [DEBUG] [STREAM] Applying configuration fields {"title":"Trigger on New Email","fieldCount":1,"fieldKeys":["labelIds"]}
[2025-10-26T21:51:03.642Z] [INFO   ] 2025-10-26T21:51:03.642Z [DEBUG] [STREAM] Setting field value {"title":"Trigger on New Email","fieldKey":"labelIds","fieldValue":["INBOX"]}
[2025-10-26T21:51:04.446Z] [INFO   ] 2025-10-26T21:51:04.446Z [DEBUG] [STREAM] Skipping trigger test {"title":"Trigger on New Email"}
[2025-10-26T21:51:05.949Z] [INFO   ] 2025-10-26T21:51:05.949Z [DEBUG] [STREAM] Trigger block complete; client still connected {"nodeIndex":0}
[2025-10-26T21:51:06.253Z] [INFO   ] 2025-10-26T21:51:06.253Z [DEBUG] [STREAM] Preparing node {"nodeId":"node-1761515461223-1","title":"Format Transformer"}
[2025-10-26T21:51:07.055Z] [INFO   ] 2025-10-26T21:51:07.055Z [DEBUG] [STREAM] Starting configuration {"nodeId":"node-1761515461223-1","title":"Format Transformer"}
[2025-10-26T21:51:07.558Z] [INFO   ] 2025-10-26T21:51:07.558Z [DEBUG] [STREAM] Calling generateNodeConfig {"title":"Format Transformer","nodeId":"node-1761515461223-1","model":"gpt-4o-mini"}
[2025-10-26T21:51:07.559Z] [INFO   ] 2025-10-26T21:51:07.559Z [DEBUG] [generateNodeConfig] Starting configuration {"nodeTitle":"Format Transformer","nodeType":"format_transformer","providerId":"utility"}
[2025-10-26T21:51:07.559Z] [INFO   ] 2025-10-26T21:51:07.559Z [DEBUG] [generateNodeConfig] Clarification context ready {"hasContext":false}
[2025-10-26T21:51:07.561Z] [INFO   ] 2025-10-26T21:51:07.561Z [DEBUG] [generateNodeConfig] Sending prompt to AI model {"model":"gpt-4o-mini"}
[2025-10-26T21:51:10.968Z] [INFO   ] 2025-10-26T21:51:10.968Z [DEBUG] [STREAM] generateNodeConfig completed {"title":"Format Transformer","durationMs":3409}
[2025-10-26T21:51:10.968Z] [INFO   ] 2025-10-26T21:51:10.968Z [DEBUG] [STREAM] Config result summary {"success":true,"hasConfig":true,"configKeys":["content","sourceFormat","targetFormat","preserveVariables"],"finalConfigKeys":["content","sourceFormat","targetFormat","preserveVariables"],"fallbackFields":[]}
[2025-10-26T21:51:10.969Z] [INFO   ] 2025-10-26T21:51:10.969Z [DEBUG] [STREAM] Applying configuration fields {"title":"Format Transformer","fieldCount":4,"fieldKeys":["content","sourceFormat","targetFormat","preserveVariables"]}
[2025-10-26T21:51:10.969Z] [INFO   ] 2025-10-26T21:51:10.969Z [INFO] [STREAM] Auto-mapping telemetry {"nodeId":"node-1761515461223-1","title":"Format Transformer","suggested":1,"applied":1}
[2025-10-26T21:51:10.969Z] [INFO   ] 2025-10-26T21:51:10.969Z [DEBUG] [STREAM] Setting field value {"title":"Format Transformer","fieldKey":"content","fieldValue":"{{trigger.body}}"}
[2025-10-26T21:51:11.272Z] [INFO   ] 2025-10-26T21:51:11.272Z [DEBUG] [STREAM] Setting field value {"title":"Format Transformer","fieldKey":"sourceFormat","fieldValue":"auto"}
[2025-10-26T21:51:11.844Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/workflows/[id] ...
[2025-10-26T21:51:11.844Z] [INFO   ] 2025-10-26T21:51:11.844Z [DEBUG] [STREAM] Setting field value {"title":"Format Transformer","fieldKey":"targetFormat","fieldValue":"slack_markdown"}
[2025-10-26T21:51:12.148Z] [INFO   ] 2025-10-26T21:51:12.147Z [DEBUG] [STREAM] Setting field value {"title":"Format Transformer","fieldKey":"preserveVariables","fieldValue":true}
[2025-10-26T21:51:16.419Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/collaborators in 5.4s (7254 modules)
[2025-10-26T21:51:17.408Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (7256 modules)
[2025-10-26T21:51:17.757Z] [INFO   ] 2025-10-26T21:51:17.757Z [DEBUG] üìù [Workflow API] Updating workflow with body: {"id":"c053f82c-5823-4fee-84d6-a73fcf0044e3","name":"New Workflow","hasName":true,"nameType":"string","bodyKeys":["name","description","nodes","connections"],"nodesCount":3,"connectionsCount":2}
[2025-10-26T21:51:18.028Z] [INFO   ] 2025-10-26T21:51:18.028Z [DEBUG] ‚úÖ [Workflow API] Successfully updated workflow: c053f82c-5823-4fee-84d6-a73fcf0044e3
[2025-10-26T21:51:21.870Z] [INFO   ] 2025-10-26T21:51:21.870Z [DEBUG] [STREAM] Preparing node {"nodeId":"node-1761515461324-2","title":"Send Message to Slack"}
[2025-10-26T21:51:22.673Z] [INFO   ] 2025-10-26T21:51:22.673Z [DEBUG] [STREAM] Starting configuration {"nodeId":"node-1761515461324-2","title":"Send Message to Slack"}
[2025-10-26T21:51:23.177Z] [INFO   ] 2025-10-26T21:51:23.177Z [DEBUG] [STREAM] Calling generateNodeConfig {"title":"Send Message to Slack","nodeId":"node-1761515461324-2","model":"gpt-4o-mini"}
[2025-10-26T21:51:23.178Z] [INFO   ] 2025-10-26T21:51:23.178Z [DEBUG] [generateNodeConfig] Starting configuration {"nodeTitle":"Send Message to Slack","nodeType":"slack_action_send_message","providerId":"slack"}
[2025-10-26T21:51:23.179Z] [INFO   ] 2025-10-26T21:51:23.179Z [DEBUG] [generateNodeConfig] Slack clarifications captured {"clarificationFieldValues":{},"clarificationEntries":[]}
[2025-10-26T21:51:23.179Z] [INFO   ] 2025-10-26T21:51:23.179Z [DEBUG] [generateNodeConfig] Clarification context ready {"hasContext":false}
[2025-10-26T21:51:23.181Z] [INFO   ] 2025-10-26T21:51:23.181Z [DEBUG] [generateNodeConfig] Slack auto-mapping entries {"entries":[{"fieldKey":"message","fieldLabel":"Message","value":"{{Format_Transformer.transformedContent}}"},{"fieldKey":"messageType","fieldLabel":"Message Type","value":"{{Format_Transformer.transformedContent}}"},{"fieldKey":"statusMessage","fieldLabel":"Status Message","value":"{{Format_Transformer.transformedContent}}"},{"fieldKey":"approvalDescription","fieldLabel":"Approval Description","value":"{{Format_Transformer.transformedContent}}"}]}
[2025-10-26T21:51:23.182Z] [INFO   ] 2025-10-26T21:51:23.182Z [DEBUG] [generateNodeConfig] Sending prompt to AI model {"model":"gpt-4o-mini"}
[2025-10-26T21:51:30.428Z] [INFO   ] 2025-10-26T21:51:30.428Z [DEBUG] [STREAM] generateNodeConfig completed {"title":"Send Message to Slack","durationMs":7250}
[2025-10-26T21:51:30.429Z] [INFO   ] 2025-10-26T21:51:30.429Z [DEBUG] [STREAM] Config result summary {"success":true,"hasConfig":true,"configKeys":["channel","message"],"finalConfigKeys":["channel","message"],"fallbackFields":[]}
[2025-10-26T21:51:30.429Z] [INFO   ] 2025-10-26T21:51:30.429Z [DEBUG] [STREAM] Applying configuration fields {"title":"Send Message to Slack","fieldCount":2,"fieldKeys":["channel","message"]}
[2025-10-26T21:51:30.429Z] [INFO   ] 2025-10-26T21:51:30.429Z [INFO] [STREAM] Auto-mapping telemetry {"nodeId":"node-1761515461324-2","title":"Send Message to Slack","suggested":1,"applied":1}
[2025-10-26T21:51:30.430Z] [INFO   ] 2025-10-26T21:51:30.430Z [DEBUG] [STREAM] Setting field value {"title":"Send Message to Slack","fieldKey":"channel","fieldValue":"general"}
[2025-10-26T21:51:30.733Z] [INFO   ] 2025-10-26T21:51:30.732Z [DEBUG] [STREAM] Setting field value {"title":"Send Message to Slack","fieldKey":"message","fieldValue":"{{Format_Transformer.transformedContent}}"}
[2025-10-26T21:51:34.278Z] [INFO   ] 2025-10-26T21:51:34.278Z [INFO] [STREAM] All nodes configured and tested, preparing workflow_complete event {"nodeCount":3}
[2025-10-26T21:51:34.280Z] [INFO   ] 2025-10-26T21:51:34.280Z [INFO] [MANUAL QA CHECKLIST] React agent verification summary {"workflowPrompt":"Continue building","connectedIntegrations":["notion","mailchimp","gmail","google-sheets","facebook","trello","slack","google-docs","google-drive","twitter","dropbox","google-calendar","airtable","google_calendar"],"clarificationsFields":0,"nodeCount":3,"nodes":[{"id":"node-1761515461122-0","title":"Trigger on New Email","status":"ready","testStatus":"completed","autoMapping":null},{"id":"node-1761515461223-1","title":"Format Transformer","status":"ready","testStatus":"completed","autoMapping":{"suggested":1,"applied":1,"ignored":0,"fields":[{"key":"content","label":"Content to Transform","suggested":"{{trigger.body}}","actual":"{{trigger.body}}","applied":true}]}},{"id":"node-1761515461324-2","title":"Send Message to Slack","status":"ready","testStatus":"completed","autoMapping":{"suggested":1,"applied":1,"ignored":0,"fields":[{"key":"message","label":"Message","suggested":"{{Format_Transformer.transformedContent}}","actual":"{{Format_Transformer.transformedContent}}","applied":true}]}}],"checklist":["Confirm each node configuration shows the same suggested tokens as listed above (autoMapping.applied).","Verify the SSE `node_configured` events contained `autoMappingTelemetry` and that applied > 0 when suggestions existed.","Open the builder UI and ensure Data Inspector / auto-fill show identical tokens to the server summary.","If a node was tested, validate the test preview matches expectations; for triggers ensure skip messaging appears.","Report any nodes with `status !== \"ready\"` or tests that did not run."]}
[2025-10-26T21:54:47.467Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/presence/count ...
[2025-10-26T21:54:48.542Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/presence/count in 1591ms (4766 modules)
[2025-10-27T00:28:07.073Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/workflows/[id] ...
[2025-10-27T00:28:08.770Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/workflows/[id] in 2.2s (7247 modules)
[2025-10-27T00:28:09.357Z] [INFO   ] 2025-10-27T00:28:09.357Z [DEBUG] üìù [Workflow API] Updating workflow with body: {"id":"c053f82c-5823-4fee-84d6-a73fcf0044e3","name":"New Workflow","hasName":true,"nameType":"string","bodyKeys":["name","description","nodes","connections"],"nodesCount":3,"connectionsCount":2}
[2025-10-27T00:28:09.570Z] [INFO   ] 2025-10-27T00:28:09.570Z [DEBUG] ‚úÖ [Workflow API] Successfully updated workflow: c053f82c-5823-4fee-84d6-a73fcf0044e3
[2025-10-27T00:29:48.521Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/presence/count ...
[2025-10-27T00:29:48.760Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/presence/count in 1749ms (4766 modules)
[2025-10-27T00:41:38.245Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 3.6s (6586 modules)
[2025-10-27T00:41:38.503Z] [INFO   ] 2025-10-27T00:41:38.502Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/c053f82c-5823-4fee-84d6-a73fcf0044e3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12959011103}
[2025-10-27T00:41:39.170Z] [INFO   ] 2025-10-27T00:41:39.170Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-27T00:41:40.217Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/collaboration/leave ...
[2025-10-27T00:41:40.622Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/leave in 1216ms (4766 modules)
[2025-10-27T00:43:17.512Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 3s (6567 modules)
[2025-10-27T00:43:18.312Z] [INFO   ] 2025-10-27T00:43:18.312Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/c053f82c-5823-4fee-84d6-a73fcf0044e3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12959110912}
[2025-10-27T00:43:18.705Z] [INFO   ] 2025-10-27T00:43:18.705Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-27T00:43:19.662Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/collaboration/join ...
[2025-10-27T00:43:19.987Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/join in 840ms (4764 modules)
[2025-10-27T00:43:29.066Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 2.5s (6819 modules)
[2025-10-27T00:43:29.224Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
[2025-10-27T00:43:29.465Z] [INFO   ] 2025-10-27T00:43:29.464Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/c053f82c-5823-4fee-84d6-a73fcf0044e3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12959122065}
[2025-10-27T00:43:29.547Z] [INFO   ] 2025-10-27T00:43:29.546Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/c053f82c-5823-4fee-84d6-a73fcf0044e3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12959122147}
[2025-10-27T00:43:29.747Z] [INFO   ] 2025-10-27T00:43:29.747Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-27T00:43:29.933Z] [INFO   ] 2025-10-27T00:43:29.933Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-27T00:43:29.933Z"}
[2025-10-27T00:43:29.946Z] [INFO   ] 2025-10-27T00:43:29.946Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-27T00:43:29.946Z"}
[2025-10-27T00:43:29.946Z] [INFO   ] 2025-10-27T00:43:29.946Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-27T00:43:29.946Z"}
[2025-10-27T00:43:30.211Z] [INFO   ] 2025-10-27T00:43:30.211Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-27T00:43:30.531Z] [INFO   ] 2025-10-27T00:43:30.531Z [INFO] [NewWorkflowBuilderContent] URL params: {"aiChat":"true","hasInitialPrompt":true,"initialPrompt":"When I get an email send it to slack"}
[2025-10-27T00:43:31.375Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/presence/count ...
[2025-10-27T00:43:32.800Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 1930ms (4767 modules)
[2025-10-27T00:43:33.720Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (4771 modules)
[2025-10-27T00:43:34.116Z] [INFO   ] 2025-10-27T00:43:34.116Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-27T00:43:34.116Z","headers":{"referer":"check-console"}}
[2025-10-27T00:43:34.272Z] [INFO   ] 2025-10-27T00:43:34.272Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:43:34.415Z] [INFO   ] 2025-10-27T00:43:34.415Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-27T00:43:35.582Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/ai/analyze-request in 415ms (4773 modules)
[2025-10-27T00:43:35.801Z] [INFO   ] 2025-10-27T00:43:35.801Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:43:39.685Z] [INFO   ] 2025-10-27T00:43:39.684Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-27T00:43:40.401Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations/gmail/senders ...
[2025-10-27T00:43:40.445Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations/gmail/senders in 563ms (4776 modules)
[2025-10-27T00:43:40.828Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (4778 modules)
[2025-10-27T00:43:41.416Z] [INFO   ] 2025-10-27T00:43:41.416Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:43:41.773Z] [INFO   ] 2025-10-27T00:43:41.773Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:43:41.900Z] [INFO   ] 2025-10-27T00:43:41.900Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:43:42.576Z] [INFO   ] 2025-10-27T00:43:42.576Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:43:49.726Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 2.3s (6600 modules)
[2025-10-27T00:43:49.952Z] [INFO   ] 2025-10-27T00:43:49.952Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/c053f82c-5823-4fee-84d6-a73fcf0044e3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12959142553}
[2025-10-27T00:43:50.245Z] [INFO   ] 2025-10-27T00:43:50.245Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-27T00:43:51.127Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/collaboration/leave ...
[2025-10-27T00:43:51.214Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/leave in 720ms (4780 modules)
[2025-10-27T00:43:51.813Z] [INFO   ] 2025-10-27T00:43:51.813Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:43:53.965Z] [INFO   ] 2025-10-27T00:43:53.964Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-27T00:43:54.531Z] [INFO   ] 2025-10-27T00:43:54.530Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:43:54.890Z] [INFO   ] 2025-10-27T00:43:54.890Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:43:54.970Z] [INFO   ] 2025-10-27T00:43:54.970Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:43:55.726Z] [INFO   ] 2025-10-27T00:43:55.726Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:43:58.044Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1017ms (6602 modules)
[2025-10-27T00:43:58.221Z] [INFO   ] 2025-10-27T00:43:58.221Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/c053f82c-5823-4fee-84d6-a73fcf0044e3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12959150822}
[2025-10-27T00:43:58.490Z] [INFO   ] 2025-10-27T00:43:58.490Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-27T00:43:59.731Z] [INFO   ] 2025-10-27T00:43:59.731Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:44:02.408Z] [INFO   ] 2025-10-27T00:44:02.408Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-27T00:44:03.033Z] [INFO   ] 2025-10-27T00:44:03.032Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:44:03.396Z] [INFO   ] 2025-10-27T00:44:03.396Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:44:03.487Z] [INFO   ] 2025-10-27T00:44:03.486Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:44:04.124Z] [INFO   ] 2025-10-27T00:44:04.124Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:44:27.539Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 690ms (1822 modules)
[2025-10-27T00:44:27.774Z] [INFO   ] 2025-10-27T00:44:27.774Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/c053f82c-5823-4fee-84d6-a73fcf0044e3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12959180375}
[2025-10-27T00:44:27.913Z] [INFO   ] 2025-10-27T00:44:27.913Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-27T00:44:30.556Z] [INFO   ] 2025-10-27T00:44:30.556Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:44:33.421Z] [INFO   ] 2025-10-27T00:44:33.420Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-27T00:44:34.013Z] [INFO   ] 2025-10-27T00:44:34.013Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:44:34.354Z] [INFO   ] 2025-10-27T00:44:34.354Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:44:34.443Z] [INFO   ] 2025-10-27T00:44:34.443Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:44:35.191Z] [INFO   ] 2025-10-27T00:44:35.190Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:45:12.331Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 5.1s (6591 modules)
[2025-10-27T00:45:12.616Z] [INFO   ] 2025-10-27T00:45:12.616Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/c053f82c-5823-4fee-84d6-a73fcf0044e3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12959225217}
[2025-10-27T00:45:12.889Z] [INFO   ] 2025-10-27T00:45:12.888Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-27T00:45:13.941Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/integrations ...
[2025-10-27T00:45:13.983Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 568ms (4773 modules)
[2025-10-27T00:45:15.867Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1755ms (6597 modules)
[2025-10-27T00:45:16.164Z] [INFO   ] 2025-10-27T00:45:16.164Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/c053f82c-5823-4fee-84d6-a73fcf0044e3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12959228764}
[2025-10-27T00:45:16.541Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 0ms (4775 modules)
[2025-10-27T00:45:16.974Z] [INFO   ] 2025-10-27T00:45:16.974Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-27T00:45:16.974Z","headers":{"referer":"check-console"}}
[2025-10-27T00:45:17.202Z] [INFO   ] 2025-10-27T00:45:17.202Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-27T00:45:17.208Z] [INFO   ] 2025-10-27T00:45:17.208Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:45:17.302Z] [INFO   ] 2025-10-27T00:45:17.302Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-27T00:45:18.474Z] [INFO   ] 2025-10-27T00:45:18.474Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:45:22.024Z] [INFO   ] 2025-10-27T00:45:22.024Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-27T00:45:22.758Z] [INFO   ] 2025-10-27T00:45:22.757Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:45:23.138Z] [INFO   ] 2025-10-27T00:45:23.138Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:45:23.217Z] [INFO   ] 2025-10-27T00:45:23.216Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:45:23.856Z] [INFO   ] 2025-10-27T00:45:23.856Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:45:27.498Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1252ms (6597 modules)
[2025-10-27T00:45:27.941Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 0ms (4775 modules)
[2025-10-27T00:45:27.980Z] [INFO   ] 2025-10-27T00:45:27.980Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/c053f82c-5823-4fee-84d6-a73fcf0044e3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12959240581}
[2025-10-27T00:45:28.405Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1ms (4775 modules)
[2025-10-27T00:45:28.825Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1ms (4775 modules)
[2025-10-27T00:45:29.300Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 0ms (4775 modules)
[2025-10-27T00:45:29.423Z] [INFO   ] 2025-10-27T00:45:29.423Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:45:29.920Z] [INFO   ] 2025-10-27T00:45:29.920Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-27T00:45:31.224Z] [INFO   ] 2025-10-27T00:45:31.224Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:45:32.397Z] [INFO   ] 2025-10-27T00:45:32.396Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-27T00:45:34.211Z] [INFO   ] 2025-10-27T00:45:34.211Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-27T00:45:34.847Z] [INFO   ] 2025-10-27T00:45:34.847Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:45:35.209Z] [INFO   ] 2025-10-27T00:45:35.209Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:45:35.296Z] [INFO   ] 2025-10-27T00:45:35.296Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:45:35.915Z] [INFO   ] 2025-10-27T00:45:35.914Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:45:39.506Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 3.2s (6597 modules)
[2025-10-27T00:45:39.685Z] [INFO   ] 2025-10-27T00:45:39.685Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/c053f82c-5823-4fee-84d6-a73fcf0044e3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12959252286}
[2025-10-27T00:45:39.926Z] [INFO   ] 2025-10-27T00:45:39.926Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-27T00:45:40.999Z] [INFO   ] 2025-10-27T00:45:40.999Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:45:43.430Z] [INFO   ] 2025-10-27T00:45:43.430Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-27T00:45:44.020Z] [INFO   ] 2025-10-27T00:45:44.020Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:45:44.342Z] [INFO   ] 2025-10-27T00:45:44.342Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:45:44.413Z] [INFO   ] 2025-10-27T00:45:44.413Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:45:45.021Z] [INFO   ] 2025-10-27T00:45:45.021Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:45:55.904Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1719ms (6597 modules)
[2025-10-27T00:45:56.363Z] [INFO   ] 2025-10-27T00:45:56.363Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/c053f82c-5823-4fee-84d6-a73fcf0044e3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12959268964}
[2025-10-27T00:45:56.405Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1ms (4775 modules)
[2025-10-27T00:45:56.820Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 0ms (4775 modules)
[2025-10-27T00:45:57.207Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 0ms (4775 modules)
[2025-10-27T00:45:57.478Z] [INFO   ] 2025-10-27T00:45:57.478Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-27T00:45:59.255Z] [INFO   ] 2025-10-27T00:45:59.255Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:45:59.823Z] [INFO   ] 2025-10-27T00:45:59.823Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:46:01.290Z] [INFO   ] 2025-10-27T00:46:01.289Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-27T00:46:02.433Z] [INFO   ] 2025-10-27T00:46:02.433Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-27T00:46:02.971Z] [INFO   ] 2025-10-27T00:46:02.971Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:46:03.308Z] [INFO   ] 2025-10-27T00:46:03.308Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:46:03.347Z] [INFO   ] 2025-10-27T00:46:03.347Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:46:04.018Z] [INFO   ] 2025-10-27T00:46:04.018Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:46:05.999Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1175ms (6597 modules)
[2025-10-27T00:46:06.192Z] [INFO   ] 2025-10-27T00:46:06.192Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/c053f82c-5823-4fee-84d6-a73fcf0044e3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12959278792}
[2025-10-27T00:46:06.449Z] [INFO   ] 2025-10-27T00:46:06.449Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-27T00:46:07.519Z] [INFO   ] 2025-10-27T00:46:07.519Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:46:09.884Z] [INFO   ] 2025-10-27T00:46:09.883Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-27T00:46:10.371Z] [INFO   ] 2025-10-27T00:46:10.371Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:46:10.728Z] [INFO   ] 2025-10-27T00:46:10.728Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:46:10.760Z] [INFO   ] 2025-10-27T00:46:10.760Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:46:11.395Z] [INFO   ] 2025-10-27T00:46:11.395Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:46:22.736Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload due to a runtime error.
[2025-10-27T00:46:23.308Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 3.2s (6595 modules)
[2025-10-27T00:46:23.481Z] [INFO   ] 2025-10-27T00:46:23.481Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/c053f82c-5823-4fee-84d6-a73fcf0044e3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12959296082}
[2025-10-27T00:46:23.807Z] [INFO   ] 2025-10-27T00:46:23.807Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-27T00:46:23.807Z"}
[2025-10-27T00:46:23.819Z] [INFO   ] 2025-10-27T00:46:23.819Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-27T00:46:23.819Z"}
[2025-10-27T00:46:23.819Z] [INFO   ] 2025-10-27T00:46:23.819Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-27T00:46:23.819Z"}
[2025-10-27T00:46:24.058Z] [INFO   ] 2025-10-27T00:46:24.058Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-27T00:46:24.352Z] [INFO   ] 2025-10-27T00:46:24.352Z [INFO] [NewWorkflowBuilderContent] URL params: {"aiChat":"true","hasInitialPrompt":true,"initialPrompt":"When I get an email send it to slack"}
[2025-10-27T00:46:25.198Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/presence/count ...
[2025-10-27T00:46:27.928Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 3.3s (4776 modules)
[2025-10-27T00:46:30.551Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled (4780 modules)
[2025-10-27T00:46:30.750Z] [INFO   ] 2025-10-27T00:46:30.749Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-27T00:46:30.749Z","headers":{"referer":"check-console"}}
[2025-10-27T00:46:30.893Z] [INFO   ] 2025-10-27T00:46:30.893Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:46:30.999Z] [INFO   ] 2025-10-27T00:46:30.999Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-27T00:46:32.034Z] [INFO   ] 2025-10-27T00:46:32.034Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:46:34.797Z] [INFO   ] 2025-10-27T00:46:34.797Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-27T00:46:35.294Z] [WARN   ]  [33m[1m‚ö†[22m[39m Fast Refresh had to perform a full reload due to a runtime error.
[2025-10-27T00:46:35.790Z] [INFO   ] 2025-10-27T00:46:35.790Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/c053f82c-5823-4fee-84d6-a73fcf0044e3","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12959308391}
[2025-10-27T00:46:35.850Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 1660ms (6602 modules)
[2025-10-27T00:46:36.241Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 0ms (4780 modules)
[2025-10-27T00:46:36.663Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 0ms (4780 modules)
[2025-10-27T00:46:36.901Z] [INFO   ] 2025-10-27T00:46:36.901Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-27T00:46:36.900Z"}
[2025-10-27T00:46:36.901Z] [INFO   ] 2025-10-27T00:46:36.901Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-27T00:46:36.901Z"}
[2025-10-27T00:46:36.901Z] [INFO   ] 2025-10-27T00:46:36.901Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-27T00:46:36.901Z"}
[2025-10-27T00:46:37.380Z] [INFO   ] 2025-10-27T00:46:37.379Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:46:37.713Z] [INFO   ] 2025-10-27T00:46:37.712Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-27T00:46:38.461Z] [INFO   ] 2025-10-27T00:46:38.461Z [INFO] [NewWorkflowBuilderContent] URL params: {"aiChat":"true","hasInitialPrompt":true,"initialPrompt":"When I get an email send it to slack"}
[2025-10-27T00:46:39.196Z] [ERROR  ] 2025-10-27T00:46:39.196Z [ERROR] Error in leave collaboration: {}
[2025-10-27T00:46:39.876Z] [INFO   ] 2025-10-27T00:46:39.876Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-27T00:46:39.876Z","headers":{"referer":"check-console"}}
[2025-10-27T00:46:40.040Z] [INFO   ] 2025-10-27T00:46:40.040Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:46:40.086Z] [INFO   ] 2025-10-27T00:46:40.085Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:46:40.205Z] [INFO   ] 2025-10-27T00:46:40.205Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-27T00:46:41.205Z] [INFO   ] 2025-10-27T00:46:41.205Z [INFO] [ANALYZE] Analyzing user request: {"prompt":"When I get an email send it to slack","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-27T00:46:43.986Z] [INFO   ] 2025-10-27T00:46:43.986Z [INFO] [ANALYZE] Analysis complete: {"needsClarification":true,"questions":[{"id":"slack_channel","question":"Which Slack channel would you like to send messages to?","fieldType":"dropdown","dataEndpoint":"/api/integrations/slack/channels","nodeType":"slack_action_send_message","configField":"channel","required":true},{"id":"email_sender_filter","question":"Would you like to filter emails by sender? (Optional)","fieldType":"dropdown","dataEndpoint":"/api/integrations/gmail/senders","nodeType":"gmail_trigger_new_email","configField":"from","required":false,"allowCustom":true,"isMultiSelect":true,"tooltip":"Select one or more recent senders, or type custom email addresses. The workflow will trigger for emails from any of the selected senders."},{"id":"email_keywords_filter","question":"Would you like to filter emails by keywords? (Optional)","fieldType":"text","nodeType":"gmail_trigger_new_email","configField":"keywords","required":false,"tooltip":"Enter keywords to search for in both the subject and body of emails. Examples: 'invoice', 'urgent report', 'meeting'. Separate multiple keywords with commas to match any of them. The workflow will trigger when an email contains any of these keywords in either the subject or body."}],"inferredData":{"email_source":"gmail","reasoning":"User has only Gmail connected","message_template":"New email from {{trigger.from}}\n\nSubject: {{trigger.subject}}\n\nBody:\n{{trigger.body}}"}}
[2025-10-27T00:46:44.567Z] [INFO   ] 2025-10-27T00:46:44.566Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:46:44.931Z] [INFO   ] 2025-10-27T00:46:44.931Z [INFO] [SLACK CHANNELS] Fetched channels: {"count":3}
[2025-10-27T00:46:44.965Z] [INFO   ] 2025-10-27T00:46:44.965Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:46:45.638Z] [INFO   ] 2025-10-27T00:46:45.638Z [INFO] [GMAIL SENDERS] Fetched senders: {"count":13}
[2025-10-27T00:47:11.098Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/collaboration/collaborators ...
[2025-10-27T00:47:11.126Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/collaborators in 560ms (4782 modules)
[2025-10-27T00:59:17.359Z] [INFO   ] 2025-10-27T00:59:17.358Z [DEBUG] [Middleware] Username check: {"path":"/workflows/ai-agent","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12960069958}
[2025-10-27T00:59:17.765Z] [INFO   ] 2025-10-27T00:59:17.765Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-27T00:59:17.765Z"}
[2025-10-27T00:59:17.769Z] [INFO   ] 2025-10-27T00:59:17.769Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-27T00:59:17.769Z"}
[2025-10-27T00:59:17.769Z] [INFO   ] 2025-10-27T00:59:17.769Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-27T00:59:17.769Z"}
[2025-10-27T00:59:17.987Z] [INFO   ] 2025-10-27T00:59:17.986Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}

=== Log Session Ended: 2025-10-27T00:59:20.127Z ===
