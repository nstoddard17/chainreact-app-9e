=== Log Session Started: 2025-10-25T13:53:00.419Z ===
Node Version: v23.7.0
Platform: darwin
Working Directory: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e
================================================================================

[2025-10-25T13:53:00.419Z] [INFO   ] File logging initialized
[2025-10-25T13:53:00.419Z] [INFO   ] Log file: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-25_08-53-00.log
[2025-10-25T13:53:00.425Z] [INFO   ] Deleted old log file: workflow_2025-10-18_08-13-27.log
[2025-10-25T13:53:00.427Z] [INFO   ] Deleted old log file: workflow_2025-10-17_22-09-06.log
[2025-10-25T13:53:00.427Z] [INFO   ] üìÅ File logging enabled
[2025-10-25T13:53:00.427Z] [INFO   ] üìù Logs will be written to: /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-25_08-53-00.log
[2025-10-25T13:53:00.427Z] [INFO   ] üí° To view logs in real-time: tail -f /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-25_08-53-00.log
[2025-10-25T13:53:00.427Z] [INFO   ] üí° To view all logs: cat /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-25_08-53-00.log
[2025-10-25T13:53:00.428Z] [INFO   ] üí° To share logs: Copy the file at /Users/nathanielstoddard/chainreact-app/chainreact-app-9e/logs/workflow_2025-10-25_08-53-00.log
[2025-10-25T13:53:00.428Z] [INFO   ] --------------------------------------------------------------------------------
[2025-10-25T13:53:00.428Z] [DEBUG  ] üìÅ File logging system initialized
[2025-10-25T13:53:00.444Z] [INFO   ]  [32m[1m‚úì[22m[39m Ready in 3.1s
[2025-10-25T13:53:01.496Z] [INFO   ] 2025-10-25T13:53:01.496Z [DEBUG] ü§ñ Discord bot configured, initializing gateway connection in background...
[2025-10-25T13:53:03.348Z] [INFO   ] 2025-10-25T13:53:03.348Z [DEBUG] Initializing Discord Gateway connection (singleton)...
[2025-10-25T13:53:03.348Z] [INFO   ] 2025-10-25T13:53:03.348Z [DEBUG] üîë Discord bot token loaded
[2025-10-25T13:53:03.568Z] [INFO   ] 2025-10-25T13:53:03.568Z [DEBUG] Discord Gateway initialization complete
[2025-10-25T13:53:03.569Z] [INFO   ] 2025-10-25T13:53:03.569Z [DEBUG] ‚úÖ Discord bot gateway connection initialized
[2025-10-25T13:53:03.766Z] [INFO   ] 2025-10-25T13:53:03.766Z [DEBUG] Discord Gateway WebSocket connection established
[2025-10-25T13:53:03.767Z] [INFO   ] 2025-10-25T13:53:03.767Z [DEBUG] üîë Sending identify with intents: {"GUILDS":true,"GUILD_MEMBERS":true,"GUILD_INVITES":true,"GUILD_MESSAGES":true,"MESSAGE_CONTENT":true,"intentsValue":33347}
[2025-10-25T13:53:03.911Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /middleware in 173ms (233 modules)
[2025-10-25T13:53:04.006Z] [INFO   ] 2025-10-25T13:53:04.006Z [DEBUG] üéâ Discord bot ready! {"sessionId":"95454694ac98fdaf414f6eb82fe516f8","username":"ChainReact-Bot","userId":"1378595955212812308","guildCount":2}
[2025-10-25T13:53:04.007Z] [INFO   ] 2025-10-25T13:53:04.007Z [DEBUG] üìã Initializing invite cache...
[2025-10-25T13:53:04.007Z] [INFO   ] 2025-10-25T13:53:04.007Z [DEBUG] üì° Discord event received: GUILD_CREATE
[2025-10-25T13:53:04.007Z] [INFO   ] 2025-10-25T13:53:04.007Z [DEBUG] üì° Discord event received: GUILD_CREATE
[2025-10-25T13:53:04.253Z] [INFO   ] 2025-10-25T13:53:04.253Z [DEBUG] [Middleware] Username check: {"path":"/workflows/ai-agent","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12833696854}
[2025-10-25T13:53:04.302Z] [INFO   ] 2025-10-25T13:53:04.302Z [DEBUG] ‚úÖ Cached 3 invites for guild 1378950884045623406
[2025-10-25T13:53:04.787Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /workflows/ai-agent ...
[2025-10-25T13:53:08.230Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/ai-agent in 3.9s (3725 modules)
[2025-10-25T13:53:08.678Z] [INFO   ] 2025-10-25T13:53:08.678Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-25T13:53:08.677Z"}
[2025-10-25T13:53:08.681Z] [INFO   ] 2025-10-25T13:53:08.681Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-25T13:53:08.681Z"}
[2025-10-25T13:53:08.681Z] [INFO   ] 2025-10-25T13:53:08.681Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-25T13:53:08.681Z"}
[2025-10-25T13:53:09.132Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled in 883ms (597 modules)
[2025-10-25T13:53:09.285Z] [INFO   ] 2025-10-25T13:53:09.285Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-25T13:53:10.397Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/presence/count ...
[2025-10-25T13:53:10.497Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/presence/count in 618ms (3732 modules)
[2025-10-25T13:53:14.787Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/integrations in 329ms (3734 modules)
[2025-10-25T13:53:14.928Z] [INFO   ] 2025-10-25T13:53:14.928Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-25T13:53:14.928Z","headers":{"referer":"check-console"}}
[2025-10-25T13:53:15.044Z] [INFO   ] 2025-10-25T13:53:15.044Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-25T13:53:15.136Z] [INFO   ] 2025-10-25T13:53:15.136Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-25T13:54:02.890Z] [INFO   ] 2025-10-25T13:54:02.889Z [DEBUG] [Middleware] Username check: {"path":"/workflows/ai-agent","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12833755490}
[2025-10-25T13:54:03.198Z] [INFO   ] 2025-10-25T13:54:03.198Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-25T13:54:03.198Z"}
[2025-10-25T13:54:03.201Z] [INFO   ] 2025-10-25T13:54:03.201Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-25T13:54:03.201Z"}
[2025-10-25T13:54:03.201Z] [INFO   ] 2025-10-25T13:54:03.201Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-25T13:54:03.201Z"}
[2025-10-25T13:54:03.455Z] [INFO   ] 2025-10-25T13:54:03.454Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-25T13:54:07.507Z] [INFO   ] 2025-10-25T13:54:07.506Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-25T13:54:07.506Z","headers":{"referer":"check-console"}}
[2025-10-25T13:54:07.589Z] [INFO   ] 2025-10-25T13:54:07.589Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-25T13:54:07.679Z] [INFO   ] 2025-10-25T13:54:07.679Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-25T13:54:07.799Z] [INFO   ] 2025-10-25T13:54:07.799Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/f323e5f5-5818-478f-9d9a-e8f9b3c25d37","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12833760400}
[2025-10-25T13:54:08.353Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /workflows/builder/[id] ...
[2025-10-25T13:54:10.574Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /workflows/builder/[id] in 2.7s (5925 modules)
[2025-10-25T13:54:11.892Z] [INFO   ] 2025-10-25T13:54:11.891Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-25T13:54:12.716Z] [INFO   ] 2025-10-25T13:54:12.716Z [DEBUG] [Middleware] Username check: {"path":"/workflows/builder/f323e5f5-5818-478f-9d9a-e8f9b3c25d37","userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","provider":"email","role":"free","username":"nstoddard17","hasUsername":true,"isBetaTester":false,"isNewBetaUser":false,"accountAge":12833765316}
[2025-10-25T13:54:12.895Z] [INFO   ] 2025-10-25T13:54:12.895Z [DEBUG] üíß [AUTH] Rehydrating auth state from storage {"hasState":true,"hasUser":false,"initialized":false,"timestamp":"2025-10-25T13:54:12.895Z"}
[2025-10-25T13:54:12.907Z] [INFO   ] 2025-10-25T13:54:12.906Z [DEBUG] üíß [AUTH] State hydrated and reset {"hasUser":false,"initialized":false,"timestamp":"2025-10-25T13:54:12.906Z"}
[2025-10-25T13:54:12.907Z] [INFO   ] 2025-10-25T13:54:12.907Z [DEBUG] ‚è≠Ô∏è [AUTH] Skipping initialization {"hasState":true,"alreadyInitialized":false,"isClient":false,"timestamp":"2025-10-25T13:54:12.907Z"}
[2025-10-25T13:54:13.120Z] [INFO   ] 2025-10-25T13:54:13.120Z [DEBUG] [Username Check] {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0","hasEmail":true,"provider":"email","hasUsername":true,"isGoogleUser":false}
[2025-10-25T13:54:13.528Z] [INFO   ] 2025-10-25T13:54:13.528Z [INFO] [NewWorkflowBuilderContent] URL params: {"aiChat":"true","hasInitialPrompt":true,"initialPrompt":"when I get an email send it to slack"}
[2025-10-25T13:54:14.741Z] [INFO   ] 2025-10-25T13:54:14.741Z [DEBUG] üìç [API /api/integrations] GET request received {"timestamp":"2025-10-25T13:54:14.741Z","headers":{"referer":"check-console"}}
[2025-10-25T13:54:14.881Z] [INFO   ] 2025-10-25T13:54:14.881Z [DEBUG] ‚úÖ [API /api/integrations] User authenticated {"userId":"a3e3a51a-175c-4b59-ad03-227ba12a18b0"}
[2025-10-25T13:54:14.980Z] [INFO   ] 2025-10-25T13:54:14.980Z [DEBUG] üìä [API /api/integrations] Query result {"count":14,"error":null,"firstFew":[{"provider":"notion","status":"connected"},{"provider":"mailchimp","status":"connected"}]}
[2025-10-25T13:54:15.282Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/collaboration/join ...
[2025-10-25T13:54:15.513Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/join in 738ms (5928 modules)
[2025-10-25T13:54:16.455Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/ai/stream-workflow ...
[2025-10-25T13:54:16.462Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/ai/stream-workflow in 560ms (2465 modules)
[2025-10-25T13:54:18.892Z] [INFO   ] [Prerequisite Check] Required apps: [ 'gmail', 'slack' ]
[2025-10-25T13:54:18.893Z] [INFO   ] [Prerequisite Check] Connected integrations: [
  'notion',
  'mailchimp',
  'gmail',
  'google-sheets',
  'facebook',
  'google-drive',
  'trello',
  'slack',
  'google-docs',
  'dropbox',
  'twitter',
  'google-calendar',
  'airtable',
  'google_calendar'
]
[2025-10-25T13:54:18.893Z] [INFO   ] [Prerequisite Check] Normalized connected: [
  'notion',
  'mailchimp',
  'gmail',
  'google-sheets',
  'facebook',
  'google-drive',
  'trello',
  'slack',
  'google-docs',
  'dropbox',
  'twitter',
  'google-calendar',
  'airtable',
  'google_calendar'
]
[2025-10-25T13:54:18.894Z] [INFO   ] [Prerequisite Check] Checking gmail (normalized: gmail): CONNECTED
[2025-10-25T13:54:18.894Z] [INFO   ] [Prerequisite Check] Checking slack (normalized: slack): CONNECTED
[2025-10-25T13:54:24.999Z] [INFO   ] [STREAM] Phase 2: Starting node creation, plan: {
  understanding: 'The user wants to automatically send any new email they receive to a Slack channel.',
  nodes: [
  {
  type: 'gmail_trigger_new_email',
  title: 'Trigger on New Email',
  description: 'Triggers the workflow whenever a new email is received in the user\'s Gmail account.',
  reasoning: 'This node is essential to initiate the workflow based on the user\'s requirement of handling new emails.'
},
  {
  type: 'slack_action_send_message',
  title: 'Send Message to Slack',
  description: 'Sends a message to a specified Slack channel with the content of the new email.',
  reasoning: 'This node is needed to fulfill the user\'s request to send the email content to Slack.'
}
],
  connections: 'The workflow starts with the \'gmail_trigger_new_email\' node, which triggers the \'slack_action_send_message\' node to send the email content to Slack.'
}
[2025-10-25T13:54:25.002Z] [INFO   ] [STREAM] Plan nodes: [
  {
  type: 'gmail_trigger_new_email',
  title: 'Trigger on New Email',
  description: 'Triggers the workflow whenever a new email is received in the user\'s Gmail account.',
  reasoning: 'This node is essential to initiate the workflow based on the user\'s requirement of handling new emails.'
},
  {
  type: 'slack_action_send_message',
  title: 'Send Message to Slack',
  description: 'Sends a message to a specified Slack channel with the content of the new email.',
  reasoning: 'This node is needed to fulfill the user\'s request to send the email content to Slack.'
}
]
[2025-10-25T13:54:25.002Z] [INFO   ] [POSITION] Node 0 : {
  viewport: { width: 271, height: 852, zoom: 0.75, chatPanelWidth: 1000 },
  effectiveViewportWidth: 1694.6666666666667,
  builderViewportWidth: 361.3333333333333,
  visibleHeight: 1136,
  availableWidth: 490,
  nodesPerRow: 1,
  row: 0,
  col: 0,
  position: { x: 60, y: 80 }
}
[2025-10-25T13:54:25.108Z] [INFO   ] [POSITION] Node 1 : {
  viewport: { width: 271, height: 852, zoom: 0.75, chatPanelWidth: 1000 },
  effectiveViewportWidth: 1694.6666666666667,
  builderViewportWidth: 361.3333333333333,
  visibleHeight: 1136,
  availableWidth: 490,
  nodesPerRow: 1,
  row: 1,
  col: 0,
  position: { x: 60, y: 480 }
}
[2025-10-25T13:54:26.064Z] [INFO   ] [STREAM] Preparing Trigger on New Email (node-1761400465002-0)
[2025-10-25T13:54:26.867Z] [INFO   ] [STREAM] Starting configuration for Trigger on New Email (node-1761400465002-0)
[2025-10-25T13:54:35.897Z] [INFO   ] [STREAM] Config result: {
  success: true,
  hasConfig: true,
  configKeys: [ 'node_type', 'trigger', 'options' ],
  finalConfigKeys: [ 'node_type', 'trigger', 'options', 'from' ],
  fallbackFields: [ 'from' ]
}
[2025-10-25T13:54:35.898Z] [INFO   ] [STREAM] Configuring 4 fields for Trigger on New Email: node_type, trigger, options, from
[2025-10-25T13:54:35.898Z] [INFO   ] [STREAM] Setting field node_type = gmail_trigger_new_email for Trigger on New Email
[2025-10-25T13:54:36.200Z] [INFO   ] [STREAM] Setting field trigger = [object Object] for Trigger on New Email
[2025-10-25T13:54:36.502Z] [INFO   ] [STREAM] Setting field options = [object Object] for Trigger on New Email
[2025-10-25T13:54:36.806Z] [INFO   ] [STREAM] Setting field from = inbox@placeholder.com for Trigger on New Email
[2025-10-25T13:54:37.610Z] [INFO   ] [STREAM] Skipping test for trigger Trigger on New Email
[2025-10-25T13:54:39.415Z] [INFO   ] [STREAM] Preparing Send Message to Slack (node-1761400465108-1)
[2025-10-25T13:54:40.216Z] [INFO   ] [STREAM] Starting configuration for Send Message to Slack (node-1761400465108-1)
[2025-10-25T13:54:46.639Z] [INFO   ]  [37m[1m‚óã[22m[39m Compiling /api/collaboration/collaborators ...
[2025-10-25T13:54:46.832Z] [INFO   ]  [32m[1m‚úì[22m[39m Compiled /api/collaboration/collaborators in 696ms (5930 modules)
[2025-10-25T13:55:12.785Z] [WARN   ]  [33m[1m‚ö†[22m[39m Found a change in next.config.mjs. Restarting the server to apply the changes...
